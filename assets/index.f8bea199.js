(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const P of document.querySelectorAll('link[rel="modulepreload"]'))H(P);new MutationObserver(P=>{for(const n of P)if(n.type==="childList")for(const y of n.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&H(y)}).observe(document,{childList:!0,subtree:!0});function R(P){const n={};return P.integrity&&(n.integrity=P.integrity),P.referrerpolicy&&(n.referrerPolicy=P.referrerpolicy),P.crossorigin==="use-credentials"?n.credentials="include":P.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function H(P){if(P.ep)return;P.ep=!0;const n=R(P);fetch(P.href,n)}})();function ni(_,C){const R=Object.create(null),H=_.split(",");for(let P=0;P<H.length;P++)R[H[P]]=!0;return C?P=>!!R[P.toLowerCase()]:P=>!!R[P]}const Tt={},Se=[],Kt=()=>{},Fr=()=>!1,$r=/^on[^a-z]/,fn=_=>$r.test(_),ii=_=>_.startsWith("onUpdate:"),Nt=Object.assign,oi=(_,C)=>{const R=_.indexOf(C);R>-1&&_.splice(R,1)},Br=Object.prototype.hasOwnProperty,xt=(_,C)=>Br.call(_,C),gt=Array.isArray,Fe=_=>pn(_)==="[object Map]",Vr=_=>pn(_)==="[object Set]",mt=_=>typeof _=="function",jt=_=>typeof _=="string",ri=_=>typeof _=="symbol",Dt=_=>_!==null&&typeof _=="object",mo=_=>Dt(_)&&mt(_.then)&&mt(_.catch),zr=Object.prototype.toString,pn=_=>zr.call(_),Wr=_=>pn(_).slice(8,-1),Gr=_=>pn(_)==="[object Object]",si=_=>jt(_)&&_!=="NaN"&&_[0]!=="-"&&""+parseInt(_,10)===_,on=ni(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_n=_=>{const C=Object.create(null);return R=>C[R]||(C[R]=_(R))},Ur=/-(\w)/g,ee=_n(_=>_.replace(Ur,(C,R)=>R?R.toUpperCase():"")),qr=/\B([A-Z])/g,De=_n(_=>_.replace(qr,"-$1").toLowerCase()),gn=_n(_=>_.charAt(0).toUpperCase()+_.slice(1)),Hn=_n(_=>_?`on${gn(_)}`:""),ln=(_,C)=>!Object.is(_,C),Nn=(_,C)=>{for(let R=0;R<_.length;R++)_[R](C)},cn=(_,C,R)=>{Object.defineProperty(_,C,{configurable:!0,enumerable:!1,value:R})},Yr=_=>{const C=parseFloat(_);return isNaN(C)?_:C};let Bi;const zn=()=>Bi||(Bi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ai(_){if(gt(_)){const C={};for(let R=0;R<_.length;R++){const H=_[R],P=jt(H)?Zr(H):ai(H);if(P)for(const n in P)C[n]=P[n]}return C}else{if(jt(_))return _;if(Dt(_))return _}}const Kr=/;(?![^(]*\))/g,Xr=/:([^]+)/,Jr=/\/\*[^]*?\*\//g;function Zr(_){const C={};return _.replace(Jr,"").split(Kr).forEach(R=>{if(R){const H=R.split(Xr);H.length>1&&(C[H[0].trim()]=H[1].trim())}}),C}function li(_){let C="";if(jt(_))C=_;else if(gt(_))for(let R=0;R<_.length;R++){const H=li(_[R]);H&&(C+=H+" ")}else if(Dt(_))for(const R in _)_[R]&&(C+=R+" ");return C.trim()}const Qr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ts=ni(Qr);function yo(_){return!!_||_===""}let Gt;class es{constructor(C=!1){this.detached=C,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Gt,!C&&Gt&&(this.index=(Gt.scopes||(Gt.scopes=[])).push(this)-1)}get active(){return this._active}run(C){if(this._active){const R=Gt;try{return Gt=this,C()}finally{Gt=R}}}on(){Gt=this}off(){Gt=this.parent}stop(C){if(this._active){let R,H;for(R=0,H=this.effects.length;R<H;R++)this.effects[R].stop();for(R=0,H=this.cleanups.length;R<H;R++)this.cleanups[R]();if(this.scopes)for(R=0,H=this.scopes.length;R<H;R++)this.scopes[R].stop(!0);if(!this.detached&&this.parent&&!C){const P=this.parent.scopes.pop();P&&P!==this&&(this.parent.scopes[this.index]=P,P.index=this.index)}this.parent=void 0,this._active=!1}}}function ns(_,C=Gt){C&&C.active&&C.effects.push(_)}function is(){return Gt}const ci=_=>{const C=new Set(_);return C.w=0,C.n=0,C},xo=_=>(_.w&fe)>0,bo=_=>(_.n&fe)>0,os=({deps:_})=>{if(_.length)for(let C=0;C<_.length;C++)_[C].w|=fe},rs=_=>{const{deps:C}=_;if(C.length){let R=0;for(let H=0;H<C.length;H++){const P=C[H];xo(P)&&!bo(P)?P.delete(_):C[R++]=P,P.w&=~fe,P.n&=~fe}C.length=R}},Wn=new WeakMap;let je=0,fe=1;const Gn=30;let Ut;const ye=Symbol(""),Un=Symbol("");class ui{constructor(C,R=null,H){this.fn=C,this.scheduler=R,this.active=!0,this.deps=[],this.parent=void 0,ns(this,H)}run(){if(!this.active)return this.fn();let C=Ut,R=ue;for(;C;){if(C===this)return;C=C.parent}try{return this.parent=Ut,Ut=this,ue=!0,fe=1<<++je,je<=Gn?os(this):Vi(this),this.fn()}finally{je<=Gn&&rs(this),fe=1<<--je,Ut=this.parent,ue=R,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ut===this?this.deferStop=!0:this.active&&(Vi(this),this.onStop&&this.onStop(),this.active=!1)}}function Vi(_){const{deps:C}=_;if(C.length){for(let R=0;R<C.length;R++)C[R].delete(_);C.length=0}}let ue=!0;const wo=[];function Pe(){wo.push(ue),ue=!1}function Re(){const _=wo.pop();ue=_===void 0?!0:_}function Vt(_,C,R){if(ue&&Ut){let H=Wn.get(_);H||Wn.set(_,H=new Map);let P=H.get(R);P||H.set(R,P=ci()),ko(P)}}function ko(_,C){let R=!1;je<=Gn?bo(_)||(_.n|=fe,R=!xo(_)):R=!_.has(Ut),R&&(_.add(Ut),Ut.deps.push(_))}function re(_,C,R,H,P,n){const y=Wn.get(_);if(!y)return;let m=[];if(C==="clear")m=[...y.values()];else if(R==="length"&&gt(_)){const b=Number(H);y.forEach((p,i)=>{(i==="length"||i>=b)&&m.push(p)})}else switch(R!==void 0&&m.push(y.get(R)),C){case"add":gt(_)?si(R)&&m.push(y.get("length")):(m.push(y.get(ye)),Fe(_)&&m.push(y.get(Un)));break;case"delete":gt(_)||(m.push(y.get(ye)),Fe(_)&&m.push(y.get(Un)));break;case"set":Fe(_)&&m.push(y.get(ye));break}if(m.length===1)m[0]&&qn(m[0]);else{const b=[];for(const p of m)p&&b.push(...p);qn(ci(b))}}function qn(_,C){const R=gt(_)?_:[..._];for(const H of R)H.computed&&zi(H);for(const H of R)H.computed||zi(H)}function zi(_,C){(_!==Ut||_.allowRecurse)&&(_.scheduler?_.scheduler():_.run())}const ss=ni("__proto__,__v_isRef,__isVue"),Co=new Set(Object.getOwnPropertyNames(Symbol).filter(_=>_!=="arguments"&&_!=="caller").map(_=>Symbol[_]).filter(ri)),as=di(),ls=di(!1,!0),cs=di(!0),Wi=us();function us(){const _={};return["includes","indexOf","lastIndexOf"].forEach(C=>{_[C]=function(...R){const H=kt(this);for(let n=0,y=this.length;n<y;n++)Vt(H,"get",n+"");const P=H[C](...R);return P===-1||P===!1?H[C](...R.map(kt)):P}}),["push","pop","shift","unshift","splice"].forEach(C=>{_[C]=function(...R){Pe();const H=kt(this)[C].apply(this,R);return Re(),H}}),_}function ds(_){const C=kt(this);return Vt(C,"has",_),C.hasOwnProperty(_)}function di(_=!1,C=!1){return function(H,P,n){if(P==="__v_isReactive")return!_;if(P==="__v_isReadonly")return _;if(P==="__v_isShallow")return C;if(P==="__v_raw"&&n===(_?C?Ts:Io:C?Mo:To).get(H))return H;const y=gt(H);if(!_){if(y&&xt(Wi,P))return Reflect.get(Wi,P,n);if(P==="hasOwnProperty")return ds}const m=Reflect.get(H,P,n);return(ri(P)?Co.has(P):ss(P))||(_||Vt(H,"get",P),C)?m:$t(m)?y&&si(P)?m:m.value:Dt(m)?_?Oo(m):pi(m):m}}const hs=Eo(),fs=Eo(!0);function Eo(_=!1){return function(R,H,P,n){let y=R[H];if(Ve(y)&&$t(y)&&!$t(P))return!1;if(!_&&(!Yn(P)&&!Ve(P)&&(y=kt(y),P=kt(P)),!gt(R)&&$t(y)&&!$t(P)))return y.value=P,!0;const m=gt(R)&&si(H)?Number(H)<R.length:xt(R,H),b=Reflect.set(R,H,P,n);return R===kt(n)&&(m?ln(P,y)&&re(R,"set",H,P):re(R,"add",H,P)),b}}function ps(_,C){const R=xt(_,C);_[C];const H=Reflect.deleteProperty(_,C);return H&&R&&re(_,"delete",C,void 0),H}function _s(_,C){const R=Reflect.has(_,C);return(!ri(C)||!Co.has(C))&&Vt(_,"has",C),R}function gs(_){return Vt(_,"iterate",gt(_)?"length":ye),Reflect.ownKeys(_)}const So={get:as,set:hs,deleteProperty:ps,has:_s,ownKeys:gs},vs={get:cs,set(_,C){return!0},deleteProperty(_,C){return!0}},ms=Nt({},So,{get:ls,set:fs}),hi=_=>_,vn=_=>Reflect.getPrototypeOf(_);function Je(_,C,R=!1,H=!1){_=_.__v_raw;const P=kt(_),n=kt(C);R||(C!==n&&Vt(P,"get",C),Vt(P,"get",n));const{has:y}=vn(P),m=H?hi:R?vi:gi;if(y.call(P,C))return m(_.get(C));if(y.call(P,n))return m(_.get(n));_!==P&&_.get(C)}function Ze(_,C=!1){const R=this.__v_raw,H=kt(R),P=kt(_);return C||(_!==P&&Vt(H,"has",_),Vt(H,"has",P)),_===P?R.has(_):R.has(_)||R.has(P)}function Qe(_,C=!1){return _=_.__v_raw,!C&&Vt(kt(_),"iterate",ye),Reflect.get(_,"size",_)}function Gi(_){_=kt(_);const C=kt(this);return vn(C).has.call(C,_)||(C.add(_),re(C,"add",_,_)),this}function Ui(_,C){C=kt(C);const R=kt(this),{has:H,get:P}=vn(R);let n=H.call(R,_);n||(_=kt(_),n=H.call(R,_));const y=P.call(R,_);return R.set(_,C),n?ln(C,y)&&re(R,"set",_,C):re(R,"add",_,C),this}function qi(_){const C=kt(this),{has:R,get:H}=vn(C);let P=R.call(C,_);P||(_=kt(_),P=R.call(C,_)),H&&H.call(C,_);const n=C.delete(_);return P&&re(C,"delete",_,void 0),n}function Yi(){const _=kt(this),C=_.size!==0,R=_.clear();return C&&re(_,"clear",void 0,void 0),R}function tn(_,C){return function(H,P){const n=this,y=n.__v_raw,m=kt(y),b=C?hi:_?vi:gi;return!_&&Vt(m,"iterate",ye),y.forEach((p,i)=>H.call(P,b(p),b(i),n))}}function en(_,C,R){return function(...H){const P=this.__v_raw,n=kt(P),y=Fe(n),m=_==="entries"||_===Symbol.iterator&&y,b=_==="keys"&&y,p=P[_](...H),i=R?hi:C?vi:gi;return!C&&Vt(n,"iterate",b?Un:ye),{next(){const{value:e,done:o}=p.next();return o?{value:e,done:o}:{value:m?[i(e[0]),i(e[1])]:i(e),done:o}},[Symbol.iterator](){return this}}}}function le(_){return function(...C){return _==="delete"?!1:this}}function ys(){const _={get(n){return Je(this,n)},get size(){return Qe(this)},has:Ze,add:Gi,set:Ui,delete:qi,clear:Yi,forEach:tn(!1,!1)},C={get(n){return Je(this,n,!1,!0)},get size(){return Qe(this)},has:Ze,add:Gi,set:Ui,delete:qi,clear:Yi,forEach:tn(!1,!0)},R={get(n){return Je(this,n,!0)},get size(){return Qe(this,!0)},has(n){return Ze.call(this,n,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:tn(!0,!1)},H={get(n){return Je(this,n,!0,!0)},get size(){return Qe(this,!0)},has(n){return Ze.call(this,n,!0)},add:le("add"),set:le("set"),delete:le("delete"),clear:le("clear"),forEach:tn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{_[n]=en(n,!1,!1),R[n]=en(n,!0,!1),C[n]=en(n,!1,!0),H[n]=en(n,!0,!0)}),[_,R,C,H]}const[xs,bs,ws,ks]=ys();function fi(_,C){const R=C?_?ks:ws:_?bs:xs;return(H,P,n)=>P==="__v_isReactive"?!_:P==="__v_isReadonly"?_:P==="__v_raw"?H:Reflect.get(xt(R,P)&&P in H?R:H,P,n)}const Cs={get:fi(!1,!1)},Es={get:fi(!1,!0)},Ss={get:fi(!0,!1)},To=new WeakMap,Mo=new WeakMap,Io=new WeakMap,Ts=new WeakMap;function Ms(_){switch(_){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Is(_){return _.__v_skip||!Object.isExtensible(_)?0:Ms(Wr(_))}function pi(_){return Ve(_)?_:_i(_,!1,So,Cs,To)}function Os(_){return _i(_,!1,ms,Es,Mo)}function Oo(_){return _i(_,!0,vs,Ss,Io)}function _i(_,C,R,H,P){if(!Dt(_)||_.__v_raw&&!(C&&_.__v_isReactive))return _;const n=P.get(_);if(n)return n;const y=Is(_);if(y===0)return _;const m=new Proxy(_,y===2?H:R);return P.set(_,m),m}function Te(_){return Ve(_)?Te(_.__v_raw):!!(_&&_.__v_isReactive)}function Ve(_){return!!(_&&_.__v_isReadonly)}function Yn(_){return!!(_&&_.__v_isShallow)}function Do(_){return Te(_)||Ve(_)}function kt(_){const C=_&&_.__v_raw;return C?kt(C):_}function Po(_){return cn(_,"__v_skip",!0),_}const gi=_=>Dt(_)?pi(_):_,vi=_=>Dt(_)?Oo(_):_;function Ds(_){ue&&Ut&&(_=kt(_),ko(_.dep||(_.dep=ci())))}function Ps(_,C){_=kt(_);const R=_.dep;R&&qn(R)}function $t(_){return!!(_&&_.__v_isRef===!0)}function Rs(_){return $t(_)?_.value:_}const As={get:(_,C,R)=>Rs(Reflect.get(_,C,R)),set:(_,C,R,H)=>{const P=_[C];return $t(P)&&!$t(R)?(P.value=R,!0):Reflect.set(_,C,R,H)}};function Ro(_){return Te(_)?_:new Proxy(_,As)}class Hs{constructor(C,R,H,P){this._setter=R,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ui(C,()=>{this._dirty||(this._dirty=!0,Ps(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!P,this.__v_isReadonly=H}get value(){const C=kt(this);return Ds(C),(C._dirty||!C._cacheable)&&(C._dirty=!1,C._value=C.effect.run()),C._value}set value(C){this._setter(C)}}function Ns(_,C,R=!1){let H,P;const n=mt(_);return n?(H=_,P=Kt):(H=_.get,P=_.set),new Hs(H,P,n||!P,R)}function de(_,C,R,H){let P;try{P=H?_(...H):_()}catch(n){mn(n,C,R)}return P}function Xt(_,C,R,H){if(mt(_)){const n=de(_,C,R,H);return n&&mo(n)&&n.catch(y=>{mn(y,C,R)}),n}const P=[];for(let n=0;n<_.length;n++)P.push(Xt(_[n],C,R,H));return P}function mn(_,C,R,H=!0){const P=C?C.vnode:null;if(C){let n=C.parent;const y=C.proxy,m=R;for(;n;){const p=n.ec;if(p){for(let i=0;i<p.length;i++)if(p[i](_,y,m)===!1)return}n=n.parent}const b=C.appContext.config.errorHandler;if(b){de(b,null,10,[_,y,m]);return}}js(_,R,P,H)}function js(_,C,R,H=!0){console.error(_)}let ze=!1,Kn=!1;const Lt=[];let te=0;const Me=[];let ie=null,ve=0;const Ao=Promise.resolve();let mi=null;function Ls(_){const C=mi||Ao;return _?C.then(this?_.bind(this):_):C}function Fs(_){let C=te+1,R=Lt.length;for(;C<R;){const H=C+R>>>1;We(Lt[H])<_?C=H+1:R=H}return C}function yi(_){(!Lt.length||!Lt.includes(_,ze&&_.allowRecurse?te+1:te))&&(_.id==null?Lt.push(_):Lt.splice(Fs(_.id),0,_),Ho())}function Ho(){!ze&&!Kn&&(Kn=!0,mi=Ao.then(jo))}function $s(_){const C=Lt.indexOf(_);C>te&&Lt.splice(C,1)}function Bs(_){gt(_)?Me.push(..._):(!ie||!ie.includes(_,_.allowRecurse?ve+1:ve))&&Me.push(_),Ho()}function Ki(_,C=ze?te+1:0){for(;C<Lt.length;C++){const R=Lt[C];R&&R.pre&&(Lt.splice(C,1),C--,R())}}function No(_){if(Me.length){const C=[...new Set(Me)];if(Me.length=0,ie){ie.push(...C);return}for(ie=C,ie.sort((R,H)=>We(R)-We(H)),ve=0;ve<ie.length;ve++)ie[ve]();ie=null,ve=0}}const We=_=>_.id==null?1/0:_.id,Vs=(_,C)=>{const R=We(_)-We(C);if(R===0){if(_.pre&&!C.pre)return-1;if(C.pre&&!_.pre)return 1}return R};function jo(_){Kn=!1,ze=!0,Lt.sort(Vs);const C=Kt;try{for(te=0;te<Lt.length;te++){const R=Lt[te];R&&R.active!==!1&&de(R,null,14)}}finally{te=0,Lt.length=0,No(),ze=!1,mi=null,(Lt.length||Me.length)&&jo()}}function zs(_,C,...R){if(_.isUnmounted)return;const H=_.vnode.props||Tt;let P=R;const n=C.startsWith("update:"),y=n&&C.slice(7);if(y&&y in H){const i=`${y==="modelValue"?"model":y}Modifiers`,{number:e,trim:o}=H[i]||Tt;o&&(P=R.map(h=>jt(h)?h.trim():h)),e&&(P=R.map(Yr))}let m,b=H[m=Hn(C)]||H[m=Hn(ee(C))];!b&&n&&(b=H[m=Hn(De(C))]),b&&Xt(b,_,6,P);const p=H[m+"Once"];if(p){if(!_.emitted)_.emitted={};else if(_.emitted[m])return;_.emitted[m]=!0,Xt(p,_,6,P)}}function Lo(_,C,R=!1){const H=C.emitsCache,P=H.get(_);if(P!==void 0)return P;const n=_.emits;let y={},m=!1;if(!mt(_)){const b=p=>{const i=Lo(p,C,!0);i&&(m=!0,Nt(y,i))};!R&&C.mixins.length&&C.mixins.forEach(b),_.extends&&b(_.extends),_.mixins&&_.mixins.forEach(b)}return!n&&!m?(Dt(_)&&H.set(_,null),null):(gt(n)?n.forEach(b=>y[b]=null):Nt(y,n),Dt(_)&&H.set(_,y),y)}function yn(_,C){return!_||!fn(C)?!1:(C=C.slice(2).replace(/Once$/,""),xt(_,C[0].toLowerCase()+C.slice(1))||xt(_,De(C))||xt(_,C))}let qt=null,Fo=null;function un(_){const C=qt;return qt=_,Fo=_&&_.type.__scopeId||null,C}function Ws(_,C=qt,R){if(!C||_._n)return _;const H=(...P)=>{H._d&&so(-1);const n=un(C);let y;try{y=_(...P)}finally{un(n),H._d&&so(1)}return y};return H._n=!0,H._c=!0,H._d=!0,H}function jn(_){const{type:C,vnode:R,proxy:H,withProxy:P,props:n,propsOptions:[y],slots:m,attrs:b,emit:p,render:i,renderCache:e,data:o,setupState:h,ctx:s,inheritAttrs:f}=_;let l,g;const d=un(_);try{if(R.shapeFlag&4){const a=P||H;l=Qt(i.call(a,a,e,n,h,o,s)),g=b}else{const a=C;l=Qt(a.length>1?a(n,{attrs:b,slots:m,emit:p}):a(n,null)),g=C.props?b:Gs(b)}}catch(a){Be.length=0,mn(a,_,1),l=he(Ge)}let t=l;if(g&&f!==!1){const a=Object.keys(g),{shapeFlag:u}=t;a.length&&u&7&&(y&&a.some(ii)&&(g=Us(g,y)),t=Ie(t,g))}return R.dirs&&(t=Ie(t),t.dirs=t.dirs?t.dirs.concat(R.dirs):R.dirs),R.transition&&(t.transition=R.transition),l=t,un(d),l}const Gs=_=>{let C;for(const R in _)(R==="class"||R==="style"||fn(R))&&((C||(C={}))[R]=_[R]);return C},Us=(_,C)=>{const R={};for(const H in _)(!ii(H)||!(H.slice(9)in C))&&(R[H]=_[H]);return R};function qs(_,C,R){const{props:H,children:P,component:n}=_,{props:y,children:m,patchFlag:b}=C,p=n.emitsOptions;if(C.dirs||C.transition)return!0;if(R&&b>=0){if(b&1024)return!0;if(b&16)return H?Xi(H,y,p):!!y;if(b&8){const i=C.dynamicProps;for(let e=0;e<i.length;e++){const o=i[e];if(y[o]!==H[o]&&!yn(p,o))return!0}}}else return(P||m)&&(!m||!m.$stable)?!0:H===y?!1:H?y?Xi(H,y,p):!0:!!y;return!1}function Xi(_,C,R){const H=Object.keys(C);if(H.length!==Object.keys(_).length)return!0;for(let P=0;P<H.length;P++){const n=H[P];if(C[n]!==_[n]&&!yn(R,n))return!0}return!1}function Ys({vnode:_,parent:C},R){for(;C&&C.subTree===_;)(_=C.vnode).el=R,C=C.parent}const Ks=_=>_.__isSuspense;function Xs(_,C){C&&C.pendingBranch?gt(_)?C.effects.push(..._):C.effects.push(_):Bs(_)}const nn={};function Ln(_,C,R){return $o(_,C,R)}function $o(_,C,{immediate:R,deep:H,flush:P,onTrack:n,onTrigger:y}=Tt){var m;const b=is()===((m=Ht)==null?void 0:m.scope)?Ht:null;let p,i=!1,e=!1;if($t(_)?(p=()=>_.value,i=Yn(_)):Te(_)?(p=()=>_,H=!0):gt(_)?(e=!0,i=_.some(a=>Te(a)||Yn(a)),p=()=>_.map(a=>{if($t(a))return a.value;if(Te(a))return Ee(a);if(mt(a))return de(a,b,2)})):mt(_)?C?p=()=>de(_,b,2):p=()=>{if(!(b&&b.isUnmounted))return o&&o(),Xt(_,b,3,[h])}:p=Kt,C&&H){const a=p;p=()=>Ee(a())}let o,h=a=>{o=d.onStop=()=>{de(a,b,4)}},s;if(qe)if(h=Kt,C?R&&Xt(C,b,3,[p(),e?[]:void 0,h]):p(),P==="sync"){const a=Xa();s=a.__watcherHandles||(a.__watcherHandles=[])}else return Kt;let f=e?new Array(_.length).fill(nn):nn;const l=()=>{if(!!d.active)if(C){const a=d.run();(H||i||(e?a.some((u,r)=>ln(u,f[r])):ln(a,f)))&&(o&&o(),Xt(C,b,3,[a,f===nn?void 0:e&&f[0]===nn?[]:f,h]),f=a)}else d.run()};l.allowRecurse=!!C;let g;P==="sync"?g=l:P==="post"?g=()=>Bt(l,b&&b.suspense):(l.pre=!0,b&&(l.id=b.uid),g=()=>yi(l));const d=new ui(p,g);C?R?l():f=d.run():P==="post"?Bt(d.run.bind(d),b&&b.suspense):d.run();const t=()=>{d.stop(),b&&b.scope&&oi(b.scope.effects,d)};return s&&s.push(t),t}function Js(_,C,R){const H=this.proxy,P=jt(_)?_.includes(".")?Bo(H,_):()=>H[_]:_.bind(H,H);let n;mt(C)?n=C:(n=C.handler,R=C);const y=Ht;Oe(this);const m=$o(P,n.bind(H),R);return y?Oe(y):xe(),m}function Bo(_,C){const R=C.split(".");return()=>{let H=_;for(let P=0;P<R.length&&H;P++)H=H[R[P]];return H}}function Ee(_,C){if(!Dt(_)||_.__v_skip||(C=C||new Set,C.has(_)))return _;if(C.add(_),$t(_))Ee(_.value,C);else if(gt(_))for(let R=0;R<_.length;R++)Ee(_[R],C);else if(Vr(_)||Fe(_))_.forEach(R=>{Ee(R,C)});else if(Gr(_))for(const R in _)Ee(_[R],C);return _}function _e(_,C,R,H){const P=_.dirs,n=C&&C.dirs;for(let y=0;y<P.length;y++){const m=P[y];n&&(m.oldValue=n[y].value);let b=m.dir[H];b&&(Pe(),Xt(b,R,8,[_.el,m,_,C]),Re())}}const rn=_=>!!_.type.__asyncLoader,Vo=_=>_.type.__isKeepAlive;function Zs(_,C){zo(_,"a",C)}function Qs(_,C){zo(_,"da",C)}function zo(_,C,R=Ht){const H=_.__wdc||(_.__wdc=()=>{let P=R;for(;P;){if(P.isDeactivated)return;P=P.parent}return _()});if(xn(C,H,R),R){let P=R.parent;for(;P&&P.parent;)Vo(P.parent.vnode)&&ta(H,C,R,P),P=P.parent}}function ta(_,C,R,H){const P=xn(C,_,H,!0);Wo(()=>{oi(H[C],P)},R)}function xn(_,C,R=Ht,H=!1){if(R){const P=R[_]||(R[_]=[]),n=C.__weh||(C.__weh=(...y)=>{if(R.isUnmounted)return;Pe(),Oe(R);const m=Xt(C,R,_,y);return xe(),Re(),m});return H?P.unshift(n):P.push(n),n}}const se=_=>(C,R=Ht)=>(!qe||_==="sp")&&xn(_,(...H)=>C(...H),R),ea=se("bm"),na=se("m"),ia=se("bu"),oa=se("u"),ra=se("bum"),Wo=se("um"),sa=se("sp"),aa=se("rtg"),la=se("rtc");function ca(_,C=Ht){xn("ec",_,C)}const Go="components";function ua(_,C){return ha(Go,_,!0,C)||_}const da=Symbol.for("v-ndc");function ha(_,C,R=!0,H=!1){const P=qt||Ht;if(P){const n=P.type;if(_===Go){const m=Ua(n,!1);if(m&&(m===C||m===ee(C)||m===gn(ee(C))))return n}const y=Ji(P[_]||n[_],C)||Ji(P.appContext[_],C);return!y&&H?n:y}}function Ji(_,C){return _&&(_[C]||_[ee(C)]||_[gn(ee(C))])}const Xn=_=>_?or(_)?Ci(_)||_.proxy:Xn(_.parent):null,$e=Nt(Object.create(null),{$:_=>_,$el:_=>_.vnode.el,$data:_=>_.data,$props:_=>_.props,$attrs:_=>_.attrs,$slots:_=>_.slots,$refs:_=>_.refs,$parent:_=>Xn(_.parent),$root:_=>Xn(_.root),$emit:_=>_.emit,$options:_=>xi(_),$forceUpdate:_=>_.f||(_.f=()=>yi(_.update)),$nextTick:_=>_.n||(_.n=Ls.bind(_.proxy)),$watch:_=>Js.bind(_)}),Fn=(_,C)=>_!==Tt&&!_.__isScriptSetup&&xt(_,C),fa={get({_},C){const{ctx:R,setupState:H,data:P,props:n,accessCache:y,type:m,appContext:b}=_;let p;if(C[0]!=="$"){const h=y[C];if(h!==void 0)switch(h){case 1:return H[C];case 2:return P[C];case 4:return R[C];case 3:return n[C]}else{if(Fn(H,C))return y[C]=1,H[C];if(P!==Tt&&xt(P,C))return y[C]=2,P[C];if((p=_.propsOptions[0])&&xt(p,C))return y[C]=3,n[C];if(R!==Tt&&xt(R,C))return y[C]=4,R[C];Jn&&(y[C]=0)}}const i=$e[C];let e,o;if(i)return C==="$attrs"&&Vt(_,"get",C),i(_);if((e=m.__cssModules)&&(e=e[C]))return e;if(R!==Tt&&xt(R,C))return y[C]=4,R[C];if(o=b.config.globalProperties,xt(o,C))return o[C]},set({_},C,R){const{data:H,setupState:P,ctx:n}=_;return Fn(P,C)?(P[C]=R,!0):H!==Tt&&xt(H,C)?(H[C]=R,!0):xt(_.props,C)||C[0]==="$"&&C.slice(1)in _?!1:(n[C]=R,!0)},has({_:{data:_,setupState:C,accessCache:R,ctx:H,appContext:P,propsOptions:n}},y){let m;return!!R[y]||_!==Tt&&xt(_,y)||Fn(C,y)||(m=n[0])&&xt(m,y)||xt(H,y)||xt($e,y)||xt(P.config.globalProperties,y)},defineProperty(_,C,R){return R.get!=null?_._.accessCache[C]=0:xt(R,"value")&&this.set(_,C,R.value,null),Reflect.defineProperty(_,C,R)}};function Zi(_){return gt(_)?_.reduce((C,R)=>(C[R]=null,C),{}):_}let Jn=!0;function pa(_){const C=xi(_),R=_.proxy,H=_.ctx;Jn=!1,C.beforeCreate&&Qi(C.beforeCreate,_,"bc");const{data:P,computed:n,methods:y,watch:m,provide:b,inject:p,created:i,beforeMount:e,mounted:o,beforeUpdate:h,updated:s,activated:f,deactivated:l,beforeDestroy:g,beforeUnmount:d,destroyed:t,unmounted:a,render:u,renderTracked:r,renderTriggered:c,errorCaptured:v,serverPrefetch:x,expose:w,inheritAttrs:k,components:S,directives:T,filters:E}=C;if(p&&_a(p,H,null),y)for(const I in y){const D=y[I];mt(D)&&(H[I]=D.bind(R))}if(P){const I=P.call(R,R);Dt(I)&&(_.data=pi(I))}if(Jn=!0,n)for(const I in n){const D=n[I],A=mt(D)?D.bind(R,R):mt(D.get)?D.get.bind(R,R):Kt,F=!mt(D)&&mt(D.set)?D.set.bind(R):Kt,U=Ya({get:A,set:F});Object.defineProperty(H,I,{enumerable:!0,configurable:!0,get:()=>U.value,set:j=>U.value=j})}if(m)for(const I in m)Uo(m[I],H,R,I);if(b){const I=mt(b)?b.call(R):b;Reflect.ownKeys(I).forEach(D=>{ba(D,I[D])})}i&&Qi(i,_,"c");function O(I,D){gt(D)?D.forEach(A=>I(A.bind(R))):D&&I(D.bind(R))}if(O(ea,e),O(na,o),O(ia,h),O(oa,s),O(Zs,f),O(Qs,l),O(ca,v),O(la,r),O(aa,c),O(ra,d),O(Wo,a),O(sa,x),gt(w))if(w.length){const I=_.exposed||(_.exposed={});w.forEach(D=>{Object.defineProperty(I,D,{get:()=>R[D],set:A=>R[D]=A})})}else _.exposed||(_.exposed={});u&&_.render===Kt&&(_.render=u),k!=null&&(_.inheritAttrs=k),S&&(_.components=S),T&&(_.directives=T)}function _a(_,C,R=Kt){gt(_)&&(_=Zn(_));for(const H in _){const P=_[H];let n;Dt(P)?"default"in P?n=sn(P.from||H,P.default,!0):n=sn(P.from||H):n=sn(P),$t(n)?Object.defineProperty(C,H,{enumerable:!0,configurable:!0,get:()=>n.value,set:y=>n.value=y}):C[H]=n}}function Qi(_,C,R){Xt(gt(_)?_.map(H=>H.bind(C.proxy)):_.bind(C.proxy),C,R)}function Uo(_,C,R,H){const P=H.includes(".")?Bo(R,H):()=>R[H];if(jt(_)){const n=C[_];mt(n)&&Ln(P,n)}else if(mt(_))Ln(P,_.bind(R));else if(Dt(_))if(gt(_))_.forEach(n=>Uo(n,C,R,H));else{const n=mt(_.handler)?_.handler.bind(R):C[_.handler];mt(n)&&Ln(P,n,_)}}function xi(_){const C=_.type,{mixins:R,extends:H}=C,{mixins:P,optionsCache:n,config:{optionMergeStrategies:y}}=_.appContext,m=n.get(C);let b;return m?b=m:!P.length&&!R&&!H?b=C:(b={},P.length&&P.forEach(p=>dn(b,p,y,!0)),dn(b,C,y)),Dt(C)&&n.set(C,b),b}function dn(_,C,R,H=!1){const{mixins:P,extends:n}=C;n&&dn(_,n,R,!0),P&&P.forEach(y=>dn(_,y,R,!0));for(const y in C)if(!(H&&y==="expose")){const m=ga[y]||R&&R[y];_[y]=m?m(_[y],C[y]):C[y]}return _}const ga={data:to,props:eo,emits:eo,methods:Le,computed:Le,beforeCreate:Ft,created:Ft,beforeMount:Ft,mounted:Ft,beforeUpdate:Ft,updated:Ft,beforeDestroy:Ft,beforeUnmount:Ft,destroyed:Ft,unmounted:Ft,activated:Ft,deactivated:Ft,errorCaptured:Ft,serverPrefetch:Ft,components:Le,directives:Le,watch:ma,provide:to,inject:va};function to(_,C){return C?_?function(){return Nt(mt(_)?_.call(this,this):_,mt(C)?C.call(this,this):C)}:C:_}function va(_,C){return Le(Zn(_),Zn(C))}function Zn(_){if(gt(_)){const C={};for(let R=0;R<_.length;R++)C[_[R]]=_[R];return C}return _}function Ft(_,C){return _?[...new Set([].concat(_,C))]:C}function Le(_,C){return _?Nt(Object.create(null),_,C):C}function eo(_,C){return _?gt(_)&&gt(C)?[...new Set([..._,...C])]:Nt(Object.create(null),Zi(_),Zi(C!=null?C:{})):C}function ma(_,C){if(!_)return C;if(!C)return _;const R=Nt(Object.create(null),_);for(const H in C)R[H]=Ft(_[H],C[H]);return R}function qo(){return{app:null,config:{isNativeTag:Fr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ya=0;function xa(_,C){return function(H,P=null){mt(H)||(H=Nt({},H)),P!=null&&!Dt(P)&&(P=null);const n=qo(),y=new Set;let m=!1;const b=n.app={_uid:ya++,_component:H,_props:P,_container:null,_context:n,_instance:null,version:Ja,get config(){return n.config},set config(p){},use(p,...i){return y.has(p)||(p&&mt(p.install)?(y.add(p),p.install(b,...i)):mt(p)&&(y.add(p),p(b,...i))),b},mixin(p){return n.mixins.includes(p)||n.mixins.push(p),b},component(p,i){return i?(n.components[p]=i,b):n.components[p]},directive(p,i){return i?(n.directives[p]=i,b):n.directives[p]},mount(p,i,e){if(!m){const o=he(H,P);return o.appContext=n,i&&C?C(o,p):_(o,p,e),m=!0,b._container=p,p.__vue_app__=b,Ci(o.component)||o.component.proxy}},unmount(){m&&(_(null,b._container),delete b._container.__vue_app__)},provide(p,i){return n.provides[p]=i,b},runWithContext(p){hn=b;try{return p()}finally{hn=null}}};return b}}let hn=null;function ba(_,C){if(Ht){let R=Ht.provides;const H=Ht.parent&&Ht.parent.provides;H===R&&(R=Ht.provides=Object.create(H)),R[_]=C}}function sn(_,C,R=!1){const H=Ht||qt;if(H||hn){const P=H?H.parent==null?H.vnode.appContext&&H.vnode.appContext.provides:H.parent.provides:hn._context.provides;if(P&&_ in P)return P[_];if(arguments.length>1)return R&&mt(C)?C.call(H&&H.proxy):C}}function wa(_,C,R,H=!1){const P={},n={};cn(n,wn,1),_.propsDefaults=Object.create(null),Yo(_,C,P,n);for(const y in _.propsOptions[0])y in P||(P[y]=void 0);R?_.props=H?P:Os(P):_.type.props?_.props=P:_.props=n,_.attrs=n}function ka(_,C,R,H){const{props:P,attrs:n,vnode:{patchFlag:y}}=_,m=kt(P),[b]=_.propsOptions;let p=!1;if((H||y>0)&&!(y&16)){if(y&8){const i=_.vnode.dynamicProps;for(let e=0;e<i.length;e++){let o=i[e];if(yn(_.emitsOptions,o))continue;const h=C[o];if(b)if(xt(n,o))h!==n[o]&&(n[o]=h,p=!0);else{const s=ee(o);P[s]=Qn(b,m,s,h,_,!1)}else h!==n[o]&&(n[o]=h,p=!0)}}}else{Yo(_,C,P,n)&&(p=!0);let i;for(const e in m)(!C||!xt(C,e)&&((i=De(e))===e||!xt(C,i)))&&(b?R&&(R[e]!==void 0||R[i]!==void 0)&&(P[e]=Qn(b,m,e,void 0,_,!0)):delete P[e]);if(n!==m)for(const e in n)(!C||!xt(C,e)&&!0)&&(delete n[e],p=!0)}p&&re(_,"set","$attrs")}function Yo(_,C,R,H){const[P,n]=_.propsOptions;let y=!1,m;if(C)for(let b in C){if(on(b))continue;const p=C[b];let i;P&&xt(P,i=ee(b))?!n||!n.includes(i)?R[i]=p:(m||(m={}))[i]=p:yn(_.emitsOptions,b)||(!(b in H)||p!==H[b])&&(H[b]=p,y=!0)}if(n){const b=kt(R),p=m||Tt;for(let i=0;i<n.length;i++){const e=n[i];R[e]=Qn(P,b,e,p[e],_,!xt(p,e))}}return y}function Qn(_,C,R,H,P,n){const y=_[R];if(y!=null){const m=xt(y,"default");if(m&&H===void 0){const b=y.default;if(y.type!==Function&&!y.skipFactory&&mt(b)){const{propsDefaults:p}=P;R in p?H=p[R]:(Oe(P),H=p[R]=b.call(null,C),xe())}else H=b}y[0]&&(n&&!m?H=!1:y[1]&&(H===""||H===De(R))&&(H=!0))}return H}function Ko(_,C,R=!1){const H=C.propsCache,P=H.get(_);if(P)return P;const n=_.props,y={},m=[];let b=!1;if(!mt(_)){const i=e=>{b=!0;const[o,h]=Ko(e,C,!0);Nt(y,o),h&&m.push(...h)};!R&&C.mixins.length&&C.mixins.forEach(i),_.extends&&i(_.extends),_.mixins&&_.mixins.forEach(i)}if(!n&&!b)return Dt(_)&&H.set(_,Se),Se;if(gt(n))for(let i=0;i<n.length;i++){const e=ee(n[i]);no(e)&&(y[e]=Tt)}else if(n)for(const i in n){const e=ee(i);if(no(e)){const o=n[i],h=y[e]=gt(o)||mt(o)?{type:o}:Nt({},o);if(h){const s=ro(Boolean,h.type),f=ro(String,h.type);h[0]=s>-1,h[1]=f<0||s<f,(s>-1||xt(h,"default"))&&m.push(e)}}}const p=[y,m];return Dt(_)&&H.set(_,p),p}function no(_){return _[0]!=="$"}function io(_){const C=_&&_.toString().match(/^\s*(function|class) (\w+)/);return C?C[2]:_===null?"null":""}function oo(_,C){return io(_)===io(C)}function ro(_,C){return gt(C)?C.findIndex(R=>oo(R,_)):mt(C)&&oo(C,_)?0:-1}const Xo=_=>_[0]==="_"||_==="$stable",bi=_=>gt(_)?_.map(Qt):[Qt(_)],Ca=(_,C,R)=>{if(C._n)return C;const H=Ws((...P)=>bi(C(...P)),R);return H._c=!1,H},Jo=(_,C,R)=>{const H=_._ctx;for(const P in _){if(Xo(P))continue;const n=_[P];if(mt(n))C[P]=Ca(P,n,H);else if(n!=null){const y=bi(n);C[P]=()=>y}}},Zo=(_,C)=>{const R=bi(C);_.slots.default=()=>R},Ea=(_,C)=>{if(_.vnode.shapeFlag&32){const R=C._;R?(_.slots=kt(C),cn(C,"_",R)):Jo(C,_.slots={})}else _.slots={},C&&Zo(_,C);cn(_.slots,wn,1)},Sa=(_,C,R)=>{const{vnode:H,slots:P}=_;let n=!0,y=Tt;if(H.shapeFlag&32){const m=C._;m?R&&m===1?n=!1:(Nt(P,C),!R&&m===1&&delete P._):(n=!C.$stable,Jo(C,P)),y=C}else C&&(Zo(_,C),y={default:1});if(n)for(const m in P)!Xo(m)&&!(m in y)&&delete P[m]};function ti(_,C,R,H,P=!1){if(gt(_)){_.forEach((o,h)=>ti(o,C&&(gt(C)?C[h]:C),R,H,P));return}if(rn(H)&&!P)return;const n=H.shapeFlag&4?Ci(H.component)||H.component.proxy:H.el,y=P?null:n,{i:m,r:b}=_,p=C&&C.r,i=m.refs===Tt?m.refs={}:m.refs,e=m.setupState;if(p!=null&&p!==b&&(jt(p)?(i[p]=null,xt(e,p)&&(e[p]=null)):$t(p)&&(p.value=null)),mt(b))de(b,m,12,[y,i]);else{const o=jt(b),h=$t(b);if(o||h){const s=()=>{if(_.f){const f=o?xt(e,b)?e[b]:i[b]:b.value;P?gt(f)&&oi(f,n):gt(f)?f.includes(n)||f.push(n):o?(i[b]=[n],xt(e,b)&&(e[b]=i[b])):(b.value=[n],_.k&&(i[_.k]=b.value))}else o?(i[b]=y,xt(e,b)&&(e[b]=y)):h&&(b.value=y,_.k&&(i[_.k]=y))};y?(s.id=-1,Bt(s,R)):s()}}}const Bt=Xs;function Ta(_){return Ma(_)}function Ma(_,C){const R=zn();R.__VUE__=!0;const{insert:H,remove:P,patchProp:n,createElement:y,createText:m,createComment:b,setText:p,setElementText:i,parentNode:e,nextSibling:o,setScopeId:h=Kt,insertStaticContent:s}=_,f=(B,W,Y,Z=null,J=null,et=null,ot=!1,it=null,rt=!!W.dynamicChildren)=>{if(B===W)return;B&&!Ne(B,W)&&(Z=ft(B),j(B,J,et,!0),B=null),W.patchFlag===-2&&(rt=!1,W.dynamicChildren=null);const{type:tt,ref:ct,shapeFlag:ut}=W;switch(tt){case bn:l(B,W,Y,Z);break;case Ge:g(B,W,Y,Z);break;case $n:B==null&&d(W,Y,Z,ot);break;case oe:S(B,W,Y,Z,J,et,ot,it,rt);break;default:ut&1?u(B,W,Y,Z,J,et,ot,it,rt):ut&6?T(B,W,Y,Z,J,et,ot,it,rt):(ut&64||ut&128)&&tt.process(B,W,Y,Z,J,et,ot,it,rt,at)}ct!=null&&J&&ti(ct,B&&B.ref,et,W||B,!W)},l=(B,W,Y,Z)=>{if(B==null)H(W.el=m(W.children),Y,Z);else{const J=W.el=B.el;W.children!==B.children&&p(J,W.children)}},g=(B,W,Y,Z)=>{B==null?H(W.el=b(W.children||""),Y,Z):W.el=B.el},d=(B,W,Y,Z)=>{[B.el,B.anchor]=s(B.children,W,Y,Z,B.el,B.anchor)},t=({el:B,anchor:W},Y,Z)=>{let J;for(;B&&B!==W;)J=o(B),H(B,Y,Z),B=J;H(W,Y,Z)},a=({el:B,anchor:W})=>{let Y;for(;B&&B!==W;)Y=o(B),P(B),B=Y;P(W)},u=(B,W,Y,Z,J,et,ot,it,rt)=>{ot=ot||W.type==="svg",B==null?r(W,Y,Z,J,et,ot,it,rt):x(B,W,J,et,ot,it,rt)},r=(B,W,Y,Z,J,et,ot,it)=>{let rt,tt;const{type:ct,props:ut,shapeFlag:ht,transition:pt,dirs:vt}=B;if(rt=B.el=y(B.type,et,ut&&ut.is,ut),ht&8?i(rt,B.children):ht&16&&v(B.children,rt,null,Z,J,et&&ct!=="foreignObject",ot,it),vt&&_e(B,null,Z,"created"),c(rt,B,B.scopeId,ot,Z),ut){for(const bt in ut)bt!=="value"&&!on(bt)&&n(rt,bt,null,ut[bt],et,B.children,Z,J,Q);"value"in ut&&n(rt,"value",null,ut.value),(tt=ut.onVnodeBeforeMount)&&Zt(tt,Z,B)}vt&&_e(B,null,Z,"beforeMount");const Et=(!J||J&&!J.pendingBranch)&&pt&&!pt.persisted;Et&&pt.beforeEnter(rt),H(rt,W,Y),((tt=ut&&ut.onVnodeMounted)||Et||vt)&&Bt(()=>{tt&&Zt(tt,Z,B),Et&&pt.enter(rt),vt&&_e(B,null,Z,"mounted")},J)},c=(B,W,Y,Z,J)=>{if(Y&&h(B,Y),Z)for(let et=0;et<Z.length;et++)h(B,Z[et]);if(J){let et=J.subTree;if(W===et){const ot=J.vnode;c(B,ot,ot.scopeId,ot.slotScopeIds,J.parent)}}},v=(B,W,Y,Z,J,et,ot,it,rt=0)=>{for(let tt=rt;tt<B.length;tt++){const ct=B[tt]=it?ce(B[tt]):Qt(B[tt]);f(null,ct,W,Y,Z,J,et,ot,it)}},x=(B,W,Y,Z,J,et,ot)=>{const it=W.el=B.el;let{patchFlag:rt,dynamicChildren:tt,dirs:ct}=W;rt|=B.patchFlag&16;const ut=B.props||Tt,ht=W.props||Tt;let pt;Y&&ge(Y,!1),(pt=ht.onVnodeBeforeUpdate)&&Zt(pt,Y,W,B),ct&&_e(W,B,Y,"beforeUpdate"),Y&&ge(Y,!0);const vt=J&&W.type!=="foreignObject";if(tt?w(B.dynamicChildren,tt,it,Y,Z,vt,et):ot||D(B,W,it,null,Y,Z,vt,et,!1),rt>0){if(rt&16)k(it,W,ut,ht,Y,Z,J);else if(rt&2&&ut.class!==ht.class&&n(it,"class",null,ht.class,J),rt&4&&n(it,"style",ut.style,ht.style,J),rt&8){const Et=W.dynamicProps;for(let bt=0;bt<Et.length;bt++){const St=Et[bt],zt=ut[St],ne=ht[St];(ne!==zt||St==="value")&&n(it,St,zt,ne,J,B.children,Y,Z,Q)}}rt&1&&B.children!==W.children&&i(it,W.children)}else!ot&&tt==null&&k(it,W,ut,ht,Y,Z,J);((pt=ht.onVnodeUpdated)||ct)&&Bt(()=>{pt&&Zt(pt,Y,W,B),ct&&_e(W,B,Y,"updated")},Z)},w=(B,W,Y,Z,J,et,ot)=>{for(let it=0;it<W.length;it++){const rt=B[it],tt=W[it],ct=rt.el&&(rt.type===oe||!Ne(rt,tt)||rt.shapeFlag&70)?e(rt.el):Y;f(rt,tt,ct,null,Z,J,et,ot,!0)}},k=(B,W,Y,Z,J,et,ot)=>{if(Y!==Z){if(Y!==Tt)for(const it in Y)!on(it)&&!(it in Z)&&n(B,it,Y[it],null,ot,W.children,J,et,Q);for(const it in Z){if(on(it))continue;const rt=Z[it],tt=Y[it];rt!==tt&&it!=="value"&&n(B,it,tt,rt,ot,W.children,J,et,Q)}"value"in Z&&n(B,"value",Y.value,Z.value)}},S=(B,W,Y,Z,J,et,ot,it,rt)=>{const tt=W.el=B?B.el:m(""),ct=W.anchor=B?B.anchor:m("");let{patchFlag:ut,dynamicChildren:ht,slotScopeIds:pt}=W;pt&&(it=it?it.concat(pt):pt),B==null?(H(tt,Y,Z),H(ct,Y,Z),v(W.children,Y,ct,J,et,ot,it,rt)):ut>0&&ut&64&&ht&&B.dynamicChildren?(w(B.dynamicChildren,ht,Y,J,et,ot,it),(W.key!=null||J&&W===J.subTree)&&Qo(B,W,!0)):D(B,W,Y,ct,J,et,ot,it,rt)},T=(B,W,Y,Z,J,et,ot,it,rt)=>{W.slotScopeIds=it,B==null?W.shapeFlag&512?J.ctx.activate(W,Y,Z,ot,rt):E(W,Y,Z,J,et,ot,rt):M(B,W,rt)},E=(B,W,Y,Z,J,et,ot)=>{const it=B.component=Ba(B,Z,J);if(Vo(B)&&(it.ctx.renderer=at),Va(it),it.asyncDep){if(J&&J.registerDep(it,O),!B.el){const rt=it.subTree=he(Ge);g(null,rt,W,Y)}return}O(it,B,W,Y,J,et,ot)},M=(B,W,Y)=>{const Z=W.component=B.component;if(qs(B,W,Y))if(Z.asyncDep&&!Z.asyncResolved){I(Z,W,Y);return}else Z.next=W,$s(Z.update),Z.update();else W.el=B.el,Z.vnode=W},O=(B,W,Y,Z,J,et,ot)=>{const it=()=>{if(B.isMounted){let{next:ct,bu:ut,u:ht,parent:pt,vnode:vt}=B,Et=ct,bt;ge(B,!1),ct?(ct.el=vt.el,I(B,ct,ot)):ct=vt,ut&&Nn(ut),(bt=ct.props&&ct.props.onVnodeBeforeUpdate)&&Zt(bt,pt,ct,vt),ge(B,!0);const St=jn(B),zt=B.subTree;B.subTree=St,f(zt,St,e(zt.el),ft(zt),B,J,et),ct.el=St.el,Et===null&&Ys(B,St.el),ht&&Bt(ht,J),(bt=ct.props&&ct.props.onVnodeUpdated)&&Bt(()=>Zt(bt,pt,ct,vt),J)}else{let ct;const{el:ut,props:ht}=W,{bm:pt,m:vt,parent:Et}=B,bt=rn(W);if(ge(B,!1),pt&&Nn(pt),!bt&&(ct=ht&&ht.onVnodeBeforeMount)&&Zt(ct,Et,W),ge(B,!0),ut&&Ct){const St=()=>{B.subTree=jn(B),Ct(ut,B.subTree,B,J,null)};bt?W.type.__asyncLoader().then(()=>!B.isUnmounted&&St()):St()}else{const St=B.subTree=jn(B);f(null,St,Y,Z,B,J,et),W.el=St.el}if(vt&&Bt(vt,J),!bt&&(ct=ht&&ht.onVnodeMounted)){const St=W;Bt(()=>Zt(ct,Et,St),J)}(W.shapeFlag&256||Et&&rn(Et.vnode)&&Et.vnode.shapeFlag&256)&&B.a&&Bt(B.a,J),B.isMounted=!0,W=Y=Z=null}},rt=B.effect=new ui(it,()=>yi(tt),B.scope),tt=B.update=()=>rt.run();tt.id=B.uid,ge(B,!0),tt()},I=(B,W,Y)=>{W.component=B;const Z=B.vnode.props;B.vnode=W,B.next=null,ka(B,W.props,Z,Y),Sa(B,W.children,Y),Pe(),Ki(),Re()},D=(B,W,Y,Z,J,et,ot,it,rt=!1)=>{const tt=B&&B.children,ct=B?B.shapeFlag:0,ut=W.children,{patchFlag:ht,shapeFlag:pt}=W;if(ht>0){if(ht&128){F(tt,ut,Y,Z,J,et,ot,it,rt);return}else if(ht&256){A(tt,ut,Y,Z,J,et,ot,it,rt);return}}pt&8?(ct&16&&Q(tt,J,et),ut!==tt&&i(Y,ut)):ct&16?pt&16?F(tt,ut,Y,Z,J,et,ot,it,rt):Q(tt,J,et,!0):(ct&8&&i(Y,""),pt&16&&v(ut,Y,Z,J,et,ot,it,rt))},A=(B,W,Y,Z,J,et,ot,it,rt)=>{B=B||Se,W=W||Se;const tt=B.length,ct=W.length,ut=Math.min(tt,ct);let ht;for(ht=0;ht<ut;ht++){const pt=W[ht]=rt?ce(W[ht]):Qt(W[ht]);f(B[ht],pt,Y,null,J,et,ot,it,rt)}tt>ct?Q(B,J,et,!0,!1,ut):v(W,Y,Z,J,et,ot,it,rt,ut)},F=(B,W,Y,Z,J,et,ot,it,rt)=>{let tt=0;const ct=W.length;let ut=B.length-1,ht=ct-1;for(;tt<=ut&&tt<=ht;){const pt=B[tt],vt=W[tt]=rt?ce(W[tt]):Qt(W[tt]);if(Ne(pt,vt))f(pt,vt,Y,null,J,et,ot,it,rt);else break;tt++}for(;tt<=ut&&tt<=ht;){const pt=B[ut],vt=W[ht]=rt?ce(W[ht]):Qt(W[ht]);if(Ne(pt,vt))f(pt,vt,Y,null,J,et,ot,it,rt);else break;ut--,ht--}if(tt>ut){if(tt<=ht){const pt=ht+1,vt=pt<ct?W[pt].el:Z;for(;tt<=ht;)f(null,W[tt]=rt?ce(W[tt]):Qt(W[tt]),Y,vt,J,et,ot,it,rt),tt++}}else if(tt>ht)for(;tt<=ut;)j(B[tt],J,et,!0),tt++;else{const pt=tt,vt=tt,Et=new Map;for(tt=vt;tt<=ht;tt++){const At=W[tt]=rt?ce(W[tt]):Qt(W[tt]);At.key!=null&&Et.set(At.key,tt)}let bt,St=0;const zt=ht-vt+1;let ne=!1,be=0;const Jt=new Array(zt);for(tt=0;tt<zt;tt++)Jt[tt]=0;for(tt=pt;tt<=ut;tt++){const At=B[tt];if(St>=zt){j(At,J,et,!0);continue}let It;if(At.key!=null)It=Et.get(At.key);else for(bt=vt;bt<=ht;bt++)if(Jt[bt-vt]===0&&Ne(At,W[bt])){It=bt;break}It===void 0?j(At,J,et,!0):(Jt[It-vt]=tt+1,It>=be?be=It:ne=!0,f(At,W[It],Y,null,J,et,ot,it,rt),St++)}const we=ne?Ia(Jt):Se;for(bt=we.length-1,tt=zt-1;tt>=0;tt--){const At=vt+tt,It=W[At],Ae=At+1<ct?W[At+1].el:Z;Jt[tt]===0?f(null,It,Y,Ae,J,et,ot,it,rt):ne&&(bt<0||tt!==we[bt]?U(It,Y,Ae,2):bt--)}}},U=(B,W,Y,Z,J=null)=>{const{el:et,type:ot,transition:it,children:rt,shapeFlag:tt}=B;if(tt&6){U(B.component.subTree,W,Y,Z);return}if(tt&128){B.suspense.move(W,Y,Z);return}if(tt&64){ot.move(B,W,Y,at);return}if(ot===oe){H(et,W,Y);for(let ut=0;ut<rt.length;ut++)U(rt[ut],W,Y,Z);H(B.anchor,W,Y);return}if(ot===$n){t(B,W,Y);return}if(Z!==2&&tt&1&&it)if(Z===0)it.beforeEnter(et),H(et,W,Y),Bt(()=>it.enter(et),J);else{const{leave:ut,delayLeave:ht,afterLeave:pt}=it,vt=()=>H(et,W,Y),Et=()=>{ut(et,()=>{vt(),pt&&pt()})};ht?ht(et,vt,Et):Et()}else H(et,W,Y)},j=(B,W,Y,Z=!1,J=!1)=>{const{type:et,props:ot,ref:it,children:rt,dynamicChildren:tt,shapeFlag:ct,patchFlag:ut,dirs:ht}=B;if(it!=null&&ti(it,null,Y,B,!0),ct&256){W.ctx.deactivate(B);return}const pt=ct&1&&ht,vt=!rn(B);let Et;if(vt&&(Et=ot&&ot.onVnodeBeforeUnmount)&&Zt(Et,W,B),ct&6)X(B.component,Y,Z);else{if(ct&128){B.suspense.unmount(Y,Z);return}pt&&_e(B,null,W,"beforeUnmount"),ct&64?B.type.remove(B,W,Y,J,at,Z):tt&&(et!==oe||ut>0&&ut&64)?Q(tt,W,Y,!1,!0):(et===oe&&ut&384||!J&&ct&16)&&Q(rt,W,Y),Z&&$(B)}(vt&&(Et=ot&&ot.onVnodeUnmounted)||pt)&&Bt(()=>{Et&&Zt(Et,W,B),pt&&_e(B,null,W,"unmounted")},Y)},$=B=>{const{type:W,el:Y,anchor:Z,transition:J}=B;if(W===oe){q(Y,Z);return}if(W===$n){a(B);return}const et=()=>{P(Y),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(B.shapeFlag&1&&J&&!J.persisted){const{leave:ot,delayLeave:it}=J,rt=()=>ot(Y,et);it?it(B.el,et,rt):rt()}else et()},q=(B,W)=>{let Y;for(;B!==W;)Y=o(B),P(B),B=Y;P(W)},X=(B,W,Y)=>{const{bum:Z,scope:J,update:et,subTree:ot,um:it}=B;Z&&Nn(Z),J.stop(),et&&(et.active=!1,j(ot,B,W,Y)),it&&Bt(it,W),Bt(()=>{B.isUnmounted=!0},W),W&&W.pendingBranch&&!W.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===W.pendingId&&(W.deps--,W.deps===0&&W.resolve())},Q=(B,W,Y,Z=!1,J=!1,et=0)=>{for(let ot=et;ot<B.length;ot++)j(B[ot],W,Y,Z,J)},ft=B=>B.shapeFlag&6?ft(B.component.subTree):B.shapeFlag&128?B.suspense.next():o(B.anchor||B.el),st=(B,W,Y)=>{B==null?W._vnode&&j(W._vnode,null,null,!0):f(W._vnode||null,B,W,null,null,null,Y),Ki(),No(),W._vnode=B},at={p:f,um:j,m:U,r:$,mt:E,mc:v,pc:D,pbc:w,n:ft,o:_};let dt,Ct;return C&&([dt,Ct]=C(at)),{render:st,hydrate:dt,createApp:xa(st,dt)}}function ge({effect:_,update:C},R){_.allowRecurse=C.allowRecurse=R}function Qo(_,C,R=!1){const H=_.children,P=C.children;if(gt(H)&&gt(P))for(let n=0;n<H.length;n++){const y=H[n];let m=P[n];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=P[n]=ce(P[n]),m.el=y.el),R||Qo(y,m)),m.type===bn&&(m.el=y.el)}}function Ia(_){const C=_.slice(),R=[0];let H,P,n,y,m;const b=_.length;for(H=0;H<b;H++){const p=_[H];if(p!==0){if(P=R[R.length-1],_[P]<p){C[H]=P,R.push(H);continue}for(n=0,y=R.length-1;n<y;)m=n+y>>1,_[R[m]]<p?n=m+1:y=m;p<_[R[n]]&&(n>0&&(C[H]=R[n-1]),R[n]=H)}}for(n=R.length,y=R[n-1];n-- >0;)R[n]=y,y=C[y];return R}const Oa=_=>_.__isTeleport,oe=Symbol.for("v-fgt"),bn=Symbol.for("v-txt"),Ge=Symbol.for("v-cmt"),$n=Symbol.for("v-stc"),Be=[];let Yt=null;function tr(_=!1){Be.push(Yt=_?null:[])}function Da(){Be.pop(),Yt=Be[Be.length-1]||null}let Ue=1;function so(_){Ue+=_}function er(_){return _.dynamicChildren=Ue>0?Yt||Se:null,Da(),Ue>0&&Yt&&Yt.push(_),_}function Pa(_,C,R,H,P,n){return er(ir(_,C,R,H,P,n,!0))}function Ra(_,C,R,H,P){return er(he(_,C,R,H,P,!0))}function Aa(_){return _?_.__v_isVNode===!0:!1}function Ne(_,C){return _.type===C.type&&_.key===C.key}const wn="__vInternal",nr=({key:_})=>_!=null?_:null,an=({ref:_,ref_key:C,ref_for:R})=>(typeof _=="number"&&(_=""+_),_!=null?jt(_)||$t(_)||mt(_)?{i:qt,r:_,k:C,f:!!R}:_:null);function ir(_,C=null,R=null,H=0,P=null,n=_===oe?0:1,y=!1,m=!1){const b={__v_isVNode:!0,__v_skip:!0,type:_,props:C,key:C&&nr(C),ref:C&&an(C),scopeId:Fo,slotScopeIds:null,children:R,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:H,dynamicProps:P,dynamicChildren:null,appContext:null,ctx:qt};return m?(wi(b,R),n&128&&_.normalize(b)):R&&(b.shapeFlag|=jt(R)?8:16),Ue>0&&!y&&Yt&&(b.patchFlag>0||n&6)&&b.patchFlag!==32&&Yt.push(b),b}const he=Ha;function Ha(_,C=null,R=null,H=0,P=null,n=!1){if((!_||_===da)&&(_=Ge),Aa(_)){const m=Ie(_,C,!0);return R&&wi(m,R),Ue>0&&!n&&Yt&&(m.shapeFlag&6?Yt[Yt.indexOf(_)]=m:Yt.push(m)),m.patchFlag|=-2,m}if(qa(_)&&(_=_.__vccOpts),C){C=Na(C);let{class:m,style:b}=C;m&&!jt(m)&&(C.class=li(m)),Dt(b)&&(Do(b)&&!gt(b)&&(b=Nt({},b)),C.style=ai(b))}const y=jt(_)?1:Ks(_)?128:Oa(_)?64:Dt(_)?4:mt(_)?2:0;return ir(_,C,R,H,P,y,n,!0)}function Na(_){return _?Do(_)||wn in _?Nt({},_):_:null}function Ie(_,C,R=!1){const{props:H,ref:P,patchFlag:n,children:y}=_,m=C?La(H||{},C):H;return{__v_isVNode:!0,__v_skip:!0,type:_.type,props:m,key:m&&nr(m),ref:C&&C.ref?R&&P?gt(P)?P.concat(an(C)):[P,an(C)]:an(C):P,scopeId:_.scopeId,slotScopeIds:_.slotScopeIds,children:y,target:_.target,targetAnchor:_.targetAnchor,staticCount:_.staticCount,shapeFlag:_.shapeFlag,patchFlag:C&&_.type!==oe?n===-1?16:n|16:n,dynamicProps:_.dynamicProps,dynamicChildren:_.dynamicChildren,appContext:_.appContext,dirs:_.dirs,transition:_.transition,component:_.component,suspense:_.suspense,ssContent:_.ssContent&&Ie(_.ssContent),ssFallback:_.ssFallback&&Ie(_.ssFallback),el:_.el,anchor:_.anchor,ctx:_.ctx,ce:_.ce}}function ja(_=" ",C=0){return he(bn,null,_,C)}function Qt(_){return _==null||typeof _=="boolean"?he(Ge):gt(_)?he(oe,null,_.slice()):typeof _=="object"?ce(_):he(bn,null,String(_))}function ce(_){return _.el===null&&_.patchFlag!==-1||_.memo?_:Ie(_)}function wi(_,C){let R=0;const{shapeFlag:H}=_;if(C==null)C=null;else if(gt(C))R=16;else if(typeof C=="object")if(H&65){const P=C.default;P&&(P._c&&(P._d=!1),wi(_,P()),P._c&&(P._d=!0));return}else{R=32;const P=C._;!P&&!(wn in C)?C._ctx=qt:P===3&&qt&&(qt.slots._===1?C._=1:(C._=2,_.patchFlag|=1024))}else mt(C)?(C={default:C,_ctx:qt},R=32):(C=String(C),H&64?(R=16,C=[ja(C)]):R=8);_.children=C,_.shapeFlag|=R}function La(..._){const C={};for(let R=0;R<_.length;R++){const H=_[R];for(const P in H)if(P==="class")C.class!==H.class&&(C.class=li([C.class,H.class]));else if(P==="style")C.style=ai([C.style,H.style]);else if(fn(P)){const n=C[P],y=H[P];y&&n!==y&&!(gt(n)&&n.includes(y))&&(C[P]=n?[].concat(n,y):y)}else P!==""&&(C[P]=H[P])}return C}function Zt(_,C,R,H=null){Xt(_,C,7,[R,H])}const Fa=qo();let $a=0;function Ba(_,C,R){const H=_.type,P=(C?C.appContext:_.appContext)||Fa,n={uid:$a++,vnode:_,type:H,parent:C,appContext:P,root:null,next:null,subTree:null,effect:null,update:null,scope:new es(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:C?C.provides:Object.create(P.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ko(H,P),emitsOptions:Lo(H,P),emit:null,emitted:null,propsDefaults:Tt,inheritAttrs:H.inheritAttrs,ctx:Tt,data:Tt,props:Tt,attrs:Tt,slots:Tt,refs:Tt,setupState:Tt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:R,suspenseId:R?R.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=C?C.root:n,n.emit=zs.bind(null,n),_.ce&&_.ce(n),n}let Ht=null,ki,Ce,ao="__VUE_INSTANCE_SETTERS__";(Ce=zn()[ao])||(Ce=zn()[ao]=[]),Ce.push(_=>Ht=_),ki=_=>{Ce.length>1?Ce.forEach(C=>C(_)):Ce[0](_)};const Oe=_=>{ki(_),_.scope.on()},xe=()=>{Ht&&Ht.scope.off(),ki(null)};function or(_){return _.vnode.shapeFlag&4}let qe=!1;function Va(_,C=!1){qe=C;const{props:R,children:H}=_.vnode,P=or(_);wa(_,R,P,C),Ea(_,H);const n=P?za(_,C):void 0;return qe=!1,n}function za(_,C){const R=_.type;_.accessCache=Object.create(null),_.proxy=Po(new Proxy(_.ctx,fa));const{setup:H}=R;if(H){const P=_.setupContext=H.length>1?Ga(_):null;Oe(_),Pe();const n=de(H,_,0,[_.props,P]);if(Re(),xe(),mo(n)){if(n.then(xe,xe),C)return n.then(y=>{lo(_,y,C)}).catch(y=>{mn(y,_,0)});_.asyncDep=n}else lo(_,n,C)}else rr(_,C)}function lo(_,C,R){mt(C)?_.type.__ssrInlineRender?_.ssrRender=C:_.render=C:Dt(C)&&(_.setupState=Ro(C)),rr(_,R)}let co;function rr(_,C,R){const H=_.type;if(!_.render){if(!C&&co&&!H.render){const P=H.template||xi(_).template;if(P){const{isCustomElement:n,compilerOptions:y}=_.appContext.config,{delimiters:m,compilerOptions:b}=H,p=Nt(Nt({isCustomElement:n,delimiters:m},y),b);H.render=co(P,p)}}_.render=H.render||Kt}Oe(_),Pe(),pa(_),Re(),xe()}function Wa(_){return _.attrsProxy||(_.attrsProxy=new Proxy(_.attrs,{get(C,R){return Vt(_,"get","$attrs"),C[R]}}))}function Ga(_){const C=R=>{_.exposed=R||{}};return{get attrs(){return Wa(_)},slots:_.slots,emit:_.emit,expose:C}}function Ci(_){if(_.exposed)return _.exposeProxy||(_.exposeProxy=new Proxy(Ro(Po(_.exposed)),{get(C,R){if(R in C)return C[R];if(R in $e)return $e[R](_)},has(C,R){return R in C||R in $e}}))}function Ua(_,C=!0){return mt(_)?_.displayName||_.name:_.name||C&&_.__name}function qa(_){return mt(_)&&"__vccOpts"in _}const Ya=(_,C)=>Ns(_,C,qe),Ka=Symbol.for("v-scx"),Xa=()=>sn(Ka),Ja="3.3.4",Za="http://www.w3.org/2000/svg",me=typeof document<"u"?document:null,uo=me&&me.createElement("template"),Qa={insert:(_,C,R)=>{C.insertBefore(_,R||null)},remove:_=>{const C=_.parentNode;C&&C.removeChild(_)},createElement:(_,C,R,H)=>{const P=C?me.createElementNS(Za,_):me.createElement(_,R?{is:R}:void 0);return _==="select"&&H&&H.multiple!=null&&P.setAttribute("multiple",H.multiple),P},createText:_=>me.createTextNode(_),createComment:_=>me.createComment(_),setText:(_,C)=>{_.nodeValue=C},setElementText:(_,C)=>{_.textContent=C},parentNode:_=>_.parentNode,nextSibling:_=>_.nextSibling,querySelector:_=>me.querySelector(_),setScopeId(_,C){_.setAttribute(C,"")},insertStaticContent(_,C,R,H,P,n){const y=R?R.previousSibling:C.lastChild;if(P&&(P===n||P.nextSibling))for(;C.insertBefore(P.cloneNode(!0),R),!(P===n||!(P=P.nextSibling)););else{uo.innerHTML=H?`<svg>${_}</svg>`:_;const m=uo.content;if(H){const b=m.firstChild;for(;b.firstChild;)m.appendChild(b.firstChild);m.removeChild(b)}C.insertBefore(m,R)}return[y?y.nextSibling:C.firstChild,R?R.previousSibling:C.lastChild]}};function tl(_,C,R){const H=_._vtc;H&&(C=(C?[C,...H]:[...H]).join(" ")),C==null?_.removeAttribute("class"):R?_.setAttribute("class",C):_.className=C}function el(_,C,R){const H=_.style,P=jt(R);if(R&&!P){if(C&&!jt(C))for(const n in C)R[n]==null&&ei(H,n,"");for(const n in R)ei(H,n,R[n])}else{const n=H.display;P?C!==R&&(H.cssText=R):C&&_.removeAttribute("style"),"_vod"in _&&(H.display=n)}}const ho=/\s*!important$/;function ei(_,C,R){if(gt(R))R.forEach(H=>ei(_,C,H));else if(R==null&&(R=""),C.startsWith("--"))_.setProperty(C,R);else{const H=nl(_,C);ho.test(R)?_.setProperty(De(H),R.replace(ho,""),"important"):_[H]=R}}const fo=["Webkit","Moz","ms"],Bn={};function nl(_,C){const R=Bn[C];if(R)return R;let H=ee(C);if(H!=="filter"&&H in _)return Bn[C]=H;H=gn(H);for(let P=0;P<fo.length;P++){const n=fo[P]+H;if(n in _)return Bn[C]=n}return C}const po="http://www.w3.org/1999/xlink";function il(_,C,R,H,P){if(H&&C.startsWith("xlink:"))R==null?_.removeAttributeNS(po,C.slice(6,C.length)):_.setAttributeNS(po,C,R);else{const n=ts(C);R==null||n&&!yo(R)?_.removeAttribute(C):_.setAttribute(C,n?"":R)}}function ol(_,C,R,H,P,n,y){if(C==="innerHTML"||C==="textContent"){H&&y(H,P,n),_[C]=R==null?"":R;return}const m=_.tagName;if(C==="value"&&m!=="PROGRESS"&&!m.includes("-")){_._value=R;const p=m==="OPTION"?_.getAttribute("value"):_.value,i=R==null?"":R;p!==i&&(_.value=i),R==null&&_.removeAttribute(C);return}let b=!1;if(R===""||R==null){const p=typeof _[C];p==="boolean"?R=yo(R):R==null&&p==="string"?(R="",b=!0):p==="number"&&(R=0,b=!0)}try{_[C]=R}catch{}b&&_.removeAttribute(C)}function rl(_,C,R,H){_.addEventListener(C,R,H)}function sl(_,C,R,H){_.removeEventListener(C,R,H)}function al(_,C,R,H,P=null){const n=_._vei||(_._vei={}),y=n[C];if(H&&y)y.value=H;else{const[m,b]=ll(C);if(H){const p=n[C]=dl(H,P);rl(_,m,p,b)}else y&&(sl(_,m,y,b),n[C]=void 0)}}const _o=/(?:Once|Passive|Capture)$/;function ll(_){let C;if(_o.test(_)){C={};let H;for(;H=_.match(_o);)_=_.slice(0,_.length-H[0].length),C[H[0].toLowerCase()]=!0}return[_[2]===":"?_.slice(3):De(_.slice(2)),C]}let Vn=0;const cl=Promise.resolve(),ul=()=>Vn||(cl.then(()=>Vn=0),Vn=Date.now());function dl(_,C){const R=H=>{if(!H._vts)H._vts=Date.now();else if(H._vts<=R.attached)return;Xt(hl(H,R.value),C,5,[H])};return R.value=_,R.attached=ul(),R}function hl(_,C){if(gt(C)){const R=_.stopImmediatePropagation;return _.stopImmediatePropagation=()=>{R.call(_),_._stopped=!0},C.map(H=>P=>!P._stopped&&H&&H(P))}else return C}const go=/^on[a-z]/,fl=(_,C,R,H,P=!1,n,y,m,b)=>{C==="class"?tl(_,H,P):C==="style"?el(_,R,H):fn(C)?ii(C)||al(_,C,R,H,y):(C[0]==="."?(C=C.slice(1),!0):C[0]==="^"?(C=C.slice(1),!1):pl(_,C,H,P))?ol(_,C,H,n,y,m,b):(C==="true-value"?_._trueValue=H:C==="false-value"&&(_._falseValue=H),il(_,C,H,P))};function pl(_,C,R,H){return H?!!(C==="innerHTML"||C==="textContent"||C in _&&go.test(C)&&mt(R)):C==="spellcheck"||C==="draggable"||C==="translate"||C==="form"||C==="list"&&_.tagName==="INPUT"||C==="type"&&_.tagName==="TEXTAREA"||go.test(C)&&jt(R)?!1:C in _}const _l=Nt({patchProp:fl},Qa);let vo;function gl(){return vo||(vo=Ta(_l))}const vl=(..._)=>{const C=gl().createApp(..._),{mount:R}=C;return C.mount=H=>{const P=ml(H);if(!P)return;const n=C._component;!mt(n)&&!n.render&&!n.template&&(n.template=P.innerHTML),P.innerHTML="";const y=R(P,!1,P instanceof SVGElement);return P instanceof Element&&(P.removeAttribute("v-cloak"),P.setAttribute("data-v-app","")),y},C};function ml(_){return jt(_)?document.querySelector(_):_}var sr={exports:{}};/*
@license

dhtmlxRichText v.1.2.0 Evaluation

This software is covered by DHTMLX Evaluation License and purposed only for evaluation.
Contact sales@dhtmlx.com to get Commercial or Enterprise license.
Usage without proper license is prohibited.

(c) XB Software.

*/(function(_,C){if(window.dhx&&(window.dhx_legacy=dhx,delete window.dhx),function(P,n){_.exports=n()}(window,function(){return function(P){var n={};function y(m){if(n[m])return n[m].exports;var b=n[m]={i:m,l:!1,exports:{}};return P[m].call(b.exports,b,b.exports,y),b.l=!0,b.exports}return y.m=P,y.c=n,y.d=function(m,b,p){y.o(m,b)||Object.defineProperty(m,b,{enumerable:!0,get:p})},y.r=function(m){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},y.t=function(m,b){if(1&b&&(m=y(m)),8&b||4&b&&typeof m=="object"&&m&&m.__esModule)return m;var p=Object.create(null);if(y.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:m}),2&b&&typeof m!="string")for(var i in m)y.d(p,i,function(e){return m[e]}.bind(null,i));return p},y.n=function(m){var b=m&&m.__esModule?function(){return m.default}:function(){return m};return y.d(b,"a",b),b},y.o=function(m,b){return Object.prototype.hasOwnProperty.call(m,b)},y.p="/codebase/",y(y.s=72)}([function(P,n,y){(function(m){Object.defineProperty(n,"__esModule",{value:!0}),n.awaitRedraw=n.resizeHandler=n.resizer=n.disableHelp=n.KEYED_LIST=n.inject=n.create=n.view=n.sv=n.el=void 0;var b=y(85);function p(i){var e=window.ResizeObserver,o=function(h){var s=h.el.offsetHeight,f=h.el.offsetWidth;i(f,s)};return e?(0,n.el)("div.dhx-resize-observer",{_hooks:{didInsert:function(h){new e(function(){return o(h)}).observe(h.el)}}}):(0,n.el)("iframe.dhx-resize-observer",{_hooks:{didInsert:function(h){h.el.contentWindow.onresize=function(){return o(h)},o(h)}}})}n.el=b.defineElement,n.sv=b.defineSvgElement,n.view=b.defineView,n.create=b.createView,n.inject=b.injectView,n.KEYED_LIST=b.KEYED_LIST,n.disableHelp=function(){b.DEVMODE.mutations=!1,b.DEVMODE.warnings=!1,b.DEVMODE.verbose=!1,b.DEVMODE.UNKEYED_INPUT=!1},n.resizer=p,n.resizeHandler=function(i,e){return(0,n.create)({render:function(){return p(e)}}).mount(i)},n.awaitRedraw=function(){return new m(function(i){requestAnimationFrame(function(){i()})})}}).call(this,y(10))},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var e,o=1,h=arguments.length;o<h;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.getTextLines=n.getCloneObject=n.rgbToHex=n.getStringWidth=n.getMinArrayNymber=n.getMaxArrayNymber=n.isEmptyObj=n.isType=n.compare=n.debounce=n.downloadFile=n.isNumeric=n.range=n.isDefined=n.wrapBox=n.unwrapBox=n.detectWidgetClick=n.singleOuterClick=n.isEqualString=n.findIndex=n.naturalSort=n.copy=n.extend=n.uid=void 0;var b=y(2),p=new Date().valueOf();n.uid=function(){return"u"+p++},n.extend=function i(e,o,h){if(h===void 0&&(h=!0),o)for(var s in o){var f=o[s],l=e[s];f===void 0?delete e[s]:!h||typeof l!="object"||l instanceof Date||l instanceof Array?e[s]=f:i(l,f)}return e},n.copy=function(i,e){var o={};for(var h in i)e&&h.startsWith("$")||(o[h]=i[h]);return o},n.naturalSort=function(i){return i.sort(function(e,o){return typeof e=="string"?e.localeCompare(o):e-o})},n.findIndex=function(i,e){for(var o=i.length,h=0;h<o;h++)if(e(i[h]))return h;return-1},n.isEqualString=function(i,e){if(i=i.toString(),e=e.toString(),i.length>e.length)return!1;for(var o=0;o<i.length;o++)if(i[o].toLowerCase()!==e[o].toLowerCase())return!1;return!0},n.singleOuterClick=function(i){var e=function(o){i(o)&&document.removeEventListener("click",e)};document.addEventListener("click",e)},n.detectWidgetClick=function(i,e){var o=function(h){return e((0,b.locate)(h,"dhx_widget_id")===i)};return document.addEventListener("click",o),function(){return document.removeEventListener("click",o)}},n.unwrapBox=function(i){return Array.isArray(i)?i[0]:i},n.wrapBox=function(i){return Array.isArray(i)?i:[i]},n.isDefined=function(i){return i!=null},n.range=function(i,e){if(i>e)return[];for(var o=[];i<=e;)o.push(i++);return o},n.isNumeric=function(i){return!isNaN(i-parseFloat(i))},n.downloadFile=function(i,e,o){o===void 0&&(o="text/plain");var h=new Blob([i],{type:o});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(h,e);else{var s=document.createElement("a"),f=URL.createObjectURL(h);s.href=f,s.download=e,document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(f)},0)}},n.debounce=function(i,e,o){var h;return function(){for(var s=this,f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];var g=o&&!h;clearTimeout(h),h=setTimeout(function(){h=null,o||i.apply(s,f)},e),g&&i.apply(this,f)}},n.compare=function i(e,o){for(var h in e){if(e.hasOwnProperty(h)!==o.hasOwnProperty(h))return!1;switch(typeof e[h]){case"object":if(!i(e[h],o[h]))return!1;break;case"function":if(o[h]===void 0||h!=="compare"&&e[h].toString()!==o[h].toString())return!1;break;default:if(e[h]!==o[h])return!1}}for(var h in o)if(e[h]===void 0)return!1;return!0},n.isType=function(i){return((Object.prototype.toString.call(i).match(/^\[object (\S+?)\]$/)||[])[1]||"undefined").toLowerCase()},n.isEmptyObj=function(i){for(var e in i)return!1;return!0},n.getMaxArrayNymber=function(i){if(i.length){for(var e=-1/0,o=0,h=i.length;o<h;o++)i[o]>e&&(e=i[o]);return e}},n.getMinArrayNymber=function(i){if(i.length){for(var e=1/0,o=0,h=i.length;o<h;o++)i[o]<e&&(e=i[o]);return e}},n.getStringWidth=function(i,e){e=m({font:"normal 14px Roboto",lineHeight:20},e);var o=document.createElement("canvas"),h=o.getContext("2d");e.font&&(h.font=e.font);var s=h.measureText(i).width;return o.remove(),s},n.rgbToHex=function(i){if(i.substr(0,1)==="#")return i;var e=/(.*?)rgb[a]?\((\d+), *(\d+), *(\d+),* *([\d+.]*)\)/.exec(i),o=parseInt(e[2],10).toString(16).padStart(2,"0"),h=parseInt(e[3],10).toString(16).padStart(2,"0"),s=parseInt(e[4],10).toString(16).padStart(2,"0");return"#".concat(o).concat(h).concat(s)},n.getCloneObject=function i(e){if(!e)return e;var o=Array.isArray(e)?[]:{};for(var h in e){var s=e[h];s instanceof Date?o[h]=new Date(s):o[h]=typeof s=="object"?i(s):s}return o},n.getTextLines=function(i,e,o){for(var h=e.split(" "),s="",f="",l=[],g=0;g<h.length;g++)f+="".concat(h[g]," "),i.measureText(f.trimEnd()).width>o&&g>0?(l.push(s),s="".concat(h[g]," "),f="".concat(h[g]," ")):s+="".concat(h[g]," "),g===h.length-1&&l.push(s);return l}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(l){for(var g,d=1,t=arguments.length;d<t;d++)for(var a in g=arguments[d])Object.prototype.hasOwnProperty.call(g,a)&&(l[a]=g[a]);return l},m.apply(this,arguments)};function b(l,g,d){for(g===void 0&&(g="dhx_id"),d===void 0&&(d="target"),l instanceof Event&&(l=l[d]);l;){if(l.getAttribute&&l.getAttribute(g))return l;l=l.parentNode}}Object.defineProperty(n,"__esModule",{value:!0}),n.getLabelStyle=n.getPageCss=n.fitPosition=n.calculatePosition=n.getRealPosition=n.isFirefox=n.isSafari=n.isIE=n.getScrollbarHeight=n.getScrollbarWidth=n.getBox=n.locateNodeByClassName=n.locate=n.locateNode=n.eventHandler=n.toNode=void 0,n.toNode=function(l){var g;return typeof l=="string"?document.getElementById(l)||document.querySelector(l)||((g=document.querySelector("[dhx_root_id=".concat(l,"]")))===null||g===void 0?void 0:g.parentElement)||document.body:l||document.body},n.eventHandler=function(l,g,d){var t=Object.keys(g);return function(a){var u=l(a);if(u!==void 0){var r=a.target;t:for(;r;){var c=r.getAttribute&&r.getAttribute("class")||"";if(c.length){for(var v=c.split(" "),x=0;x<t.length;x++)if(v.includes(t[x])){if(g[t[x]](a,u)===!1)return!1;break t}}r=r.parentNode}}return d&&d(a),!0}},n.locateNode=b,n.locate=function(l,g){g===void 0&&(g="dhx_id");var d=b(l,g);return d?d.getAttribute(g):""},n.locateNodeByClassName=function(l,g){for(l instanceof Event&&(l=l.target);l;){if(g){if(l.classList&&l.classList.contains(g))return l}else if(l.getAttribute&&l.getAttribute("dhx_id"))return l;l=l.parentNode}},n.getBox=function(l){var g=l.getBoundingClientRect(),d=document.body,t=window.pageYOffset||d.scrollTop,a=window.pageXOffset||d.scrollLeft;return{top:g.top+t,left:g.left+a,right:d.offsetWidth-g.right,bottom:d.offsetHeight-g.bottom,width:g.right-g.left,height:g.bottom-g.top}};var p=-1;n.getScrollbarWidth=function(){if(p>-1)return p;var l=document.createElement("div");return document.body.appendChild(l),l.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",p=l.offsetWidth-l.clientWidth,document.body.removeChild(l),p};var i=-1;function e(l){var g=l.getBoundingClientRect();return{left:g.left+window.pageXOffset,right:g.right+window.pageXOffset,top:g.top+window.pageYOffset,bottom:g.bottom+window.pageYOffset}}function o(){return{rightBorder:window.pageXOffset+window.innerWidth,bottomBorder:window.pageYOffset+window.innerHeight}}function h(l,g){var d,t,a=o(),u=a.rightBorder,r=a.bottomBorder-l.bottom-g.height,c=l.top-g.height;if(g.mode==="bottom"?r>=0?t=l.bottom:c>=0&&(t=c):c>=0?t=c:r>=0&&(t=l.bottom),r<0&&c<0){if(g.auto)return s(l,m(m({},g),{mode:"right",auto:!1}));t=r>c?l.bottom:c}if(g.centering)d=function(w,k,S){var T=(k-(w.right-w.left))/2,E=w.left-T,M=w.right+T;return E>=0&&M<=S?E:E<0?0:S-k}(l,g.width,u);else{var v=u-l.left-g.width,x=l.right-g.width;d=v>=0?l.left:x>=0?x:x>v?l.left:x}return{left:d,top:t}}function s(l,g){var d,t,a=o(),u=a.rightBorder,r=a.bottomBorder,c=u-l.right-g.width,v=l.left-g.width;if(g.mode==="right"?c>=0?d=l.right:v>=0&&(d=v):v>=0?d=v:c>=0&&(d=l.right),v<0&&c<0){if(g.auto)return h(l,m(m({},g),{mode:"bottom",auto:!1}));d=v>c?v:l.right}if(g.centering)t=function(k,S,T){var E=(S-(k.bottom-k.top))/2,M=k.top-E,O=k.bottom+E;return M>=0&&O<=T?M:M<0?0:T-S}(l,g.height,u);else{var x=l.bottom-g.height,w=r-l.top-g.height;t=w>=0?l.top:x>0||x>w?x:l.top}return{left:d,top:t}}function f(l,g){var d=g.mode==="bottom"||g.mode==="top"?h(l,g):s(l,g),t=d.left,a=d.top;return{left:Math.round(t)+"px",top:Math.round(a)+"px",minWidth:Math.round(g.width)+"px",position:"absolute"}}n.getScrollbarHeight=function(){if(i>-1)return i;var l=document.createElement("div");return document.body.appendChild(l),l.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",i=l.offsetHeight-l.clientHeight,document.body.removeChild(l),i},n.isIE=function(){var l=window.navigator.userAgent;return l.includes("MSIE ")||l.includes("Trident/")},n.isSafari=function(){var l=function(t){return t.test(window.navigator.userAgent)},g=l(/Chrome/),d=l(/Firefox/);return!g&&!d&&l(/Safari/)},n.isFirefox=function(){var l=function(t){return t.test(window.navigator.userAgent)},g=l(/Chrome/),d=l(/Safari/);return!g&&!d&&l(/Firefox/)},n.getRealPosition=e,n.calculatePosition=f,n.fitPosition=function(l,g){return f(e(l),g)},n.getPageCss=function(){for(var l=[],g=0;g<document.styleSheets.length;g++)for(var d=document.styleSheets[g],t=("cssRules"in d)?d.cssRules:d.rules,a=0;a<t.length;a++){var u=t[a];"cssText"in u?l.push(u.cssText):l.push("".concat(u.selectorText,` {
`).concat(u.style.cssText,`
}
`))}return l.join(`
`)},n.getLabelStyle=function(l){var g=l.helpMessage,d=l.type,t=l.labelWidth,a=l.label,u=t&&t.toString().startsWith("0"),r=d!=="text"&&l.required;return!!(g||r||!(!a||a&&u)||t&&!u)&&{style:(a||t)&&!u&&{width:t,"max-width":"100%"},label:a&&u?null:a}}},function(P,n,y){var m,b,p;Object.defineProperty(n,"__esModule",{value:!0}),n.GridSelectionEvents=n.GridSystemEvents=n.GridEvents=void 0,function(i){i.scroll="scroll",i.expand="expand",i.filterChange="filterChange",i.beforeResizeStart="beforeResizeStart",i.resize="resize",i.afterResizeEnd="afterResizeEnd",i.cellClick="cellClick",i.cellRightClick="cellRightClick",i.cellMouseOver="cellMouseOver",i.cellMouseDown="cellMouseDown",i.cellDblClick="cellDblClick",i.headerCellClick="headerCellClick",i.footerCellClick="footerCellClick",i.headerCellMouseOver="headerCellMouseOver",i.footerCellMouseOver="footerCellMouseOver",i.headerCellMouseDown="headerCellMouseDown",i.footerCellMouseDown="footerCellMouseDown",i.headerCellDblClick="headerCellDblClick",i.footerCellDblClick="footerCellDblClick",i.headerCellRightClick="headerCellRightClick",i.footerCellRightClick="footerCellRightClick",i.beforeEditStart="beforeEditStart",i.afterEditStart="afterEditStart",i.beforeEditEnd="beforeEditEnd",i.afterEditEnd="afterEditEnd",i.beforeKeyDown="beforeKeyDown",i.afterKeyDown="afterKeyDown",i.beforeColumnHide="beforeColumnHide",i.afterColumnHide="afterColumnHide",i.beforeColumnShow="beforeColumnShow",i.afterColumnShow="afterColumnShow",i.beforeRowHide="beforeRowHide",i.afterRowHide="afterRowHide",i.beforeRowShow="beforeRowShow",i.afterRowShow="afterRowShow",i.beforeRowDrag="beforeRowDrag",i.dragRowStart="dragRowStart",i.dragRowOut="dragRowOut",i.dragRowIn="dragRowIn",i.canRowDrop="canRowDrop",i.cancelRowDrop="cancelRowDrop",i.beforeRowDrop="beforeRowDrop",i.afterRowDrop="afterRowDrop",i.afterRowDrag="afterRowDrag",i.beforeColumnDrag="beforeColumnDrag",i.dragColumnStart="dragColumnStart",i.dragColumnOut="dragColumnOut",i.dragColumnIn="dragColumnIn",i.canColumnDrop="canColumnDrop",i.cancelColumnDrop="cancelColumnDrop",i.beforeColumnDrop="beforeColumnDrop",i.afterColumnDrop="afterColumnDrop",i.afterColumnDrag="afterColumnDrag",i.beforeRowResize="beforeRowResize",i.afterRowResize="afterRowResize",i.beforeSort="beforeSort",i.afterSort="afterSort"}(m||(n.GridEvents=m={})),function(i){i.cellTouchMove="cellTouchMove",i.cellTouchEnd="cellTouchEnd",i.headerCellTouchMove="headerCellTouchMove",i.headerCellTouchEnd="headerCellTouchEnd"}(b||(n.GridSystemEvents=b={})),function(i){i.beforeUnSelect="beforeUnSelect",i.afterUnSelect="afterUnSelect",i.beforeSelect="beforeSelect",i.afterSelect="afterSelect"}(p||(n.GridSelectionEvents=p={}))},function(P,n,y){var m,b,p,i;Object.defineProperty(n,"__esModule",{value:!0}),n.RichTextEvents=n.RTEToolbarBlock=n.Action=n.Modifier=void 0,function(e){e[e.none=0]="none",e.style="style",e.align="align",e.blockquote="blockquote",e.bold="bold",e.italic="italic",e.strike="strike",e.fontSize="font-size",e.fontFamily="font-family",e.underline="underline",e.color="color",e.background="background",e.link="link"}(m||(n.Modifier=m={})),function(e){e.add="add",e.innerAdd="innerAdd",e.remove="remove",e.update="update",e.undo="undo",e.paste="paste",e.copy="copy",e.cut="cut",e.redo="redo",e.clear="clear",e.parse="parse",e.selectAll="selectAll"}(b||(n.Action=b={})),function(e){e.default="default",e.undo="undo",e.style="style",e.decoration="decoration",e.color="colors",e.align="align",e.link="link",e.clear="clear",e.fullscreen="fullscreen",e.stats="stats"}(p||(n.RTEToolbarBlock=p={})),function(e){e.change="change",e.action="action",e.selectionChange="selectionchange",e.selectionRefresh="selectionrefresh",e.showLinkEditor="showlinkeditor",e.compositionStart="compositionstart",e.compositionUpdate="compositionupdate",e.compositionEnd="compositionend"}(i||(n.RichTextEvents=i={}))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.EventsMixin=n.EventSystem=void 0;var m=function(){function b(p){this.events={},this.context=p||this}return b.prototype.on=function(p,i,e){var o=p.toLowerCase();this.events[o]=this.events[o]||[],this.events[o].push({callback:i,context:e||this.context})},b.prototype.detach=function(p,i){var e=p.toLowerCase(),o=this.events[e];if(i&&o&&o.length)for(var h=o.length-1;h>=0;h--)o[h].context===i&&o.splice(h,1);else this.events[e]=[]},b.prototype.fire=function(p,i){i===void 0&&(i=[]);var e=p.toLowerCase();return!this.events[e]||!this.events[e].map(function(o){return o.callback.apply(o.context,i)}).includes(!1)},b.prototype.clear=function(){this.events={}},b}();n.EventSystem=m,n.EventsMixin=function(b){var p=new m(b=b||{});b.detachEvent=p.detach.bind(p),b.attachEvent=p.on.bind(p),b.callEvent=p.fire.bind(p)}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.toViewLike=n.View=void 0;var m=y(1),b=y(2),p=function(){function i(e,o){this.config=o||{},this._uid=this.config.rootId||(0,m.uid)()}return i.prototype.mount=function(e,o){o&&(this._view=o),e&&this._view&&this._view.mount&&(this._container=(0,b.toNode)(e),this._container.tagName?this._view.mount(this._container):this._container.attach&&this._container.attach(this))},i.prototype.unmount=function(){var e=this.getRootView();e&&e.node&&(e.unmount(),this._view=null)},i.prototype.getRootView=function(){return this._view},i.prototype.getRootNode=function(){return this._view&&this._view.node&&this._view.node.el},i.prototype.paint=function(){this._view&&(this._view.node||this._container)&&(this._doNotRepaint=!1,this._view.redraw())},i}();n.View=p,n.toViewLike=function(i){return{getRootView:function(){return i},paint:function(){return i.node&&i.redraw()},mount:function(e){return i.mount(e)}}}},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(12),n),b(y(49),n),b(y(106),n),b(y(107),n),b(y(20),n),b(y(138),n),b(y(13),n),b(y(52),n),b(y(51),n),b(y(139),n),b(y(50),n),b(y(34),n)},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.getTotalHeight=n.getTotalWidth=n.isHtmlEnable=n.isTooltip=n.isAutoWidth=n.isSortable=n.isRowEmpty=n.isCssSupport=n.removeHTMLTags=n.getStyleByClass=n.transpose=void 0;var m=y(1);n.transpose=function(b,p){for(var i=[],e=0;e<b.length;e++)for(var o=b[e],h=0;h<o.length;h++){i[h]=i[h]||[];var s=p?p(o[h]):o[h];i[h].push(s)}return i},n.getStyleByClass=function(b,p,i,e){var o,h,s=p.querySelector("."+i),f=(o=s,typeof(h='<div class="'.concat(b,'"></div>'))=="string"?(o.insertAdjacentHTML("beforeend",h),o.lastChild):(o.appendChild(h),h)),l=window.getComputedStyle(f),g={color:l.color==="rgb(0, 0, 0)"?e.color:(0,m.rgbToHex)(l.color),background:l.backgroundColor==="rgba(0, 0, 0, 0)"?e.background:(0,m.rgbToHex)(l.backgroundColor),fontSize:parseFloat(l.fontSize)};return s.removeChild(f),g.color===e.color&&g.background===e.background&&g.fontSize===e.fontSize?null:g},n.removeHTMLTags=function(b){return typeof b!="string"&&typeof b!="number"&&typeof b!="boolean"?"":"".concat(b==null?"":b).replace(/<[^>]*>/g,"").replace(/["]/g,"&quot;").trim()},n.isCssSupport=function(b,p){try{return CSS.supports(b,p)}catch{var i=document.createElement("div");return i.style[b]=p,i.style[b]===p}},n.isRowEmpty=function(b){if(b)return Object.keys(b).reduce(function(p,i){return i==="id"||i.startsWith("$")?p:p&&b[i]!==void 0&&b[i]!==""?void 0:p},!0)},n.isSortable=function(b,p){return p.sortable!==!1&&b.sortable||p.sortable},n.isAutoWidth=function(b,p){if(p)return p.autoWidth!==!1&&b.autoWidth||p.autoWidth;var i=!1;return b.columns.map(function(e){(e.autoWidth!==!1&&b.autoWidth||e.autoWidth)&&(i=!0)}),i},n.isTooltip=function(b,p){return p.tooltip!==!1&&b.tooltip||p.tooltip},n.isHtmlEnable=function(b,p){return p.htmlEnable!==!1&&b.htmlEnable||p.htmlEnable},n.getTotalWidth=function(b){return b.reduce(function(p,i){return p+(i.$width||0)},0)},n.getTotalHeight=function(b){return b.reduce(function(p,i){return p+(i.$height||0)},0)}},function(P,n,y){function m(b){return b!==null&&typeof b=="object"&&!(b instanceof Date)}Object.defineProperty(n,"__esModule",{value:!0}),n.startsWith=n.copyWithout=n.isEqual=n.textSelectColor=n.textColor=n.actionIdToModifierValue=n.hashToInfo=n.getLinkRefer=n.getTextHash=void 0,n.getTextHash=function(b,p){return b+"_"+p},n.getLinkRefer=function(){var b=0;return function(){return"link_ref_"+b++}},n.hashToInfo=function(b){return b===void 0&&(b=""),b?b.split("_").map(function(p){return parseInt(p,10)}):[]},n.actionIdToModifierValue=function(b){return b.split("-").pop()},n.textColor=function(b){return'<span class="dxi dxi-format-color-text dhx_richtext__text-color" style="border-color: '.concat(b,';"></span>')},n.textSelectColor=function(b){return'<span class="dxi dxi-format-color-fill dhx_richtext__background-color" style="border-color: '.concat(b,';"></span>')},n.isEqual=function b(p,i,e){e===void 0&&(e=!1);var o=Object.keys(p),h=Object.keys(i);if(o.length!==h.length)return!1;for(var s=0,f=o;s<f.length;s++){var l=f[s];if(e&&m(p[l])&&m(i[l])){if(!b(p[l],i[l],e))return!1}else if(p[l]!==i[l])return!1}return!0},n.copyWithout=function(b,p){var i={};for(var e in b)p.hasOwnProperty(e)||(i[e]=b[e]);return i},n.startsWith=function(b,p){if(b.length<p.length)return!1;for(var i=0;i<p.length;i++)if(b[i]!==p[i])return!1;return!0}},function(P,n,y){(function(m,b){(function(){m=typeof window<"u"?window:this;var p=1,i={},e=!1;function o(s){m.setImmediate?b(s):m.importScripts?setTimeout(s):(p++,i[p]=s,m.postMessage(p,"*"))}function h(s){if(typeof s!="function"&&s!=null||typeof this!="object"||this&&this.then)throw TypeError();var f,l,g=this,d=0,t=0,a=[];g.promise=g,g.resolve=function(v){return f=g.fn,l=g.er,d||(t=v,d=1,o(c)),g},g.reject=function(v){return f=g.fn,l=g.er,d||(t=v,d=2,o(c)),g},g._d=1,g.then=function(v,x){if(this._d!=1)throw TypeError();var w=new h;return w.fn=v,w.er=x,d==3?w.resolve(t):d==4?w.reject(t):a.push(w),w},g.catch=function(v){return g.then(null,v)};var u=function(v){d=v||4,a.map(function(x){d==3&&x.resolve(t)||x.reject(t)})};try{typeof s=="function"&&s(g.resolve,g.reject)}catch(v){g.reject(v)}return g;function r(v,x,w,k){if(d==2)return k();if(typeof t!="object"&&typeof t!="function"||typeof v!="function")k();else try{var S=0;v.call(t,function(T){S++||(t=T,x())},function(T){S++||(t=T,w())})}catch(T){t=T,w()}}function c(){var v;try{v=t&&t.then}catch(x){return t=x,d=2,c()}r(v,function(){d=1,c()},function(){d=2,c()},function(){try{d==1&&typeof f=="function"?t=f(t):d==2&&typeof l=="function"&&(t=l(t),d=1)}catch(x){return t=x,u()}t==g?(t=TypeError(),u()):r(v,function(){u(3)},u,function(){u(d==1&&3)})})}}m.setImmediate||m.addEventListener("message",function(s){if(s.source==m)if(e)o(i[s.data]);else{e=!0;try{i[s.data]()}catch{}delete i[s.data],e=!1}}),h.resolve=function(s){if(this._d!=1)throw TypeError();return s instanceof h?s:new h(function(f){f(s)})},h.reject=function(s){if(this._d!=1)throw TypeError();return new h(function(f,l){l(s)})},h.all=function(s){if(this._d!=1)throw TypeError();if(!(s instanceof Array))return h.reject(TypeError());var f=new h;return function l(g,d){if(d)return f.resolve(d);if(g)return f.reject(g);s.reduce(function(t,a){return a&&a.then?t+1:t},0)==0&&f.resolve(s),s.map(function(t,a){t&&t.then&&t.then(function(u){return s[a]=u,l(),u},l)})}(),f},h.race=function(s){if(this._d!=1)throw TypeError();if(!(s instanceof Array))return h.reject(TypeError());if(s.length==0)return new h;var f=new h;return function l(g,d){if(d)return f.resolve(d);if(g)return f.reject(g);s.reduce(function(t,a){return a&&a.then?t+1:t},0)==0&&f.resolve(s),s.map(function(t,a){t&&t.then&&t.then(function(u){l(null,u)},l)})}(),f},h._d=1,P.exports=h})()}).call(this,y(22),y(82).setImmediate)},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.defaultStyleCommon=n.defaultFontSizeByBlock=n.defaultBlocks=n.emptyStyle=n.getToolbarData=n.fonts=n.fontNumbers=n.fontSizes=void 0;var b=y(9),p=y(16),i=y(4);function e(){var h=[];for(var s in n.fontSizes){var f=parseInt(s,10);h.push({id:"font-size-"+f,value:s})}return h}function o(){var h=[];for(var s in n.fonts)h.push({id:"font-"+s,value:s});return h}n.fontSizes={"12px":!0,"14px":!0,"16px":!0,"18px":!0,"20px":!0,"24px":!0,"28px":!0,"32px":!0,"36px":!0},n.fontNumbers=[12,14,16,18,20,24,28,32,36],n.fonts={Roboto:!0,Arial:!0,Georgia:!0,Tahoma:!0,"Times New Roman":!0,Verdana:!0},n.getToolbarData=function(h,s){var f,l=((f={})[i.RTEToolbarBlock.undo]=[{id:"undo",tooltip:p.default.undo,type:"button",view:"link",color:"secondary",icon:"dxi-undo",multiClick:!0,disabled:!0},{id:"redo",tooltip:p.default.redo,type:"button",view:"link",color:"secondary",icon:"dxi-redo",multiClick:!0,disabled:!0}],f[i.RTEToolbarBlock.style]=[{id:i.Modifier.fontFamily,value:s[i.Modifier.fontFamily],tooltip:p.default.selectFontFamily,css:"dhx_richtext__dropdown",type:"button",view:"link",color:"secondary",size:"small",items:o()},{id:i.Modifier.fontSize,value:s[i.Modifier.fontSize],tooltip:p.default.selectFontSize,css:"dhx_richtext__dropdown",type:"button",view:"link",color:"secondary",size:"small",items:e()},{id:i.Modifier.style,tooltip:p.default.selectFormat,value:p.default[s[i.Modifier.style]],css:"dhx_richtext__dropdown",type:"button",view:"link",color:"secondary",size:"small",items:[{id:"style-p",value:p.default.p},{id:"style-h1",css:"dhx_richtext__menu-text--h1",value:p.default.h1},{id:"style-h2",css:"dhx_richtext__menu-text--h2",value:p.default.h2},{id:"style-h3",css:"dhx_richtext__menu-text--h3",value:p.default.h3},{id:"style-h4",css:"dhx_richtext__menu-text--h4",value:p.default.h4},{id:"style-h5",css:"dhx_richtext__menu-text--h5",value:p.default.h5},{id:"style-h6",css:"dhx_richtext__menu-text--h6",value:p.default.h6}]},{id:i.Modifier.blockquote,tooltip:p.default.blockquote,active:s[i.Modifier.blockquote],type:"button",view:"link",color:"secondary",size:"small",icon:"dxi-format-quote-open"}],f[i.RTEToolbarBlock.color]=[{id:i.Modifier.color,tooltip:p.default.selectTextColor,type:"customButton",css:"dhx_button--toolbar dhx_button--color_secondary",color:"secondary",html:(0,b.textColor)(s[i.Modifier.color])},{id:i.Modifier.background,tooltip:p.default.selectTextBackground,type:"customButton",css:"dhx_button--toolbar dhx_button--color_secondary",color:"secondary",html:(0,b.textSelectColor)(s[i.Modifier.background])}],f[i.RTEToolbarBlock.decoration]=[{id:i.Modifier.bold,tooltip:p.default.markBold,icon:"dxi-format-bold",type:"button",view:"link",color:"secondary",hotkey:"ctrl+b",active:s[i.Modifier.bold]},{id:i.Modifier.italic,tooltip:p.default.markItalic,icon:"dxi-format-italic",type:"button",view:"link",color:"secondary",hotkey:"ctrl+i",active:s[i.Modifier.italic]},{id:i.Modifier.strike,tooltip:p.default.markStrike,icon:"dxi-format-strikethrough",type:"button",color:"secondary",view:"link",active:s[i.Modifier.strike]},{id:i.Modifier.underline,tooltip:p.default.markUnderline,icon:"dxi-format-underline",type:"button",view:"link",color:"secondary",hotkey:"ctrl+u",active:s[i.Modifier.underline]}],f[i.RTEToolbarBlock.align]=[{id:"align-left",tooltip:p.default.alignLeft,type:"button",view:"link",color:"secondary",icon:"dxi-format-align-left",active:s[i.Modifier.align]==="left"},{id:"align-center",tooltip:p.default.alignCenter,type:"button",view:"link",color:"secondary",icon:"dxi-format-align-center",active:s[i.Modifier.align]==="center"},{id:"align-right",tooltip:p.default.alignRight,type:"button",view:"link",color:"secondary",icon:"dxi-format-align-right",active:s[i.Modifier.align]==="right"}],f[i.RTEToolbarBlock.link]=[{id:i.Modifier.link,tooltip:p.default.addLink,type:"button",view:"link",color:"secondary",icon:"dxi-link-variant"}],f[i.RTEToolbarBlock.clear]=[{id:"clear-style",tooltip:p.default.clearFormat,type:"button",view:"link",color:"secondary",icon:"dxi-eraser"}],f[i.RTEToolbarBlock.stats]=[{id:"stats",tooltip:p.default.stats,type:"button",view:"link",color:"secondary",icon:"dxi-information-outline"}],f[i.RTEToolbarBlock.fullscreen]=[{id:"fullscreen",$fullscreen:!1,tooltip:p.default.fullscreen,type:"button",view:"link",color:"secondary",icon:"dxi-arrow-expand"}],f);return h.reduce(function(g,d,t){return g.push.apply(g,l[d]),t!==h.length-1&&g.push({type:"separator"}),g},[])},n.emptyStyle={},n.defaultBlocks=[i.RTEToolbarBlock.undo,i.RTEToolbarBlock.style,i.RTEToolbarBlock.decoration,i.RTEToolbarBlock.color,i.RTEToolbarBlock.align,i.RTEToolbarBlock.link],n.defaultFontSizeByBlock={p:"14px",h1:"36px",h2:"32px",h3:"28px",h4:"24px",h5:"20px",h6:"16px"},n.defaultStyleCommon=((m={})[i.Modifier.fontFamily]="Roboto",m[i.Modifier.fontSize]="14px",m[i.Modifier.color]="#4D4D4D",m[i.Modifier.background]="#FFFFFF",m[i.Modifier.bold]=!1,m[i.Modifier.italic]=!1,m[i.Modifier.strike]=!1,m[i.Modifier.underline]=!1,m[i.Modifier.style]="p",m[i.Modifier.blockquote]=!1,m[i.Modifier.align]="left",m)},function(P,n,y){var m,b,p,i;Object.defineProperty(n,"__esModule",{value:!0}),n.DataDriver=n.DragEvents=n.DataEvents=n.TreeFilterType=void 0,function(e){e.all="all",e.level="level",e.leafs="leafs"}(m||(n.TreeFilterType=m={})),function(e){e.afterAdd="afteradd",e.beforeAdd="beforeadd",e.removeAll="removeall",e.beforeRemove="beforeremove",e.afterRemove="afterremove",e.change="change",e.load="load",e.loadError="loaderror",e.beforeLazyLoad="beforelazyload",e.afterLazyLoad="afterlazyload"}(b||(n.DataEvents=b={})),function(e){e.beforeDrag="beforeDrag",e.dragStart="dragStart",e.dragOut="dragOut",e.dragIn="dragIn",e.canDrop="canDrop",e.cancelDrop="cancelDrop",e.beforeDrop="beforeDrop",e.afterDrop="afterDrop",e.afterDrag="afterDrag"}(p||(n.DragEvents=p={})),function(e){e.json="json",e.csv="csv",e.xml="xml"}(i||(n.DataDriver=i={}))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.hasJsonOrArrayStructure=n.isTreeCollection=n.copyWithoutInner=n.toDataDriver=n.toProxy=n.dhxError=n.dhxWarning=n.isDebug=n.findByConf=n.naturalCompare=n.isEqualObj=void 0;var m=y(20),b=y(50);n.isEqualObj=function(p,i){for(var e in p)if(p[e]!==i[e]||Array.isArray(p[e]))return!1;return!0},n.naturalCompare=function(p,i){if(isNaN(p)||isNaN(i)){var e=[],o=[];for(p.replace(/(\d+)|(\D+)/g,function(l,g,d){e.push([g||1/0,d||""])}),i.replace(/(\d+)|(\D+)/g,function(l,g,d){o.push([g||1/0,d||""])});e.length&&o.length;){var h=e.shift(),s=o.shift(),f=h[0]-s[0]||h[1].localeCompare(s[1]);if(f)return f}return e.length-o.length}return p-i},n.findByConf=function(p,i){if(typeof i=="function"){if(i.call(this,p))return p}else if(i.by&&i.match&&p[i.by]===i.match)return p},n.isDebug=function(){var p=window.dhx;if(p!==void 0)return p.debug!==void 0&&p.debug},n.dhxWarning=function(p){console.warn(p)},n.dhxError=function(p){throw new Error(p)},n.toProxy=function(p){var i=typeof p;return i==="string"?new m.DataProxy(p):i==="object"?p:void 0},n.toDataDriver=function(p){if(typeof p=="string"){var i=window.dhx,e=i&&i.dataDrivers||b.dataDrivers;if(e[p])return new e[p];console.warn("Incorrect data driver type:",p),console.warn("Available types:",JSON.stringify(Object.keys(e)))}else if(typeof p=="object")return p},n.copyWithoutInner=function(p,i){var e={};for(var o in p)o.startsWith("$")||i&&i[o]||(e[o]=p[o]);return e},n.isTreeCollection=function(p){return Boolean(p.getRoot)},n.hasJsonOrArrayStructure=function(p){if(typeof p=="object")return!0;if(typeof p!="string")return!1;try{var i=JSON.parse(p);return Object.prototype.toString.call(i)==="[object Object]"||Array.isArray(i)}catch{return!1}}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.getTreeCellWidthOffset=n.getCalculatedRowHeight=n.toFormat=n.getMaxColsWidth=n.getMaxRowHeight=n.getUnique=n.calculatePositions=n.countColumns=n.normalizeColumns=void 0;var m=y(1),b=y(8),p=y(25);function i(e,o){e[o]&&(typeof e[o]=="string"?e[o]=[{text:"".concat(e[o])}]:e[o]=e[o].map(function(h){return typeof h=="string"&&(h={text:h}),h}))}n.normalizeColumns=function(e,o){var h=e.columns,s=e.htmlEnable;o===void 0&&(o=!1);for(var f=0,l=h;f<l.length;f++){var g=l[f];g.$htmlEnable=!(!g.htmlEnable&&!s),g.$cellCss=g.$cellCss||{},i(g,"header"),i(g,"footer"),g.header.reduce(function(t,a){return t||!!a.content},!1)&&(g.$uniqueData=[]);var d=g.minWidth||100;g.width&&(d=g.maxWidth&&g.minWidth?g.width>=g.minWidth&&g.width<=g.maxWidth?g.width:g.width>=g.maxWidth?g.maxWidth:g.minWidth:g.maxWidth?g.width<=g.maxWidth?g.width:g.maxWidth>100?g.maxWidth:100:g.minWidth?g.width>=g.minWidth?g.width:g.minWidth:g.width),g.$width=g.$width&&!o?g.$width:d,g.$width>g.maxWidth&&(g.$width=g.maxWidth),g.$width<g.minWidth&&(g.$width=g.minWidth)}},n.countColumns=function(e,o){var h=0,s=0,f=0,l=!1,g=0,d=!1;return o.forEach(function(t){if(h=Math.max(h,t.header.length),f+=t.$width,t.footer&&(s=Math.max(s,t.footer.length),d||(d=!0)),!l){for(var a=0,u=t.header;a<u.length;a++)if(u[a].colspan)return void(l=!0)}}),o.forEach(function(t){if(t.header.length<h)for(var a=0;a<h;a++)t.header[a]=t.header[a]||{text:""};if(d&&(t.footer=t.footer||[]),t.footer&&t.footer.length<s)for(a=0;a<s;a++)t.footer[a]=t.footer[a]||{text:""};t.header=t.header.map(function(u){return typeof u!="object"&&(u={text:u}),u.css=u.css||"",u.text||u.css.includes("dhx_cell-empty")||(u.css+=" dhx_cell-empty"),u}),t.header[0].text===""&&g++}),e.$totalWidth=f,e.$headerLevel=h,e.$footerLevel=s,e.$colspans=l,e.$footer=d,g},n.calculatePositions=function(e,o,h,s,f){for(var l=s.columns||[],g=l.length,d=f||[],t=d.length,a=-1/0,u=0;u<g;u++)l[u].$width>a&&(a=l[u].$width);var r=1/0;for(u=0;u<g;u++)l[u].$width<r&&(r=l[u].$width);var c=-1/0;for(u=0;u<t;u++)d[u].$height>c&&(c=d[u].$height);for(var v=s.rowHeight,x=Math.round(a/r),w=Math.round(c/v),k=s.$totalWidth/g,S=Math.round(e/k),T=s.$totalHeight/t,E=Math.round(o/T),M=0,O=h.left,I=0;I<l.length&&(O-=l[I].$width)+k/2>0;I++)M++;var D=0,A=h.top;for(I=0;I<d.length&&(A-=d[I].$height)+T/2>0;I++)D++;return{xStart:M-x>=0?M-x:0,xEnd:M+S+x,yStart:D-w>=0?D-w:0,yEnd:D+E+w}},n.getUnique=function(e,o,h){var s=e.map(function(f){return f[o]});return h&&s.forEach(function(f,l){f.includes(", ")&&(f.split(", ").forEach(function(g){return s.push(g)}),delete s[l])}),s.filter(function(f,l,g){return g.indexOf(f)===l&&(0,m.isDefined)(f)}).sort()},n.getMaxRowHeight=function(e,o,h){var s,f;h===void 0&&(h={font:"20px Roboto",lineHeight:20});var l=document.createElement("canvas"),g=l.getContext("2d",{alpha:!1});g.font=h.font;for(var d={},t=o.length,a=0;a<t;a++)o[a].template?d[o[a].id]={width:o[a].$width||0,htmlEnable:o[a].$htmlEnable,template:o[a].template,cols:o[a]}:d[o[a].id]={width:o[a].$width||0,htmlEnable:o[a].$htmlEnable};for(var u=[],r=[],c=0,v=Object.entries(e);c<v.length;c++){var x=v[c],w=x[0],k=x[1];if(d[w]&&w!=="id"&&w!=="height"&&!w.startsWith("$")&&(typeof k=="string"||typeof k=="number")){var S="";if(!((s=d[w])===null||s===void 0)&&s.template){var T=d[w].template(k,e,d[w].cols);S=d[w].htmlEnable?(0,b.removeHTMLTags)(T):T}else S=typeof k=="string"?d[w].htmlEnable?(0,b.removeHTMLTags)(k):k:k.toString();u.push(S.split(`
`).length),r.push(Math.round(g.measureText(S).width/((f=d[w])===null||f===void 0?void 0:f.width)))}}var E=Math.max((0,m.getMaxArrayNymber)(u),(0,m.getMaxArrayNymber)(r));return l.remove(),E*h.lineHeight},n.getMaxColsWidth=function(e,o,h,s){var f;if(h===void 0&&(h={font:"normal 14.4px Arial"}),e.length&&o.length){var l=document.createElement("canvas"),g=l.getContext("2d",{alpha:!1});g.font=h.font;for(var d={},t=o.length,a=0;a<t;a++)o[a].template&&s==="data"?d[o[a].id]={width:20,htmlEnable:o[a].$htmlEnable,template:o[a].template,cols:o[a]}:d[o[a].id]={width:20,htmlEnable:o[a].$htmlEnable,format:o[a].format};var u=e.length;for(a=0;a<u;a++)for(var r=0,c=Object.entries(e[a]);r<c.length;r++){var v=c[r],x=v[0],w=v[1];if(d[x]&&x!=="id"&&x!=="height"&&!x.startsWith("$")&&(typeof w=="string"||typeof w=="number"||w instanceof Date)){var k=void 0;if(typeof((f=d[x])===null||f===void 0?void 0:f.template)!="function"||w instanceof Date)k=w instanceof Date?(0,p.getFormattedDate)(d[x].format||"%M %d %Y",w):d[x].htmlEnable?(0,b.removeHTMLTags)(w):w.toString();else{var S=d[x].template(w,e[a],d[x].cols);k=d[x].htmlEnable?(0,b.removeHTMLTags)(S):S}var T=g.measureText(k).width;T>d[x].width&&(d[x].width=T)}}l.remove();for(var E={},M=0,O=Object.entries(d);M<O.length;M++){var I=O[M];x=I[0],w=I[1],E[x]=Math.ceil(w.width)}return E}},n.toFormat=function(e,o,h){if(!e&&typeof e!="number")return e;switch(o){case"number":case"percent":return h||(h="#"),(0,m.isDefined)(e)&&!isNaN(Number(e))?function(s){var f;e=e.toString();var l=h.replace(/#+/g,"#").split("#").filter(function(c){return c});e=s==="percent"?(100*Number(e)).toString():e;var g=Math.trunc(Number(e)).toString(),d=h.match(/0/g)&&h.match(/0/g).length,t=l.find(function(c){return!c.includes("0")});if(f=t?g.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1".concat(t)):g,d){var a=l.find(function(c){return c.includes("0")}).replace(/0+/g,""),u=e.split(".")[1]||"0",r=Number("0."+u).toFixed(d);Number(r)>=1&&(f++).toString(),f+=a+(r=r.toString().split(".")[1].padEnd(d,"0"))}return s==="percent"?"".concat(f,"%"):f}(o):e;case"date":return h||(h="%M %d %Y"),typeof e=="string"?e=(0,p.getFormattedDate)(h,(0,p.stringToDate)(e,h)):typeof e=="object"&&(e=(0,p.getFormattedDate)(h,e)),e;default:return e}},n.getCalculatedRowHeight=function(e,o){o===void 0&&(o={rowHeight:40,padding:8});var h=o.rowHeight<40?e:e+2*o.padding;return e<o.rowHeight?o.rowHeight:h},n.getTreeCellWidthOffset=function(e){return 20+20*e.$level-(e.$items?20:0)}},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(94),n),b(y(43),n)},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.default={apply:"Apply",undo:"Undo",redo:"Redo",selectFontFamily:"Font",selectFontSize:"Font size",selectFormat:"Style",selectTextColor:"Text color",selectTextBackground:"Background color",markBold:"Bold",markItalic:"Italic",markStrike:"Strike",markUnderline:"Underline",alignLeft:"Align left",alignCenter:"Align center",alignRight:"Align right",addLink:"Add link",clearFormat:"Clear formatting",fullscreen:"Fullscreen",stats:"Statistics",removeLink:"Remove link",edit:"Edit",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6",p:"Normal text",blockquote:"Block quote",chars:"chars",charsExlSpace:"Characters without spaces",words:"words",link:"Link",text:"Text"}},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(91),n),b(y(92),n),b(y(93),n),b(y(42),n),b(y(30),n)},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyManager=void 0;var m=y(19),b=y(2);function p(o){for(var h=o.toLowerCase().match(/\w+/g),s=0,f="",l=0;l<h.length;l++){var g=h[l];g==="ctrl"?s+=4:g==="shift"?s+=2:g==="alt"?s+=1:f=g}return s+f}var i={Up:"arrowUp",Down:"arrowDown",Right:"arrowRight",Left:"arrowLeft",Esc:"escape",Spacebar:"space"},e=function(){function o(h){var s=this;this._keysStorage={},this._initHandler=function(f){var l;if(f.which>=48&&f.which<=57||f.which>=65&&f.which<=90)l=String.fromCharCode(f.which);else{var g=f.which===32?f.code:f.key;l=(0,b.isIE)()&&i[g]||g}var d=s._keysStorage[(f.ctrlKey||f.metaKey?4:0)+(f.shiftKey?2:0)+(f.altKey?1:0)+(l&&l.toLowerCase())];if(d)for(var t=0;t<d.length;t++){if(s._beforeCall&&s._beforeCall(f,m.focusManager.getFocusId())===!1)return;d[t].handler(f)}},h&&(this._beforeCall=h),document.addEventListener("keydown",this._initHandler)}return o.prototype.destructor=function(){document.removeEventListener("keydown",this._initHandler),this.removeHotKey()},o.prototype.addHotKey=function(h,s){var f=p(h);this._keysStorage[f]||(this._keysStorage[f]=[]),this._keysStorage[f].push({handler:s})},o.prototype.removeHotKey=function(h,s){var f=this;if(h)if(h&&s){var l=p(h),g=function(t){return t.toString().replace(/\n/g,"").replace(/\s/g,"")};this._keysStorage[l].forEach(function(t,a){g(t.handler)===g(s)&&(delete f._keysStorage[l][a],f._keysStorage[l]=f._keysStorage[l].filter(function(u){return u}))})}else{var d=p(h);delete this._keysStorage[d]}else this._keysStorage={}},o.prototype.exist=function(h){var s=p(h);return!!this._keysStorage[s]},o}();n.KeyManager=e},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.focusManager=void 0;var m=y(2),b=function(){function p(){var i=this;this._initHandler=function(e){return i._activeWidgetId=(0,m.locate)(e,"dhx_widget_id")},document.addEventListener("focusin",this._initHandler),document.addEventListener("click",this._initHandler)}return p.prototype.getFocusId=function(){return this._activeWidgetId},p.prototype.setFocusId=function(i){this._activeWidgetId=i},p}();n.focusManager=new b},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.DataProxy=void 0;var m=y(34),b=function(){function p(i,e){this.url=this._url=i,this.config=e}return p.prototype.updateUrl=function(i,e){for(var o in e===void 0&&(e={}),this._url=this.url=i||this._url,this.url+=this.url.includes("?")?"&":"?",e)this.config[o]=e[o],this.url+="".concat(o,"=").concat(encodeURIComponent(e[o]),"&");this.url=this.url.slice(0,-1)},p.prototype.load=function(){return m.ajax.get(this.url,void 0,{responseType:"text"})},p.prototype.save=function(i,e){switch(e){case"delete":return m.ajax.delete(this.url,i);case"insert":return m.ajax.put(this.url,i);default:return m.ajax.post(this.url,i)}},p}();n.DataProxy=b},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var e,o=1,h=arguments.length;o<h;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.getNavbarButtonCSS=n.navbarComponentMixin=n.getIcon=n.getCount=void 0;var b=y(0),p=y(1);n.getCount=function(i,e,o){var h={danger:" dhx_navbar-count--color_danger",secondary:" dhx_navbar-count--color_secondary",primary:" dhx_navbar-count--color_primary",success:" dhx_navbar-count--color_success"}[i.countColor]||" dhx_navbar-count--color_danger";return(0,b.el)(".dhx_navbar-count",{class:e+h+(!o&&parseInt(i.count,10)>99?" dhx_navbar-count--overlimit":"")},o&&parseInt(i.count,10)>99?"99+":i.count)},n.getIcon=function(i,e){return i===void 0&&(i=""),i.startsWith("dxi")&&(i="dxi "+i),(0,b.el)("span",{class:"dhx_".concat(e,"__icon ").concat(i),"aria-hidden":"true"})},n.navbarComponentMixin=function(i,e,o,h){var s,f,l=function(d,t,a){var u="",r="";return r=(u=a?"dhx_menu-item":"dhx_"+d+"__item")+(t.css?" "+t.css:""),t.type!=="spacer"&&t.type!=="separator"||(r+=" ".concat(u,"--").concat(t.type)),t.type!=="button"||d!=="sidebar"||t.icon||(r+=" dhx_navbar-item--colapse_hidden"),r}(i,e,o),g=i==="ribbon"&&(e.type==="navItem"||e.type==="imageButton");return(0,b.el)("li",m({_key:e.id,class:l+(e.icon&&!e.value&&g?" dhx_ribbon__item--icon":"")+(e.src&&!e.value&&g?" dhx_ribbon__item--icon":"")+(e.size&&g?" dhx_ribbon__item--"+e.size:""),".innerHTML":e.type==="customHTML"?e.html:void 0,dhx_id:e.type==="customHTML"?e.id:void 0},(s=e.type,f={role:"none"},s==="separator"&&(f.role="separator",f["aria-orientation"]="vertical"),f)),e.type!=="customHTML"?[h]:void 0)},n.getNavbarButtonCSS=function(i,e){var o=i.color,h=i.size,s=i.view,f=i.full,l=i.icon,g=i.circle,d=i.loading,t=i.value,a=i.active,u=i.count;return({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[o]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[h]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[s]||" dhx_button--view_flat")+(f?" dhx_button--width_full":"")+(g?" dhx_button--circle":"")+(d?" dhx_button--loading":"")+(a?" dhx_button--active":"")+(l&&!t?" dhx_button--icon":"")+((0,p.isDefined)(u)?" dhx_button--count":"")}},function(P,n){var y;y=function(){return this}();try{y=y||new Function("return this")()}catch{typeof window=="object"&&(y=window)}P.exports=y},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(38),n),b(y(87),n),b(y(29),n)},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.ScrollView=n.scrollViewConfig=void 0;var m=y(1),b=y(0),p=y(2);n.scrollViewConfig={enable:!1,autoHide:!0,timeout:1e3,scrollHandler:function(){}};var i=function(){function e(o,h){var s;h===void 0&&(h={});var f=this;this.config=(0,m.extend)({enable:n.scrollViewConfig.enable,autoHide:n.scrollViewConfig.autoHide,timeout:n.scrollViewConfig.timeout,scrollHandler:n.scrollViewConfig.scrollHandler},h),this._wheelName=(0,p.isIE)()?"onmousewheel":"onwheel",this._getRootView=o,this._scrollYTop=this._scrollXLeft=this._runnerYTop=this._runnerXLeft=this._runnerHeight=this._runnerWidth=0,this._visibleYArea=this._visibleXArea=1,this._scrollWidth=(0,p.getScrollbarWidth)(),this._scrollHeight=(0,p.getScrollbarHeight)(),this._handlers=((s={onscroll:function(l){f.config.scrollHandler(l),f.update()}})[this._wheelName]=function(l){var g=!!(0,p.locateNodeByClassName)(l.target,"y-scroll");l.preventDefault();var d=40*((l.deltaY||-l.wheelDelta)>0?1:-1),t=f._getRefs().area;if(g){var a=t.scrollHeight-f._runnerHeight,u=f._scrollYTop+d;t.scrollTop=u<0?0:u>a?a:u}else{var r=t.scrollWidth-f._runnerWidth,c=f._scrollXLeft+d;t.scrollLeft=c<0?0:c>r?r:c}f.update()},s.onmousedownRunner=function(l){l.preventDefault();var g=!!(0,p.locateNodeByClassName)(l.target,"y-scroll"),d=f._getRefs(),t=d.area,a=d.runnerY,u=d.runnerX,r=t.getBoundingClientRect(),c=r.top+window.pageYOffset,v=r.bottom+window.pageYOffset,x=t.scrollHeight-f._runnerHeight,w=l.pageY-a.getBoundingClientRect().top-window.pageYOffset,k=r.left+window.pageXOffset,S=r.right+window.pageXOffset,T=t.scrollWidth-f._runnerWidth,E=l.pageX-u.getBoundingClientRect().left-window.pageXOffset,M=function(I){if(g){var D=I.pageY-w;t.scrollTop=D<=c?0:D>v?x:(D-c)/f._visibleYArea}else{var A=I.pageX-E;t.scrollLeft=A<=k?0:A>S?T:(A-k)/f._visibleXArea}f.update()},O=function(){document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",O),document.body.classList.remove("dhx-no-select")};document.body.classList.add("dhx-no-select"),document.addEventListener("mousemove",M),document.addEventListener("mouseup",O)},s.onmousedownArea=function(l){if(!(0,p.locateNodeByClassName)(l,"scroll-runner")){l.preventDefault();var g=!!(0,p.locateNodeByClassName)(l.target,"y-scroll"),d=f._getRefs(),t=d.area,a=d.runnerY,u=d.runnerX;g?t.scrollTop+=(l.pageY-a.getBoundingClientRect().top)/f._visibleYArea:t.scrollLeft+=(l.pageX-u.getBoundingClientRect().left)/f._visibleXArea,f.update()}},s.onmouseenter=function(l){if(!(0,p.locateNodeByClassName)(l,"scroll-runner")){var g=f._getRefs();if(g){var d=!!(0,p.locateNodeByClassName)(l.target,"y-scroll"),t=g.areaX,a=g.areaY;d&&f._runnerHeight>0?a.style.background="#eee":!d&&f._runnerWidth>0&&(t.style.background="#eee")}}},s.onmouseleave=function(l){if(!(0,p.locateNodeByClassName)(l,"scroll-runner")){var g=f._getRefs();if(g){var d=!!(0,p.locateNodeByClassName)(l.target,"y-scroll"),t=g.areaX,a=g.areaY;d&&f._runnerHeight>0?a.style.background="transparent":!d&&f._runnerWidth>0&&(t.style.background="transparent")}}},s)}return e.prototype.enable=function(){this.config.enable=!0,this._getRootView().redraw()},e.prototype.disable=function(){this.config.enable=!1,this._getRootView().redraw()},e.prototype.render=function(o,h){var s,f,l=this;if(h===void 0&&(h=""),this._scrollWidth===0||!this.config.enable||!o.length)return o;h&&(this._uid=h);var g=this.config.enable?[(0,b.el)(".y-scroll",(s={},s[this._wheelName]=this._handlers[this._wheelName],s._ref=h?"scroll-y-area-".concat(h):"scroll-y-area",s.onmousedown=this._handlers.onmousedownArea,s.onmouseenter=this._handlers.onmouseenter,s.onmouseleave=this._handlers.onmouseleave,s.style={width:"6px",height:"100%",right:0,top:0,position:"absolute"},s),[(0,b.el)(".scroll-runner",{_ref:h?"scroll-y-runner-".concat(h):"scroll-y-runner",onmousedown:this._handlers.onmousedownRunner,style:{height:this._runnerHeight+"px",top:this._runnerYTop}})]),(0,b.el)(".x-scroll",(f={},f[this._wheelName]=this._handlers[this._wheelName],f._ref=h?"scroll-x-area-".concat(h):"scroll-x-area",f.onmousedown=this._handlers.onmousedownArea,f.onmouseenter=this._handlers.onmouseenter,f.onmouseleave=this._handlers.onmouseleave,f.style={width:"100%",height:"6px",left:0,bottom:0,position:"absolute"},f),[(0,b.el)(".scroll-runner",{_ref:h?"scroll-x-runner-".concat(h):"scroll-x-runner",onmousedown:this._handlers.onmousedownRunner,style:{width:this._runnerWidth+"px",left:this._runnerXLeft}})])]:null;return(0,b.el)(".scroll-view-wrapper",[(0,b.el)(".scroll-view",{onscroll:this._handlers.onscroll,_ref:h?"scroll-view-".concat(h):"scroll-view",_hooks:{didInsert:function(){l.update()},didRecycle:function(){l.update()}},style:{width:"calc(100% + ".concat(this._scrollWidth,"px)"),height:"calc(100% + ".concat(this._scrollHeight,"px)")}},o)].concat(g))},e.prototype.update=function(){var o=this._getRefs();if(o){var h=o.area,s=o.areaX,f=o.areaY,l=o.runnerY,g=o.runnerX;this._visibleYArea=h.clientHeight/h.scrollHeight,this._visibleXArea=h.clientWidth/h.scrollWidth,this._scrollYTop=h.scrollTop,this._scrollXLeft=h.scrollLeft,this._runnerYTop=this._scrollYTop*this._visibleYArea,this._runnerXLeft=this._scrollXLeft*this._visibleXArea,this._runnerHeight=this._visibleYArea<1?h.clientHeight*this._visibleYArea:0,this._runnerWidth=this._visibleXArea<1?h.clientWidth*this._visibleXArea:0;var d=l.style.top,t=g.style.left;l.style.opacity=1,l.style.top=this._runnerYTop+"px",l.style.height=this._runnerHeight+"px",g.style.opacity=1,g.style.left=this._runnerXLeft+"px",g.style.width=this._runnerWidth+"px",d!==l.style.top&&(f.style.opacity=.9,f.style.width="10px"),t!==g.style.left&&(s.style.opacity=.9,s.style.height="10px"),this.config.autoHide?!this._autoHideFunc&&(this._autoHideFunc=(0,m.debounce)(function(){l.style.opacity=0,f.style.width="6px",g.style.opacity=0,s.style.height="6px"},this.config.timeout)):this._autoHideFunc=(0,m.debounce)(function(){f.style.width="6px",s.style.height="6px"},this.config.timeout),this._autoHideFunc()}},e.prototype._getRefs=function(){var o=this._getRootView(),h=!(!o.refs["scroll-view"]||!o.refs["scroll-x-runner"]&&!o.refs["scroll-y-runner"]),s=!(!this._uid||!o.refs["scroll-view-".concat(this._uid)]||!o.refs["scroll-x-runner-".concat(this._uid)]&&!o.refs["scroll-y-runner-".concat(this._uid)]);if(o.refs){if(h)return{area:o.refs["scroll-view"].el,areaY:o.refs["scroll-y-area"].el,areaX:o.refs["scroll-x-area"].el,runnerY:o.refs["scroll-y-runner"].el,runnerX:o.refs["scroll-x-runner"].el};if(s)return{area:o.refs["scroll-view-".concat(this._uid)].el,areaY:o.refs["scroll-y-area-".concat(this._uid)].el,areaX:o.refs["scroll-x-area-".concat(this._uid)].el,runnerY:o.refs["scroll-y-runner-".concat(this._uid)].el,runnerX:o.refs["scroll-x-runner-".concat(this._uid)].el}}},e}();n.ScrollView=i},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.DateHelper=n.stringToDate=n.getFormattedDate=n.locale=void 0;var m=y(1),b=y(1);n.locale={monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],cancel:"Cancel"};var p,i={"%d":function(s){var f=s.getDate();return f<10?"0"+f:f},"%j":function(s){return s.getDate()},"%l":function(s){return n.locale.days[s.getDay()]},"%D":function(s){return n.locale.daysShort[s.getDay()]},"%m":function(s){var f=s.getMonth()+1;return f<10?"0"+f:f},"%n":function(s){return s.getMonth()+1},"%M":function(s){return n.locale.monthsShort[s.getMonth()]},"%F":function(s){return n.locale.months[s.getMonth()]},"%y":function(s){return s.getFullYear().toString().slice(2)},"%Y":function(s){return s.getFullYear()},"%h":function(s){var f=s.getHours()%12;return f===0&&(f=12),f<10?"0"+f:f},"%g":function(s){var f=s.getHours()%12;return f===0&&(f=12),f},"%H":function(s){var f=s.getHours();return f<10?"0"+f:f},"%G":function(s){return s.getHours()},"%i":function(s){var f=s.getMinutes();return f<10?"0"+f:f},"%s":function(s){var f=s.getSeconds();return f<10?"0"+f:f},"%a":function(s){return s.getHours()>=12?"pm":"am"},"%A":function(s){return s.getHours()>=12?"PM":"AM"},"%u":function(s){return s.getMilliseconds()}},e={"%d":function(s,f){/(^([0-9][0-9])$)/i.test(f)?s.setDate(Number(f)):s.setDate(Number(1))},"%j":function(s,f){/(^([0-9]?[0-9])$)/i.test(f)?s.setDate(Number(f)):s.setDate(Number(1))},"%m":function(s,f){var l=/(^([0-9][0-9])$)/i.test(f);l?s.setMonth(Number(f)-1):s.setMonth(Number(0)),l&&s.getMonth()!==Number(f)-1&&s.setMonth(Number(f)-1)},"%n":function(s,f){var l=/(^([0-9]?[0-9])$)/i.test(f);l?s.setMonth(Number(f)-1):s.setMonth(Number(0)),l&&s.getMonth()!==Number(f)-1&&s.setMonth(Number(f)-1)},"%M":function(s,f){var l=(0,b.findIndex)(n.locale.monthsShort,function(g){return g===f});l===-1?s.setMonth(0):s.setMonth(l),l!==-1&&s.getMonth()!==l&&s.setMonth(l)},"%F":function(s,f){var l=(0,b.findIndex)(n.locale.months,function(g){return g===f});l===-1?s.setMonth(0):s.setMonth(l),l!==-1&&s.getMonth()!==l&&s.setMonth(l)},"%y":function(s,f){/(^([0-9][0-9])$)/i.test(f)?s.setFullYear(Number("20"+f)):s.setFullYear(Number("2000"))},"%Y":function(s,f){/(^([0-9][0-9][0-9][0-9])$)/i.test(f)?s.setFullYear(Number(f)):s.setFullYear(Number("2000"))},"%h":function(s,f,l){/(^0[1-9]|1[0-2]$)/i.test(f)&&l==="pm"||l==="PM"?s.setHours(Number(f)):s.setHours(Number(0))},"%g":function(s,f,l){/(^[1-9]$)|(^0[1-9]|1[0-2]$)/i.test(f)&&l==="pm"||l==="PM"?s.setHours(Number(f)):s.setHours(Number(0))},"%H":function(s,f){/(^[0-2][0-9]$)/i.test(f)?s.setHours(Number(f)):s.setHours(Number(0))},"%G":function(s,f){/(^[1-9][0-9]?$)/i.test(f)?s.setHours(Number(f)):s.setHours(Number(0))},"%i":function(s,f){/(^([0-5][0-9])$)/i.test(f)?s.setMinutes(Number(f)):s.setMinutes(Number(0))},"%s":function(s,f){/(^([0-5][0-9])$)/i.test(f)?s.setSeconds(Number(f)):s.setSeconds(Number(0))},"%a":function(s,f){f==="pm"&&s.setHours(s.getHours()+12)},"%A":function(s,f){f==="PM"&&s.setHours(s.getHours()+12)}};function o(s){for(var f=[],l="",g=0;g<s.length;g++)s[g]==="%"?(l.length>0&&(f.push({type:p.separator,value:l}),l=""),f.push({type:p.datePart,value:s[g]+s[g+1]}),g++):l+=s[g];return l.length>0&&f.push({type:p.separator,value:l}),f}function h(s,f,l){if(typeof s=="string"){for(var g,d=[],t=0,a=null,u=0,r=o(f);u<r.length;u++){var c=r[u];if(c.type===p.separator){var v=s.indexOf(c.value,t);if(v===-1){if(l)return!1;throw new Error("Incorrect date, see docs: https://docs.dhtmlx.com/suite/calendar__api__calendar_dateformat_config.html")}a&&(d.push({formatter:a,value:s.slice(t,v)}),a=null),t=v+c.value.length}else c.type===p.datePart&&(a=c.value)}a==="%A"||a==="%a"?d.unshift({formatter:a,value:s.slice(t)}):a&&d.push({formatter:a,value:s.slice(t)}),d.reverse();for(var x=0,w=d;x<w.length;x++)(E=w[x]).formatter!=="%A"&&E.formatter!=="%a"||(g=E.value);for(var k=new Date(0),S=0,T=d;S<T.length;S++){var E=T[S];e[E.formatter]&&e[E.formatter](k,E.value,g)}return!!l||k}}(function(s){s[s.separator=0]="separator",s[s.datePart=1]="datePart"})(p||(p={})),n.getFormattedDate=function(s,f){return o(s).reduce(function(l,g){return g.type===p.separator?l+g.value:i[g.value]?l+i[g.value](f):l},"")},n.stringToDate=h,n.DateHelper=function(){function s(){}return s.copy=function(f){return new Date(f)},s.fromYear=function(f){return new Date(f,0,1)},s.fromYearAndMonth=function(f,l){return new Date(f,l,1)},s.weekStart=function(f,l){var g=(f.getDay()+7-l)%7;return new Date(f.getFullYear(),f.getMonth(),f.getDate()-g)},s.monthStart=function(f){return new Date(f.getFullYear(),f.getMonth(),1)},s.yearStart=function(f){return new Date(f.getFullYear(),0,1)},s.dayStart=function(f){return new Date(f.getFullYear(),f.getMonth(),f.getDate())},s.addDay=function(f,l){return l===void 0&&(l=1),new Date(f.getFullYear(),f.getMonth(),f.getDate()+l)},s.addMonth=function(f,l){return l===void 0&&(l=1),new Date(f.getFullYear(),f.getMonth()+l)},s.addYear=function(f,l){return l===void 0&&(l=1),new Date(f.getFullYear()+l,f.getMonth())},s.withHoursAndMinutes=function(f,l,g,d){return d===void 0||!d&&l===12||d&&l!==12?new Date(f.getFullYear(),f.getMonth(),f.getDate(),l,g):d&&l===12?new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,g):new Date(f.getFullYear(),f.getMonth(),f.getDate(),l+12,g)},s.setMonth=function(f,l){f.setMonth(l)},s.setYear=function(f,l){f.setFullYear(l)},s.mergeHoursAndMinutes=function(f,l){return new Date(f.getFullYear(),f.getMonth(),f.getDate(),l.getHours(),l.getMinutes())},s.isWeekEnd=function(f){return f.getDay()===0||f.getDay()===6},s.getTwelweYears=function(f){var l=f.getFullYear(),g=l-l%12;return(0,m.range)(g,g+11)},s.getWeekNumber=function(f){f.getDay()!==6&&(f=s.addDay(f,6-f.getDay()));var l=(f.valueOf()-s.yearStart(f).valueOf())/864e5;return Math.floor((l-f.getDay()+10)/7)},s.isSameDay=function(f,l){return f.getFullYear()===l.getFullYear()&&f.getMonth()===l.getMonth()&&f.getDate()===l.getDate()},s.toDateObject=function(f,l){return typeof f=="string"?h(f,l):new Date(f)},s.nullTimestampDate=new Date(0),s}()},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.getHeight=n.getWidth=void 0,n.getWidth=function(m,b,p){var i=m.filter(function(e){return!e.hidden});return b?i.reduce(function(e,o,h){var s=o.$width;return e+=h>=p&&h<p+b?s:0},0):i[p].$width},n.getHeight=function(m,b,p){var i=m.filter(function(e){return!e.hidden});return b?i.reduce(function(e,o,h){var s=o.$height;return e+=h>=p&&h<p+b?s:0},0):i[p].$height}},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionEvents=void 0,function(b){b.beforeUnSelect="beforeunselect",b.afterUnSelect="afterunselect",b.beforeSelect="beforeselect",b.afterSelect="afterselect"}(m||(n.SelectionEvents=m={}))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.NavigationBarEvents=n.DataEvents=void 0;var m,b=y(7);Object.defineProperty(n,"DataEvents",{enumerable:!0,get:function(){return b.DataEvents}}),function(p){p.inputCreated="inputCreated",p.click="click",p.openMenu="openMenu",p.beforeHide="beforeHide",p.afterHide="afterHide",p.inputFocus="inputFocus",p.inputBlur="inputBlur",p.inputChange="inputChange"}(m||(n.NavigationBarEvents=m={}))},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.LayoutEvents=void 0,function(b){b.beforeShow="beforeShow",b.afterShow="afterShow",b.beforeHide="beforeHide",b.afterHide="afterHide",b.beforeResizeStart="beforeResizeStart",b.resize="resize",b.afterResizeEnd="afterResizeEnd",b.beforeAdd="beforeAdd",b.afterAdd="afterAdd",b.beforeRemove="beforeRemove",b.afterRemove="afterRemove",b.beforeCollapse="beforeCollapse",b.afterCollapse="afterCollapse",b.beforeExpand="beforeExpand",b.afterExpand="afterExpand"}(m||(n.LayoutEvents=m={}))},function(P,n,y){var m,b,p;Object.defineProperty(n,"__esModule",{value:!0}),n.MessageContainerPosition=n.Position=n.RealPosition=void 0,function(i){i.left="left",i.right="right",i.top="top",i.bottom="bottom",i.center="center"}(m||(n.RealPosition=m={})),function(i){i.right="right",i.bottom="bottom",i.center="center"}(b||(n.Position=b={})),function(i){i.topLeft="top-left",i.topRight="top-right",i.bottomLeft="bottom-left",i.bottomRight="bottom-right"}(p||(n.MessageContainerPosition=p={}))},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(e){for(var o,h=1,s=arguments.length;h<s;h++)for(var f in o=arguments[h])Object.prototype.hasOwnProperty.call(o,f)&&(e[f]=o[f]);return e},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.isEmptyBlockStyle=n.getComputedBlockStyle=n.getComputedNodeStyle=n.blockquoteWrapper=n.blockStyleToTag=n.calcBlockStyle=n.toCSSVariables=n.calcTextNodeStyle=void 0;var b=y(0),p=y(11),i=y(4);n.calcTextNodeStyle=function(e,o){var h,s,f={},l={underline:o[i.Modifier.underline],strike:o[i.Modifier.strike]},g=Object.keys(e).find(function(t){return t===i.Modifier.strike||t===i.Modifier.underline})?m(m({},l),e):m({},e);for(var d in g)if(g[d]!==o[d]||[i.Modifier.underline,i.Modifier.strike].includes(d))switch(d){case i.Modifier.bold:f["font-weight"]=g[d]?"bold":"normal";break;case i.Modifier.italic:f["font-style"]=g[d]?"italic":"normal";break;case i.Modifier.underline:if(!g[d]){f["text-decoration"]=((h=f["text-decoration"])===null||h===void 0?void 0:h.replace("underline","").trim())||"none";break}f["text-decoration"]&&f["text-decoration"]!=="none"?f["text-decoration"]+=" underline":f["text-decoration"]="underline";break;case i.Modifier.strike:if(!g[d]){f["text-decoration"]=((s=f["text-decoration"])===null||s===void 0?void 0:s.replace("line-through","").trim())||"none";break}f["text-decoration"]&&f["text-decoration"]!=="none"?f["text-decoration"]+=" line-through":f["text-decoration"]="line-through";break;case i.Modifier.color:f.color=g[d];break;case i.Modifier.background:f.background=g[d];break;case i.Modifier.fontFamily:f["font-family"]=g[d];break;case i.Modifier.fontSize:f["font-size"]=g[d]}return l.strike!==e.strike&&e.strike!==void 0||l.underline!==e.underline&&e.underline!==void 0?f.display="inline-block":(delete f["text-decoration"],delete f.display),f},n.toCSSVariables=function(e){var o={};for(var h in e)if(e[h])switch(h){case i.Modifier.bold:o["--dhx-richtext-editor-font-weight"]="bold";break;case i.Modifier.italic:o["--dhx-richtext-editor-font-style"]="italic";break;case i.Modifier.underline:o["--dhx-richtext-editor-text-decoration"]?o["--dhx-richtext-editor-text-decoration"]+=" underline":o["--dhx-richtext-editor-text-decoration"]="underline";break;case i.Modifier.strike:o["--dhx-richtext-editor-text-decoration"]?o["--dhx-richtext-editor-text-decoration"]+=" line-through":o["--dhx-richtext-editor-text-decoration"]="line-through";break;case i.Modifier.color:o["--dhx-richtext-editor-color"]=e[h];break;case i.Modifier.background:o["--dhx-richtext-editor-background"]=e[h];break;case i.Modifier.fontFamily:o["--dhx-richtext-editor-font-family"]=e[h];break;case i.Modifier.fontSize:o["--dhx-richtext-editor-font-size"]=e[h];break;case i.Modifier.align:o["--dhx-richtext-editor-text-align"]=e[h]}return o},n.calcBlockStyle=function(e){var o={};for(var h in e)e[h]&&h===i.Modifier.align&&(o["text-align"]=e[h]);return o},n.blockStyleToTag=function(e){return e[i.Modifier.style]?e[i.Modifier.style]:"p"},n.blockquoteWrapper=function(e,o){return e[i.Modifier.blockquote]?function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];return(0,b.el)("blockquote",{dhx_offset:o},[b.el.apply(void 0,h)])}:function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];return b.el.apply(void 0,h)}},n.getComputedNodeStyle=function(e,o,h){var s={};for(var f in e.style)s[f]=e.style[f];return s[i.Modifier.fontSize]||(o.style[i.Modifier.style]&&o.style[i.Modifier.style]!=="p"?s[i.Modifier.fontSize]=p.defaultFontSizeByBlock[o.style[i.Modifier.style]]:s[i.Modifier.fontSize]=h[i.Modifier.fontSize]),s[i.Modifier.fontFamily]||(s[i.Modifier.fontFamily]=h[i.Modifier.fontFamily]),s},n.getComputedBlockStyle=function(e,o){var h={};for(var s in e.style)h[s]=e.style[s];return h[i.Modifier.style]||(h[i.Modifier.style]=o[i.Modifier.style]),h[i.Modifier.align]||(h[i.Modifier.align]=o[i.Modifier.align]),h[i.Modifier.blockquote]||(h[i.Modifier.blockquote]=o[i.Modifier.blockquote]),h},n.isEmptyBlockStyle=function(e){return!e[i.Modifier.blockquote]&&!e[i.Modifier.align]}},function(P,n,y){function m(p){p=p.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,o,h,s){return o+o+h+h+s+s});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(p);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}function b(p){var i,e,o=p.r/255,h=p.g/255,s=p.b/255,f=Math.max(o,h,s),l=f-Math.min(o,h,s),g=function(u){return(f-u)/6/l+.5};if(l===0)i=e=0;else{e=l/f;var d=g(o),t=g(h),a=g(s);o===f?i=a-t:h===f?i=1/3+d-a:s===f&&(i=2/3+t-d),i<0?i+=1:i>1&&(i-=1)}return{h:Math.floor(360*i),s:e,v:f}}Object.defineProperty(n,"__esModule",{value:!0}),n.isHex=n.HexToHSV=n.RGBToHSV=n.HexToRGB=n.RGBToHex=n.HSVtoRGB=void 0,n.HSVtoRGB=function(p){var i={r:0,g:0,b:0},e=p.h/60,o=p.s,h=p.v,s=Math.floor(e)%6,f=e-Math.floor(e),l=255*h*(1-o),g=255*h*(1-o*f),d=255*h*(1-o*(1-f));switch(h*=255,s){case 0:i.r=h,i.g=d,i.b=l;break;case 1:i.r=g,i.g=h,i.b=l;break;case 2:i.r=l,i.g=h,i.b=d;break;case 3:i.r=l,i.g=g,i.b=h;break;case 4:i.r=d,i.g=l,i.b=h;break;case 5:i.r=h,i.g=l,i.b=g}for(var t in i)i[t]=Math.round(i[t]);return i},n.RGBToHex=function(p){return Object.keys(p).reduce(function(i,e){var o=p[e].toString(16).toUpperCase();return i+(o=o.length===1?"0"+o:o)},"#")},n.HexToRGB=m,n.RGBToHSV=b,n.HexToHSV=function(p){return b(m(p))},n.isHex=function(p){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(p)}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.default={cancel:"Cancel",select:"Select",rightClickToDelete:"Right click to delete",customColors:"Custom colors",addNewColor:"Add new color"}},function(P,n,y){(function(m){Object.defineProperty(n,"__esModule",{value:!0}),n.ajax=void 0;var b=y(12),p=y(13);function i(o){return o?o.includes("json")?"json":o.includes("xml")?"xml":"text":"text"}function e(o,h,s,f,l){var g=f||{};if(l&&(g.Accept="application/"+l),s!=="GET"&&(g["Content-Type"]=g["Content-Type"]||"application/json"),s==="GET"){var d=h&&typeof h=="object"?function(t){return Object.keys(t).reduce(function(a,u){var r=typeof t[u]=="object"?JSON.stringify(t[u]):t[u];return a.push(u+"="+encodeURIComponent(r)),a},[]).join("&")}(h):h&&typeof h=="string"?h:"";d&&(o+=o.includes("?")?"&":"?",o+=d),h=null}return window.fetch?window.fetch(o,{method:s,body:h?JSON.stringify(h):null,headers:g}).then(function(t){if(!t.ok)return t.text().then(function(r){return m.reject({status:t.status,statusText:t.statusText,message:r})});var a=l||i(t.headers.get("Content-Type"));if(a==="raw")return{headers:Object.fromEntries(t.headers.entries()),url:t.url,body:t.body};if(t.status!==204)switch(a){case"json":return t.json();case"xml":var u=(0,p.toDataDriver)(b.DataDriver.xml);return u?t.text().then(function(r){return u.toJsonObject(r)}):t.text();default:return t.text()}}):new m(function(t,a){var u=new XMLHttpRequest;for(var r in u.onload=function(){u.status>=200&&u.status<300?(l==="raw"&&t({url:u.responseURL,headers:u.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(function(c,v){var x=v.split(": ");return c[x[0]]=x[1],c},{}),body:u.response}),u.status===204?t():t(function(c,v){switch(v){case"json":return JSON.parse(c);case"text":default:return c;case"xml":var x=(0,p.toDataDriver)(b.DataDriver.xml);return x?x.toJsonObject(c):{parseError:"Incorrect data driver type: 'xml'"}}}(u.responseText,l||i(u.getResponseHeader("Content-Type"))))):a({status:u.status,statusText:u.statusText})},u.onerror=function(){a({status:u.status,statusText:u.statusText,message:u.responseText})},u.open(s,o),g)u.setRequestHeader(r,g[r]);switch(s){case"POST":case"DELETE":case"PUT":u.send(h!==void 0?JSON.stringify(h):"");break;default:u.send()}})}n.ajax={get:function(o,h,s){return e(o,h,"GET",s&&s.headers,s!==void 0?s.responseType:void 0)},post:function(o,h,s){return e(o,h,"POST",s&&s.headers,s!==void 0?s.responseType:void 0)},put:function(o,h,s){return e(o,h,"PUT",s&&s.headers,s!==void 0?s.responseType:void 0)},delete:function(o,h,s){return e(o,h,"DELETE",s&&s.headers,s!==void 0?s.responseType:void 0)}}}).call(this,y(10))},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(t){for(var a,u=1,r=arguments.length;u<r;u++)for(var c in a=arguments[u])Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c]);return t},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.getShifts=n.getSpans=n.getCells=n.getTreeCell=n.getHandlers=void 0;var b=y(1),p=y(0),i=y(26),e=y(8),o=y(3),h=y(111),s=y(2),f=y(14);function l(t,a,u,r,c){a=(0,s.locateNodeByClassName)(c.target,"dhx_grid-fixed-cols-wrap")?0:a;var v=(0,s.locateNodeByClassName)(c.target,"dhx_grid-cell"),x=(0,s.locateNodeByClassName)(c.target,"dhx_span-cell");if((v||x)&&r){var w=v?v.parentNode:x,k=w.parentNode,S=v?Array.prototype.indexOf.call(w.childNodes,v):u.columns.findIndex(function(I){return I.id===x.getAttribute("dhx_col_id")}),T=u.columns.filter(function(I){return!I.hidden}),E=T[a+S],M=v?Array.prototype.indexOf.call(k.childNodes,w):Number(x.getAttribute("dhx_id"))-1,O=u.data["".concat((v?t:0)+M)];r.toLocaleLowerCase().includes("touch")?u._events.fire(r,[O,E,c]):u.events.fire(r,[O,E,c])}}function g(t,a,u){return{onclick:[l,t,a,u,o.GridEvents.cellClick],onmouseover:[l,t,a,u,o.GridEvents.cellMouseOver],onmousedown:[l,t,a,u,o.GridEvents.cellMouseDown],ondblclick:[l,t,a,u,o.GridEvents.cellDblClick],oncontextmenu:[l,t,a,u,o.GridEvents.cellRightClick],ontouchstart:[l,t,a,u,o.GridEvents.cellMouseDown],ontouchmove:[l,t,a,u,o.GridSystemEvents.cellTouchMove],ontouchend:[l,t,a,u,o.GridSystemEvents.cellTouchEnd]}}function d(t,a,u,r){var c=r.$editable&&r.$editable.row===a.id&&r.$editable.col===u.id,v="",x=u.align?" dhx_align-".concat(u.align):"dhx_align-left";r.dragMode&&r.dragItem==="row"&&(v+=(a.$drophere&&!c?" dhx_grid-cell--drophere":"")+(a.$dragtarget&&!c?" dhx_grid-cell--dragtarget":"")+(c?"":" dhx_grid-cell--drag"));var w=(0,f.getTreeCellWidthOffset)(a);return(0,p.el)(".dhx_grid-cell",m({class:"dhx_tree-cell ".concat(u.$cellCss[a.id]||""," ").concat(a.$items?"dhx_grid-expand-cell":"")+" ".concat(c?"dhx_tree-editing-cell":""," ").concat(v)+x,style:{width:u.$width,height:a.$height,padding:a.$items?0:"0 0 0 ".concat(w,"px")},dhx_col_id:u.id},{role:"gridcell","aria-colindex":1}),[a.$items?(0,p.el)(".dhx_grid-expand-cell-icon",m(m({class:a.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down",dhx_id:a.id},function(k){return{role:"button","aria-label":k.$opened?"Collapse group":"Expand group"}}(a)),{style:{padding:a.$level?"0 0 0 ".concat(4+w,"px"):"0 0 0 4px"}})):null,(0,p.el)(".dhx_tree-cell",{class:x+"".concat(r.autoHeight?" dhx_tree-cell_auto-height":"")},[t])])}n.getHandlers=g,n.getTreeCell=d,n.getCells=function(t){if(!t.data||!t.columns)return[];var a=t.$positions,u=t.data?t.data.slice(a.yStart,a.yEnd):[],r=t.columns.slice(a.xStart,a.xEnd),c=t.selection.getCell(),v=!0;return u.map(function(x,w){var k=u.length-1===w,S="";return t.rowCss&&(S=t.rowCss(x)),x.$css&&(S+=x.$css),(0,p.el)(".dhx_grid-row",m({style:{height:k?x.$height+1:x.$height},dhx_id:x.id,class:S,_key:x.id,_flags:p.KEYED_LIST},{role:"row","aria-rowindex":a.yStart+w+1}),x.$customRender?[x.$customRender(x,t)]:r.map(function(T,E){var M,O;if(!T.hidden){var I=(0,f.toFormat)(x[T.id],T.type,T.format),D=T.template?T.template(I,x,T):typeof(O=I)!="boolean"&&T.type!=="boolean"||typeof O=="string"?O||O===0?O:"":"".concat(Boolean(O));typeof D=="string"&&(D=(0,e.isHtmlEnable)(t,T)?(0,p.el)("div.dhx_grid-cell__content",m({".innerHTML":D},{role:"button","aria-label":"Edit content"})):D);var A="".concat(T.$cellCss&&T.$cellCss[x.id]||""," dhx_").concat(T.type,"-cell").replace(/\s+/g," "),F=T.$width,U=t.$editable&&t.$editable.row===x.id&&t.$editable.col===T.id;return(U||T.type==="boolean"&&(t.editable&&((M=T.editable)===null||M===void 0||M)||!t.editable&&T.editable))&&(t.leftSplit&&t.columns.length!==t.leftSplit&&t.columns.indexOf(T)<t.leftSplit||(D=function(j,$,q){return(0,h.getEditor)(j,$,q)}(x,T,t).toHTML(),A+=" dhx_grid-cell__editable",t.leftSplit===t.columns.indexOf(T)+1&&(F-=1))),t.type==="tree"&&t.firstColId===T.id?d(D,x,T,t):(t.dragMode&&t.dragItem==="row"&&(A+=(x.$drophere&&!U?" dhx_grid-cell--drophere":"")+(x.$dragtarget&&!U?" dhx_grid-cell--dragtarget":"")+(U?"":" dhx_grid-cell--drag")),T.align&&(A+=" dhx_align-".concat(T.align)),t.autoHeight&&(A+=" dhx_grid-cell__content_auto-height"),(0,p.el)(".dhx_grid-cell",m({class:A,style:{width:F,height:x.$height+"px"},_key:T.id,dhx_col_id:T.id},function(j,$,q,X){return m({role:"gridcell","aria-colindex":$,"aria-readonly":X?"false":"true"},function(Q,ft){var st={tabindex:-1};return c?c.row.id===ft.id&&c.column.id===Q.id&&(st.tabindex=0):v&&(st.tabindex=0,st.onfocus=function(at){if(t.selection&&!c){var dt=at.target.parentNode.getAttribute("dhx_id"),Ct=at.target.getAttribute("dhx_col_id");Ct&&dt&&(t.selection.setCell(dt,Ct),c=t.selection.getCell())}}),v=!1,st}(j,x))}(T,a.xStart+E+1,0,t.editable)),[D]))}}))})},n.getSpans=function(t,a){var u=[],r=t.$positions,c=t.columns,v=t.data;if(!c.length||!t.spans)return null;for(var x=t.spans.sort(function(S,T){return typeof S.row=="string"&&typeof T.row=="string"?S.row.localeCompare(T.row):S.row-T.row}),w=function(S){var T=x[S].row,E=x[S].column,M=x[S].rowspan,O=x[S].colspan,I=x[S].css;if(M===1)return"continue";var D=(0,b.findIndex)(c,function(W){return"".concat(W.id)==="".concat(E)}),A=(0,b.findIndex)(v,function(W){return"".concat(W.id)==="".concat(T)});if(D<0||A<0||a===!0&&((O||1)+D>t.leftSplit||D+1>t.leftSplit))return"continue";var F=c[D],U=v[A];if(F.hidden)return"continue";var j=x[S].text?x[S].text:U[E]===void 0?"":U[E];j=typeof(j=(F.template||function(W,Y,Z){return W||W===0?W:""})(j,U,F))=="string"?(0,p.el)("div.dhx_span-cell-content",{".innerHTML":j}):j;for(var $=0,q=0;q<A;q++)$+=v[q].$height;for(var X=$-1,Q=0,ft=D-1;ft>=0;ft--)Q+=c[ft].$width;var st=D===c.length-1,at=D+O===c.length,dt=F.header[0].text?" dhx_span-cell":" dhx_span-cell dhx_span-cell--title";dt+=I?" ".concat(I):"",dt+=A===0?" dhx_span-first-row":"",dt+=D===0?" dhx_span-first-col":"",dt+=st||at?" dhx_span-last-col":"",dt+=O?" dhx_span-string-cell":" dhx_span-".concat(F.type||"string","-cell"),dt+=F.align?" dhx_align-".concat(F.align):" dhx_align-left";var Ct=O>1?(0,i.getWidth)(c,O,D):F.$width,B=M>1?(0,i.getHeight)(v,M,A):U.$height;u.push((0,p.el)("div",m({class:dt,style:{width:Ct,height:B,top:X,left:Q},dhx_col_id:E,dhx_id:T,"aria-hidden":"true"},g(r.yStart,r.xStart,t)),[j]))},k=0;k<x.length;k++)w(k);return u},n.getShifts=function(t){var a=t.columns.slice(0,t.$positions.xStart),u=t.data.slice(0,t.$positions.yStart);return{x:(0,e.getTotalWidth)(a),y:(0,e.getTotalHeight)(u)}}},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.ListEvents=void 0,function(b){b.click="click",b.doubleClick="doubleclick",b.focusChange="focuschange",b.beforeEditStart="beforeEditStart",b.afterEditStart="afterEditStart",b.beforeEditEnd="beforeEditEnd",b.afterEditEnd="afterEditEnd",b.itemRightClick="itemRightClick",b.itemMouseOver="itemMouseOver",b.contextmenu="contextmenu"}(m||(n.ListEvents=m={}))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.TextNode=n.RemoveTextResult=void 0;var m,b=y(11);(function(i){i[i.textIsEmpty=0]="textIsEmpty",i[i.complete=1]="complete",i[i.nullTextLength=2]="nullTextLength",i[i.forceRemovePrevious=3]="forceRemovePrevious",i[i.forceRemoveNext=4]="forceRemoveNext"})(m||(n.RemoveTextResult=m={}));var p=function(){function i(e,o){this.text=e,this.style=o||b.emptyStyle}return i.prototype.isEmpty=function(){return this.text.length===0},i.prototype.insert=function(e,o){this.text=this.text.slice(0,o)+e+this.text.slice(o)},i.prototype.remove=function(e,o){return this.isEmpty()?m.textIsEmpty:e===0&&o?m.forceRemovePrevious:e!==this.text.length||o?(this.text=o?this.text.slice(0,e-1)+this.text.slice(e):this.text.slice(0,e)+this.text.slice(e+1),this.text.length===0?m.nullTextLength:m.complete):m.forceRemoveNext},i}();n.TextNode=p},function(P,n,y){var m,b=this&&this.__extends||(m=function(h,s){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,l){f.__proto__=l}||function(f,l){for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(f[g]=l[g])},m(h,s)},function(h,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function f(){this.constructor=h}m(h,s),h.prototype=s===null?Object.create(s):(f.prototype=s.prototype,new f)});Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var p=y(29),i=y(39),e=y(0),o=function(h){function s(f,l){var g=h.call(this,f,l)||this;if(g._root=g.config.parent||g,g._all={},g._parseConfig(),g.config.activeTab&&(g.config.activeView=g.config.activeTab),g.config.views&&(g.config.activeView=g.config.activeView||g._cells[0].id,g._isViewLayout=!0),!l.parent){var d=(0,e.create)({render:function(){return g.toVDOM()}},g);g.mount(f,d)}return g}return b(s,h),s.prototype.destructor=function(){for(var f in this._all)if(Object.prototype.hasOwnProperty.call(this._all,f)){var l=this._all[f];l.getWidget()&&typeof l.getWidget().destructor=="function"&&l.getWidget().destructor(),l.destructor()}this.config=this._cells=this._root=this._xLayout=this._isViewLayout=null,this._all={},this.unmount()},s.prototype.toVDOM=function(){if(this._isViewLayout){var f=[this.getCell(this.config.activeView).toVDOM()];return h.prototype.toVDOM.call(this,f)}var l=[];return this._inheritTypes(),this._cells.forEach(function(g){var d=g.toVDOM();Array.isArray(d)?l=l.concat(d):l.push(d)}),h.prototype.toVDOM.call(this,l)},s.prototype.removeCell=function(f){if(this.events.fire(p.LayoutEvents.beforeRemove,[f])){var l=this.config.parent||this;if(l!==this)return l.removeCell(f);var g=this.getCell(f);if(g){var d=g.getParent();delete this._all[f],d._cells=d._cells.filter(function(t){return t.id!=f}),d.paint()}this.events.fire(p.LayoutEvents.afterRemove,[f])}},s.prototype.addCell=function(f,l){if(l===void 0&&(l=-1),this.events.fire(p.LayoutEvents.beforeAdd,[f.id])){var g=this._createCell(f);l<0&&(l=this._cells.length+l+1),this._cells.splice(l,0,g),this.paint(),this.events.fire(p.LayoutEvents.afterAdd,[f.id])}},s.prototype.getId=function(f){return f<0&&(f=this._cells.length+f),this._cells[f]?this._cells[f].id:void 0},s.prototype.getRefs=function(f){return this._root.getRootView().refs[f]},s.prototype.getCell=function(f){return this._root._all[f]},s.prototype.forEach=function(f,l,g){if(g===void 0&&(g=1/0),this._haveCells(l)&&!(g<1)){var d;d=l?this._root._all[l]._cells:this._root._cells;for(var t=0;t<d.length;t++){var a=d[t];f.call(this,a,t,d),this._haveCells(a.id)&&a.forEach(f,a.id,--g)}}},s.prototype.cell=function(f){return this.getCell(f)},s.prototype._getCss=function(f){var l=this._xLayout?"dhx_layout-columns":"dhx_layout-rows",g=this.config.align?" "+l+"--"+this.config.align:"";if(f)return l+" dhx_layout-cell"+(this.config.align?" dhx_layout-cell--"+this.config.align:"");var d=this.config.parent?h.prototype._getCss.call(this):"dhx_widget dhx_layout",t=this.config.parent?"":" dhx_layout-cell";return d+(this.config.full?t:" "+l)+g},s.prototype._parseConfig=function(){var f=this,l=this.config,g=l.rows||l.cols||l.views||[];this._xLayout=!l.rows,this._cells=g.map(function(d){return f._createCell(d)})},s.prototype._createCell=function(f){var l;return f.rows||f.cols||f.views?(f.parent=this._root,l=new s(this,f)):l=new i.Cell(this,f),this._root._all[l.id]=l,f.init&&f.init(l,f),l},s.prototype._haveCells=function(f){if(f){var l=this._root._all[f];return l._cells&&l._cells.length>0}return Object.keys(this._all).length>0},s.prototype._inheritTypes=function(f){var l=this;if(f===void 0&&(f=this._cells),Array.isArray(f))f.forEach(function(t){return l._inheritTypes(t)});else{var g=f.config;if(g.rows||g.cols){var d=f.getParent();!g.type&&d&&(d.config.type?g.type=d.config.type:this._inheritTypes(d))}}},s}(i.Cell);n.Layout=o},function(P,n,y){var m,b=this&&this.__extends||(m=function(g,d){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])},m(g,d)},function(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function t(){this.constructor=g}m(g,d),g.prototype=d===null?Object.create(d):(t.prototype=d.prototype,new t)}),p=this&&this.__assign||function(){return p=Object.assign||function(g){for(var d,t=1,a=arguments.length;t<a;t++)for(var u in d=arguments[t])Object.prototype.hasOwnProperty.call(d,u)&&(g[u]=d[u]);return g},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Cell=void 0;var i=y(1),e=y(0),o=y(6),h=y(29),s=y(86),f=y(5),l=function(g){function d(t,a){var u=g.call(this,t,a)||this;u._disabled=[];var r=t;return r&&r.isVisible&&(u._parent=r),u._parent&&u._parent.events?u.events=u._parent.events:u.events=new f.EventSystem(u),u.config.full=u.config.full===void 0?Boolean(u.config.header||u.config.collapsable||u.config.headerHeight||u.config.headerIcon||u.config.headerImage):u.config.full,u._initHandlers(),u.id=u.config.id||(0,i.uid)(),u}return b(d,g),d.prototype.paint=function(){if(this.isVisible()){var t=this.getRootView();t?t.redraw():this._parent.paint()}},d.prototype.isVisible=function(){if(!this._parent)return!(!this._container||!this._container.tagName)||Boolean(this.getRootNode());var t=this._parent.config.activeView;return(!t||t===this.id)&&!this.config.hidden&&(!this._parent||this._parent.isVisible())},d.prototype.hide=function(){this.events.fire(h.LayoutEvents.beforeHide,[this.id])&&(this.config.hidden=!0,this._parent&&this._parent.paint&&this._parent.paint(),this.events.fire(h.LayoutEvents.afterHide,[this.id]))},d.prototype.show=function(){this.events.fire(h.LayoutEvents.beforeShow,[this.id])&&(this._parent&&this._parent.config&&this._parent.config.activeView!==void 0?this._parent.config.activeView=this.id:this.config.hidden=!1,this._parent&&!this._parent.isVisible()&&this._parent.show(),this.paint(),this.events.fire(h.LayoutEvents.afterShow,[this.id]))},d.prototype.expand=function(){this.events.fire(h.LayoutEvents.beforeExpand,[this.id])&&(this.config.collapsed=!1,this.events.fire(h.LayoutEvents.afterExpand,[this.id]),this.paint())},d.prototype.collapse=function(){this.events.fire(h.LayoutEvents.beforeCollapse,[this.id])&&(this.config.collapsed=!0,this.events.fire(h.LayoutEvents.afterCollapse,[this.id]),this.paint())},d.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse()},d.prototype.getParent=function(){return this._parent},d.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this.id=null,this._parent=this._handlers=this._uid=this._disabled=this._resizerHandlers=null,this.unmount()},d.prototype.getWidget=function(){return this._ui},d.prototype.getCellView=function(){return this._parent&&this._parent.getRefs(this._uid)},d.prototype.attach=function(t,a){return this.config.html=null,typeof t=="object"?this._ui=t:typeof t=="string"?this._ui=new window.dhx[t](null,a):typeof t=="function"&&(t.prototype instanceof o.View?this._ui=new t(null,a):this._ui={getRootView:function(){return t(a)}}),this.paint(),this._ui},d.prototype.attachHTML=function(t){this.config.html=t,this.paint()},d.prototype.toVDOM=function(t){var a;if(this.config===null&&(this.config={}),!this.config.hidden){var u,r=this._calculateStyle(),c=(0,i.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",v=this.config.full||this.config.html?r:p(p({},r),c);if(!this.config.html)if(this._ui){var x=this._ui.getRootView();x.render&&(x=(0,e.inject)(x)),u=[x]}else u=t||null;var w=!this.config.resizable||this._isLastCell()||this.config.collapsed?null:(0,e.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),p(p({},this._resizerHandlers),{_ref:"resizer_"+this._uid,tabindex:0}),[(0,e.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]),k={};if(this.config.on)for(var S in this.config.on)k["on"+S]=this.config.on[S];var T="",E=this.config.cols||this.config.rows;if(this.config.type&&E)switch(this.config.type){case"line":T=" dhx_layout-line";break;case"wide":T=" dhx_layout-wide";break;case"space":T=" dhx_layout-space"}var M=(0,e.el)("div",p(p(((a={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,a),k),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?T:""),style:v}),this.config.full?[(0,e.el)("div",{tabindex:this.config.collapsable?"0":"-1",role:this.config.collapsable?"button":null,"aria-label":this.config.collapsable?"click to ".concat(this.config.collapsed?"expand":"collapse"):null,class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,e.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,e.el)(".dhx_layout-cell-header__image-wrapper",[(0,e.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,e.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,e.el)("div",{style:p(p({},c),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),".innerHTML":this.config.html,class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?T:"")},u)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?u:[this.config.collapsed?null:(0,e.el)(".dhx_layout-cell-content",{".innerHTML":this.config.html,style:c})]);return w?[M,w]:M}},d.prototype._getCss=function(t){return"dhx_layout-cell"},d.prototype._initHandlers=function(){var t=this;this._handlers={enterCollapse:function(v){v.keyCode===13&&t._handlers.toggle()},collapse:function(){t.config.collapsable&&t.collapse()},expand:function(){t.config.collapsable&&t.expand()},toggle:function(){t.config.collapsable&&t.toggle()}};var a={left:null,top:null,isActive:!1,range:null,xLayout:null,nextCell:null,size:null,resizerLength:null,margin:null},u=function(v){if(a.isActive){var x=v.targetTouches?v.targetTouches[0].clientX:v.clientX,w=v.targetTouches?v.targetTouches[0].clientY:v.clientY,k=a.xLayout?x-a.range.min+window.pageXOffset:w-a.range.min+window.pageYOffset,S=a.xLayout?"width":"height";k<0?k=a.resizerLength/2:k>a.size&&(k=a.size-a.resizerLength),t.config[S]=k-a.resizerLength/2+"px",a.nextCell.config[S]=a.size-k-a.resizerLength/2+"px",t.paint(),t.events.fire(h.LayoutEvents.resize,[t.id])}},r=function(v){a.isActive=!1,document.body.classList.remove("dhx_no-select--resize"),v.targetTouches?(document.removeEventListener("touchend",r),document.removeEventListener("touchmove",u)):(document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",u)),t.events.fire(h.LayoutEvents.afterResizeEnd,[t.id])},c=function(v){if(v.targetTouches&&v.preventDefault(),v.which!==3&&(a.isActive&&r(v),t.events.fire(h.LayoutEvents.beforeResizeStart,[t.id]))){document.body.classList.add("dhx_no-select--resize");var x=t.getCellView(),w=t._getNextCell(),k=w.getCellView(),S=t._getResizerView(),T=x.el.getBoundingClientRect(),E=S.el.getBoundingClientRect(),M=k.el.getBoundingClientRect();a.xLayout=t._isXDirection(),a.left=T.left+window.pageXOffset,a.top=T.top+window.pageYOffset,a.margin=(0,s.getMarginSize)(t.getParent().config,a.xLayout),a.range=(0,s.getBlockRange)(T,M,a.xLayout),a.size=a.range.max-a.range.min-a.margin,a.isActive=!0,a.nextCell=w,a.resizerLength=a.xLayout?E.width:E.height}};this._resizerHandlers={onmousedown:function(v){c(v),document.addEventListener("mouseup",r),document.addEventListener("mousemove",u)},ontouchstart:function(v){c(v),document.addEventListener("touchend",r),document.addEventListener("touchmove",u)},ondragstart:function(v){return v.preventDefault()}}},d.prototype._getCollapseIcon=function(){return this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-right":this._isXDirection()&&!this.config.collapsed?"dxi dxi-chevron-left":!this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-up":this._isXDirection()||this.config.collapsed?void 0:"dxi dxi-chevron-down"},d.prototype._isLastCell=function(){var t=this._parent;return t&&t._cells.indexOf(this)===t._cells.length-1},d.prototype._getNextCell=function(){var t=this._parent,a=t._cells.indexOf(this);return t._cells[a+1].config.hidden?t._cells[a+1]._getNextCell():t._cells[a+1]},d.prototype._getResizerView=function(){return this._parent.getRefs("resizer_"+this._uid)},d.prototype._isXDirection=function(){return this._parent&&this._parent._xLayout},d.prototype._calculateStyle=function(){var t=this.config;if(t){var a={},u=!1,r=!1;isNaN(Number(t.width))||(t.width=t.width+"px"),isNaN(Number(t.height))||(t.height=t.height+"px"),isNaN(Number(t.minWidth))||(t.minWidth=t.minWidth+"px"),isNaN(Number(t.minHeight))||(t.minHeight=t.minHeight+"px"),isNaN(Number(t.maxWidth))||(t.maxWidth=t.maxWidth+"px"),isNaN(Number(t.maxHeight))||(t.maxHeight=t.maxHeight+"px"),t.width==="content"&&(u=!0),t.height==="content"&&(r=!0);var c=t,v=c.width,x=c.height,w=c.cols,k=c.rows,S=c.minWidth,T=c.minHeight,E=c.maxWidth,M=c.maxHeight,O=c.gravity,I=c.collapsed,D=c.$fixed,A=Math.sign(O)===-1?0:O;typeof O=="boolean"&&(A=O?1:0);var F=typeof O=="boolean"?!O:Math.sign(O)===-1;this._isXDirection()?(D||v||O===void 0&&(S||E))&&(F=!0):(D||x||O===void 0&&(T||M))&&(F=!0);var U=F?0:A||1,j=this._isXDirection()?"x":"y";if(S!==void 0&&(a.minWidth=S),T!==void 0&&(a.minHeight=T),E!==void 0&&(a.maxWidth=E),M!==void 0&&(a.maxHeight=M),this._parent===void 0&&!j!==void 0&&(j=!0),v!==void 0&&v!=="content")a.width=v;else if(j===!0)a.width="100%";else if(j==="x")if(u)a.flex="0 0 auto";else{var $=this._isXDirection()?"1px":"auto";a.flex="".concat(U," ").concat(w||k?"0 ".concat($):"1 auto")}return x!==void 0&&x!=="content"?a.height=x:j===!0?a.height="100%":j==="y"&&(r?a.flex="0 0 auto":($=this._isXDirection()?"auto":"1px",a.flex="".concat(U," ").concat(w||k?"0 ".concat($):"1 auto"))),j===!0&&t.width===void 0&&t.height===void 0&&(a.flex="".concat(U," 1 auto")),I&&(this._isXDirection()?a.width="auto":a.height="auto",a.flex="0 0 auto"),a}},d}(o.View);n.Cell=l},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.default={apply:"apply",reject:"reject"}},function(P,n,y){function m(b){var p=document.activeElement;p.classList.contains("dhx_alert__apply-button")&&b.key==="Enter"||p.classList.contains("dhx_alert__confirm-reject")||p.classList.contains("dhx_alert__confirm-aply")||b.preventDefault()}Object.defineProperty(n,"__esModule",{value:!0}),n.blockScreen=void 0,n.blockScreen=function(b){var p=document.createElement("div");return p.className="dhx_alert__overlay "+(b||""),document.body.appendChild(p),document.addEventListener("keydown",m),function(){document.body.removeChild(p),document.removeEventListener("keydown",m)}}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(x){for(var w,k=1,S=arguments.length;k<S;k++)for(var T in w=arguments[k])Object.prototype.hasOwnProperty.call(w,T)&&(x[T]=w[T]);return x},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.disableTooltip=n.enableTooltip=n.tooltip=n.getZIndex=n.findPosition=void 0;var b=y(2),p=y(30),i=750,e=200;function o(x,w,k,S){var T,E,M;switch(w){case p.Position.center:return(E=x.left+window.pageXOffset+(x.width-k)/2)+8<window.pageXOffset&&(E=x.left+window.pageXOffset),{left:E,top:M=x.top+window.pageYOffset+(x.height-S)/2,pos:T=p.RealPosition.center};case p.Position.right:return T=p.RealPosition.right,(E=x.right+window.pageXOffset)+k+8>window.innerWidth+window.pageXOffset&&(E=window.pageXOffset+x.left-k,T=p.RealPosition.left),{left:E,top:M=window.pageYOffset+x.top+(x.height-S)/2,pos:T};case p.Position.bottom:default:return(E=window.pageXOffset+x.left+(x.width-k)/2)+k>window.innerWidth+window.pageXOffset?E=window.innerWidth+window.pageXOffset-k:E<0&&(E=0),T=p.RealPosition.bottom,(M=window.pageYOffset+x.bottom)+S+8>window.innerHeight+window.pageYOffset&&(M=window.pageYOffset+x.top-S,T=p.RealPosition.top),{left:E,top:M,pos:T}}}n.findPosition=o;var h=document.createElement("div"),s=document.createElement("span");s.className="dhx_tooltip__text",h.appendChild(s),h.setAttribute("role","tooltip"),h.style.position="absolute";var f,l=null,g=!1,d=null,t=null;function a(x){return x&&x.classList.contains("dhx_popup--window")&&x.classList.contains("dhx_popup--window_active")?2147483647:(x==null?void 0:x.classList.contains("dhx_popup--window"))||(x==null?void 0:x.classList.contains("dhx_popup--window_modal"))?2147483646:x&&x.offsetParent?a(x.offsetParent):null}function u(x,w,k,S,T,E){T===void 0&&(T=!1);var M=x.getBoundingClientRect();E?s.innerHTML=w:s.textContent=w,document.body.appendChild(h),h.className="dhx_widget dhx_tooltip"+(T?" dhx_tooltip--forced":"");var O=h.getBoundingClientRect(),I=o(M,k,O.width,O.height),D=I.left,A=I.top,F=I.pos,U=a(x);switch(U&&(h.style.zIndex=U.toString()),F){case p.RealPosition.bottom:case p.RealPosition.top:case p.RealPosition.left:case p.RealPosition.right:case p.RealPosition.center:h.style.left=D+"px",h.style.top=A+"px"}h.className+=" dhx_tooltip--".concat(F," ").concat(S||""),g=!0,T||setTimeout(function(){h.className+=" dhx_tooltip--animate"})}function r(x,w,k){var S=k.force,T=k.showDelay,E=k.hideDelay,M=k.position,O=k.css,I=k.htmlEnable;S||(t=setTimeout(function(){u(x,w,M||p.Position.bottom,O,!1,I)},T||i));var D=function(){var A;g&&(A=E,l&&(d=setTimeout(function(){document.body.removeChild(h),g=!1,d=null},A||e))),clearTimeout(t),x.removeEventListener("mouseleave",D),x.removeEventListener("blur",D),document.removeEventListener("mousedown",D),l=null,f=null};S&&u(x,w,M,O,S,I),x.addEventListener("mouseleave",D),x.addEventListener("blur",D),document.addEventListener("mousedown",D),f=D}function c(x,w){var k=(0,b.toNode)(w.node);k!==l&&(f&&(f(),f=null),l=k,d?(clearTimeout(d),d=null,r(k,x,m(m({},w),{force:!0}))):r(k,x,w))}function v(x){var w=(0,b.locateNode)(x,"dhx_tooltip_text");w&&c(w.getAttribute("dhx_tooltip_text"),{position:w.getAttribute("dhx_tooltip_position")||p.Position.bottom,node:w})}n.getZIndex=a,n.tooltip=c,n.enableTooltip=function(){document.addEventListener("mousemove",v)},n.disableTooltip=function(){document.removeEventListener("mousemove",v)}},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.PopupEvents=void 0,function(b){b.beforeHide="beforeHide",b.beforeShow="beforeShow",b.afterHide="afterHide",b.afterShow="afterShow",b.click="click"}(m||(n.PopupEvents=m={}))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.keyToOperation=n.Key=void 0;var m,b=y(4);(function(p){p[p.backspace=8]="backspace",p[p.enter=13]="enter",p[p.tab=9]="tab",p[p.esc=27]="esc",p[p.space=32]="space",p[p.left=37]="left",p[p.up=38]="up",p[p.right=39]="right",p[p.down=40]="down",p[p.insert=45]="insert",p[p.del=46]="del",p[p.ctrl=17]="ctrl",p[p.a=65]="a",p[p.b=66]="b",p[p.c=67]="c",p[p.s=83]="s",p[p.u=85]="u",p[p.v=86]="v",p[p.x=88]="x",p[p.y=89]="y",p[p.z=90]="z",p[p.i=73]="i"})(m||(n.Key=m={})),n.keyToOperation=function(p){if(p.shiftKey&&p.which===m.enter)return p.preventDefault(),{action:b.Action.add,data:`
`};switch(p.which){case m.insert:return void p.preventDefault();case m.left:case m.right:case m.down:case m.up:return;case m.backspace:return p.preventDefault(),{action:b.Action.remove,data:!0};case m.del:return p.preventDefault(),{action:b.Action.remove,data:!1};case m.space:return p.preventDefault(),{action:b.Action.add,data:" "};case m.enter:return p.preventDefault(),{action:b.Action.add,data:{newBlock:!0}}}if(p.ctrlKey||p.metaKey)return function(e){switch(e.which){case m.z:return{action:e.shiftKey?b.Action.redo:b.Action.undo};case m.y:return{action:b.Action.redo};case m.a:return{action:b.Action.selectAll};case m.v:case m.x:case m.c:return;case m.u:case m.i:case m.b:return void e.preventDefault()}}(p);var i=p.key;return i.length>1||p.altKey?void 0:p.isComposing?(p.preventDefault(),{action:b.Action.add,data:i}):void 0}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.statsRenderer=n.getStats=void 0;var m=y(0),b=y(16),p={words:function(i){return i.split(/[\n !.?,:;]+/g).filter(function(e){return e.length>0}).length},chars:function(i){return i.replace(/[\n]/g,"").length},charsExlSpace:function(i){return i.replace(/[\n ]/g,"").length}};n.getStats=function(i,e){if(e){for(var o={},h=0,s=e;h<s.length;h++){var f=s[h],l=f.cb,g=f.name;typeof l=="function"?o[g]=l(i):!l&&g in p?o[g]=p[g](i):typeof l=="string"&&l in p&&(o[g]=p[l](i))}return o}return{chars:p.chars(i),words:p.words(i),charsExlSpace:p.charsExlSpace(i)}},n.statsRenderer=function(i,e){return e===void 0&&(e=[{name:"chars"},{name:"charsExlSpace"},{name:"words"}]),function(){return(0,m.el)("ul.dhx_richtext-stat",e.map(function(o){return(0,m.el)("li.dhx_richtext-stat__item",[(0,m.el)("span.dhx_richtext-stat__name",b.default[o.name]||o.name),(0,m.el)("span.dhx_richtext-stat__value",i[o.name])])}))}}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.palette=n.grayShades=void 0,n.grayShades=["#000000","#4C4C4C","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#F2F2F2","#FFFFFF"],n.palette=[["#D4DAE4","#B0B8CD","#949DB1","#727A8C","#5E6677","#3F4757","#1D2534"],["#FFCDD2","#FE9998","#F35C4E","#E94633","#D73C2D","#CA3626","#BB2B1A"],["#F9E6AD","#F4D679","#EDB90F","#EAA100","#EA8F00","#EA7E00","#EA5D00"],["#BCE4CE","#90D2AF","#33B579","#36955F","#247346","#1D5B38","#17492D"],["#BDF0E9","#92E7DC","#02D7C5","#11B3A5","#018B80","#026B60","#024F43"],["#B3E5FC","#81D4FA","#29B6F6","#039BE5","#0288D1","#0277BD","#01579B"],["#AEC1FF","#88A3F9","#5874CD","#2349AE","#163FA2","#083596","#002381"],["#C5C0DA","#9F97C1","#7E6BAD","#584A8F","#4F4083","#473776","#3A265F"],["#D6BDCC","#C492AC","#A9537C","#963A64","#81355A","#6E3051","#4C2640"],["#D2C5C1","#B4A09A","#826358","#624339","#5D4037","#4E342E","#3E2723"]]},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.ColorpickerEvents=void 0,function(b){b.change="change",b.apply="apply",b.cancelClick="cancelClick",b.modeChange="modeChange",b.selectClick="selectClick",b.colorChange="colorChange",b.viewChange="viewChange"}(m||(n.ColorpickerEvents=m={}))},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(101),n),b(y(140),n),b(y(28),n)},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(g){for(var d,t=1,a=arguments.length;t<a;t++)for(var u in d=arguments[t])Object.prototype.hasOwnProperty.call(d,u)&&(g[u]=d[u]);return g},m.apply(this,arguments)},b=this&&this.__spreadArray||function(g,d,t){if(t||arguments.length===2)for(var a,u=0,r=d.length;u<r;u++)!a&&u in d||(a||(a=Array.prototype.slice.call(d,0,u)),a[u]=d[u]);return g.concat(a||Array.prototype.slice.call(d))};Object.defineProperty(n,"__esModule",{value:!0}),n.DataCollection=void 0;var p=y(5),i=y(102),e=y(105),o=y(20),h=y(13),s=y(12),f=y(1),l=function(){function g(d,t){var a=this;this._changes={order:[]},this.config=d||{},this._sort=new e.Sort,this._loader=new i.Loader(this,this._changes),this.events=t||new p.EventSystem(this),this.events.on("dataRequest",function(u,r){var c=a.dataProxy;c&&c.updateUrl&&(c.updateUrl(null,{from:u,limit:c.config.limit||r-u}),a.load(c))}),this.events.on(s.DataEvents.loadError,function(u){typeof u!="string"?(0,h.dhxError)(u):(0,h.dhxWarning)(u)}),this._reset()}return g.prototype._reset=function(){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this._meta=new WeakMap,this._loaded=!1},g.prototype.add=function(d,t){var a,u=this;if(this.events.fire(s.DataEvents.beforeAdd,[d]))return a=Array.isArray(d)?d.map(function(r,c){return c!==0&&(t+=1),u._add(r,t)}):this._add(d,t),this._applySmart(),a},g.prototype.remove=function(d){var t=this;d&&(d instanceof Array?b([],d,!0).map(function(a){t._remove(a)}):this._remove(d))},g.prototype.removeAll=function(){this._reset(),this.events.fire(s.DataEvents.removeAll),this.events.fire(s.DataEvents.change)},g.prototype.exists=function(d){return!!this._pull[d]},g.prototype.getNearId=function(d){if(!this._pull[d])return this._order[0].id||""},g.prototype.getItem=function(d){return this._pull[d]},g.prototype.update=function(d,t,a){var u=this.getItem(d);if(u){if((0,h.isEqualObj)(t,u))return;t.id&&d!==t.id?((0,h.dhxWarning)("this method doesn't allow change id"),(0,h.isDebug)()):(t.parent&&u.parent&&t.parent!==u.parent&&this.move(d,-1,this,t.parent),(0,f.extend)(this._pull[d],t,!1),this.config.update&&this.config.update(this._pull[d]),a||this._onChange("update",d,this._pull[d])),this._applySmart()}else(0,h.dhxWarning)("item not found")},g.prototype.getIndex=function(d){if(!d)return-1;var t=(0,f.findIndex)(this._order,function(a){return a&&a.id.toString()===d.toString()});return this._pull[d]&&t>=0?t:void 0},g.prototype.getId=function(d){if(this._order[d])return this._order[d].id},g.prototype.getLength=function(){return this._order.length},g.prototype.isDataLoaded=function(d,t){return d===void 0&&(d=0),t===void 0&&(t=this._order.length),(0,f.isNumeric)(d)&&(0,f.isNumeric)(t)?this._order.slice(d,t).filter(function(a){return a&&a.$empty}).length===0:(this._loaded||(this._loaded=!this.find(function(a){return a.$empty})),!!this._loaded)},g.prototype.filter=function(d,t){if(this.isDataLoaded()){if(t&&t.add||(this._order=this._initOrder||this._order,this._initOrder=null),d&&typeof d!="function"){var a=d;a.by!==void 0&&a.match!==void 0&&(d=a.compare?function(u){return a.compare(u[a.by],a.match,u,a.multi)}:function(u){return u[a.by]==a.match})}this._filter=t&&t.smartFilter?d:null,this._applyFilters(d),this.events.fire(s.DataEvents.change)}else(0,h.dhxWarning)("the method doesn't work with lazyLoad")},g.prototype.find=function(d){for(var t in this._pull){var a=(0,h.findByConf)(this._pull[t],d);if(a)return a}return null},g.prototype.findAll=function(d){var t=[];for(var a in this._pull){var u=(0,h.findByConf)(this._pull[a],d);u&&t.push(u)}return t},g.prototype.sort=function(d,t){this.isDataLoaded()?(t&&t.smartSorting&&(this._sorter=d),d&&this._applySorters(d),this.events.fire(s.DataEvents.change)):(0,h.dhxWarning)("the method doesn't work with lazyLoad")},g.prototype.copy=function(d,t,a,u){var r=this;return d instanceof Array?d.map(function(c,v){return r._copy(c,t,a,u,v)}):this._copy(d,t,a,u)},g.prototype.move=function(d,t,a,u){var r=this;return d instanceof Array?d.map(function(c,v){return r._move(c,t,a,u,v)}):this._move(d,t,a,u)},g.prototype.forEach=function(d){for(var t=0;t<this._order.length;t++)d.call(this,this._order[t],t,this._order)},g.prototype.load=function(d,t){return typeof d=="string"&&(this.dataProxy=d=new o.DataProxy(d)),this.dataProxy=d,this._loader.load(d,t)},g.prototype.parse=function(d,t){return this._reset(),this._loader.parse(d,t)},g.prototype.$parse=function(d){var t=this.config.approximate;t&&(d=this._approximate(d,t.value,t.maxNum)),this._parse_data(d),this._applySmart(),this.events.fire(s.DataEvents.change,["load"]),this.events.fire(s.DataEvents.load)},g.prototype.save=function(d){typeof d=="string"&&(d=new o.DataProxy(d)),this._loader.save(d)},g.prototype.changeId=function(d,t,a){if(t===void 0&&(t=(0,f.uid)()),a||this.isDataLoaded()){var u=this.getItem(d);u?(u.id=t,(0,f.extend)(this._pull[d],u),this._pull[t]=this._pull[d],a||this._onChange("update",t,this._pull[t]),delete this._pull[d]):(0,h.dhxWarning)("item not found")}else(0,h.dhxWarning)("the method doesn't work with lazyLoad")},g.prototype.isSaved=function(){return!this._changes.order.length},g.prototype.map=function(d){for(var t=[],a=0;a<this._order.length;a++)t.push(d.call(this,this._order[a],a,this._order));return t},g.prototype.mapRange=function(d,t,a){d<0&&(d=0),t>this._order.length-1&&(t=this._order.length-1);for(var u=this._order.slice(d,t),r=[],c=d;c<=t;c++)r.push(a.call(this,this._order[c],c,u));return r},g.prototype.reduce=function(d,t){for(var a=0;a<this._order.length;a++)t=d.call(this,t,this._order[a],a);return t},g.prototype.serialize=function(d){d===void 0&&(d=s.DataDriver.json);var t=this.map(function(u){var r=m({},u);return Object.keys(r).forEach(function(c){c.startsWith("$")&&delete r[c]}),r}),a=(0,h.toDataDriver)(d);if(a)return a.serialize(t)},g.prototype.getInitialData=function(){return this._initOrder},g.prototype.setMeta=function(d,t,a){if(d){var u=this._meta.get(d);u||(u={},this._meta.set(d,u)),u[t]=a}},g.prototype.getMeta=function(d,t){var a=this._meta.get(d);return a?a[t]:null},g.prototype.getMetaMap=function(d){return this._meta.get(d)},g.prototype.setRange=function(d,t){this._range=t?[d,t]:null},g.prototype.getRawData=function(d,t,a,u){if(a=a||this._order,u===1)return a;if(this._range)if(d=this._range[0]+d,t===-1)t=this._range[1];else{var r=t-d;t=d+r>this._range[1]?this._range[1]:d+r}if(!t||d===0&&(t===-1||t===a.length))return a;if(d>=a.length)return[];(t===-1||t>a.length)&&(t=a.length);var c=a.slice(d,t);return c.filter(function(v){return v.$empty}).length!==0&&this.events.fire("dataRequest",[d,t]),c},g.prototype._add=function(d,t){if(this.isDataLoaded()){var a=this._addCore(d,t);return this._onChange("add",d.id,d),this.events.fire(s.DataEvents.afterAdd,[d]),a}(0,h.dhxWarning)("the method doesn't work with lazyLoad")},g.prototype._remove=function(d){if(this.isDataLoaded()){var t=this._pull[d];if(t){if(!this.events.fire(s.DataEvents.beforeRemove,[t]))return;this._removeCore(t.id),this._onChange("remove",d,t)}this.events.fire(s.DataEvents.afterRemove,[t])}else(0,h.dhxWarning)("the method doesn't work with lazyLoad")},g.prototype._copy=function(d,t,a,u,r){if(this.isDataLoaded()){if(!this.exists(d))return null;var c=(0,f.uid)();return r&&(t=t===-1?-1:t+r),a?a instanceof g||!u?a.exists(d)?(a.add(m(m({},(0,h.copyWithoutInner)(this.getItem(d))),{id:c}),t),c):(a.add((0,h.copyWithoutInner)(this.getItem(d)),t),d):void a.add((0,h.copyWithoutInner)(this.getItem(d)),t):(this.add(m(m({},(0,h.copyWithoutInner)(this.getItem(d))),{id:c}),t),c)}(0,h.dhxWarning)("the method doesn't work with lazyLoad")},g.prototype._move=function(d,t,a,u,r){if(this.isDataLoaded()){if(r&&(t=t===-1?-1:t+r),a&&a!==this&&this.exists(d)){var c=(0,f.copy)(this.getItem(d),!0);return a.exists(d)&&(c.id=(0,f.uid)()),u&&(c.parent=u),a.add(c,t),this.remove(d),c.id}if(this.getIndex(d)===t)return null;var v=this._order.splice(this.getIndex(d),1)[0];return t===-1&&(t=this._order.length),this._order.splice(t,0,v),this.events.fire(s.DataEvents.change,[d,"update",this.getItem(d)]),d}(0,h.dhxWarning)("the method doesn't work with lazyLoad")},g.prototype._addCore=function(d,t){var a;return this.config.init&&(d=this.config.init(d)),d.id=(a=d.id)!==null&&a!==void 0?a:(0,f.uid)(),this._pull[d.id]&&(0,h.dhxError)("Item ".concat(d.id," already exist")),this._initOrder&&this._addToOrder(this._initOrder,d,t),this._addToOrder(this._order,d,t),d.id},g.prototype._removeCore=function(d){this.getIndex(d)>=0&&(this._order=this._order.filter(function(t){return t.id!==d}),delete this._pull[d]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(t){return t.id!==d}),delete this._pull[d])},g.prototype._parse_data=function(d){var t=this._order.length;this.config.prep&&(d=this.config.prep(d));for(var a=0,u=d;a<u.length;a++){var r=u[a];this._addCore(r,t++)}},g.prototype._approximate=function(d,t,a){for(var u=d.length,r=t.length,c=Math.floor(u/a),v=Array(Math.ceil(u/c)),x=0,w=0;w<u;w+=c){for(var k=(0,f.copy)(d[w]),S=Math.min(u,w+c),T=0;T<r;T++){for(var E=0,M=w;M<S;M++)E+=d[M][t[T]];k[t[T]]=E/(S-w)}v[x++]=k}return v},g.prototype._onChange=function(d,t,a){for(var u=0,r=this._changes.order;u<r.length;u++){var c=r[u];if(c.id===t&&!c.saving){c.error&&(c.error=!1);var v=this._changes.order.indexOf(c);return c=m(m({},c),{obj:a,status:d}),this._changes.order.splice(v,1,c),this._loader.updateChanges(this._changes),d==="remove"&&a.$emptyRow?void 0:void this.events.fire(s.DataEvents.change,[t,d,a])}}this._changes.order.push({id:t,status:d,obj:m({},a),saving:!1}),this._loader.updateChanges(this._changes),this.events.fire(s.DataEvents.change,[t,d,a])},g.prototype._addToOrder=function(d,t,a){a>=0&&d[a]?(this._pull[t.id]=t,d.splice(a,0,t)):(this._pull[t.id]=t,d.push(t))},g.prototype._applySmart=function(){this._filter&&this._applyFilters(),this._sorter&&this._applySorters()},g.prototype._applySorters=function(d){this._sort.sort(this._order,d,this._sorter),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,d,this._sorter)},g.prototype._applyFilters=function(d){var t=this._filter;if(d===t&&(d=null),d||t){var a=this._order.filter(function(u){return(!d||d(u))&&(!t||t(u))});this._initOrder||(this._initOrder=this._order),this._order=a}},g}();n.DataCollection=l},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(e){for(var o,h=1,s=arguments.length;h<s;h++)for(var f in o=arguments[h])Object.prototype.hasOwnProperty.call(o,f)&&(e[f]=o[f]);return e},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.dataDriversPro=n.dataDrivers=void 0;var b=y(51),p=y(52),i=y(103);n.dataDrivers={json:b.JsonDriver,csv:p.CsvDriver},n.dataDriversPro=m(m({},n.dataDrivers),{xml:i.XMLDriver})},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.JsonDriver=void 0;var m=function(){function b(){}return b.prototype.toJsonArray=function(p){return this.getRows(p)},b.prototype.serialize=function(p){return p},b.prototype.getFields=function(p){return p},b.prototype.getRows=function(p){return typeof p=="string"?JSON.parse(p):p},b}();n.JsonDriver=m},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(p){for(var i,e=1,o=arguments.length;e<o;e++)for(var h in i=arguments[e])Object.prototype.hasOwnProperty.call(i,h)&&(p[h]=i[h]);return p},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.CsvDriver=void 0;var b=function(){function p(i){this.config=m(m({},{skipHeader:0,nameByHeader:!1,rowDelimiter:`
`,columnDelimiter:","}),i),this.config.nameByHeader&&(this.config.skipHeader=1)}return p.prototype.getFields=function(i,e){for(var o=i.trim().split(this.config.columnDelimiter),h={},s=0;s<o.length;s++)h[e?e[s]:s+1]=isNaN(Number(o[s]))?o[s]:parseFloat(o[s]);return h},p.prototype.getRows=function(i){return i.trim().split(this.config.rowDelimiter)},p.prototype.toJsonArray=function(i){var e=this,o=this.getRows(i),h=this.config.names;if(this.config.skipHeader){var s=o.splice(0,this.config.skipHeader);this.config.nameByHeader&&(h=s[0].trim().split(this.config.columnDelimiter))}return o.map(function(f){return e.getFields(f,h)})},p.prototype.serialize=function(i,e){var o=i[0]?Object.keys(i[0]).filter(function(s){return!s.startsWith("$")}).join(this.config.columnDelimiter)+this.config.columnDelimiter+this.config.rowDelimiter:"",h=this._serialize(i);return e?h:o+h},p.prototype._serialize=function(i){var e=this;return i.reduce(function(o,h){var s=Object.keys(h).reduce(function(f,l,g){return l.startsWith("$")||l==="items"?f:"".concat(f).concat(h[l]).concat(g===h.length-1?"":e.config.columnDelimiter)},"");return h.items?"".concat(o).concat(o?`
`:"").concat(s).concat(e._serialize(h.items)):"".concat(o).concat(o?e.config.rowDelimiter:"").concat(s)},"")},p}();n.CsvDriver=b},function(P,n,y){var m,b=this&&this.__extends||(m=function(M,O){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,D){I.__proto__=D}||function(I,D){for(var A in D)Object.prototype.hasOwnProperty.call(D,A)&&(I[A]=D[A])},m(M,O)},function(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function I(){this.constructor=M}m(M,O),M.prototype=O===null?Object.create(O):(I.prototype=O.prototype,new I)}),p=this&&this.__assign||function(){return p=Object.assign||function(M){for(var O,I=1,D=arguments.length;I<D;I++)for(var A in O=arguments[I])Object.prototype.hasOwnProperty.call(O,A)&&(M[A]=O[A]);return M},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Grid=void 0;var i=y(0),e=y(5),o=y(2),h=y(1),s=y(18),f=y(6),l=y(7),g=y(109),d=y(14),t=y(26),a=y(8),u=y(110),r=y(3),c=y(54),v=y(25),x=y(133),w=y(134),k=y(17),S=y(135),T=y(19),E=function(M){function O(I,D){var A=M.call(this,I,D)||this;A._touch={duration:350,dblDuration:300,timer:null,start:!1},A._destructed=!1,A.config=(0,h.extend)({rowHeight:40,headerRowHeight:40,footerRowHeight:40,keyNavigation:!0,sortable:!0,columns:[],data:[],tooltip:!0,rootParent:typeof I=="string"&&I||A._uid,headerSort:!0},D),A.content=(0,x.getContent)(),A._scroll={top:0,left:0},A.config.autoWidth=A.config.autoWidth||A.config.fitToContainer,A.config.adjust=A.config.adjust||A.config.columnsAutoWidth,A.config.editable=A.config.editable||A.config.editing,A.config.leftSplit=A.config.leftSplit||A.config.splitAt,A.config.sortable&&A.config.headerSort||(A.config.sortable=!1),A.config.columns.forEach(function(j){j.format=j.format||j.dateFormat});var F=function(j,$,q){if(j&&$&&(0,a.isTooltip)(A.config,$)){var X=(0,d.toFormat)(j[$.id],$.type,$.format);$.tooltipTemplate?X=$.tooltipTemplate(X,j,$):X&&$.template&&(X=$.template(X,j,$)),X&&(0,k.tooltip)(X,{css:"dhx_grid_tooltip",node:q,htmlEnable:(0,a.isHtmlEnable)(A.config,$)})}},U=function(j,$){if($&&(0,a.isTooltip)(A.config,$)){var q=j.target.querySelector(".dhx_grid-header-cell-text span")&&j.target.querySelector(".dhx_grid-header-cell-text span").textContent||j.target.querySelector(".dhx_grid-footer-cell-text span")&&j.target.querySelector(".dhx_grid-footer-cell-text span").textContent||"";q&&(0,k.tooltip)(q,{css:"dhx_grid_tooltip",node:j.target,htmlEnable:(0,a.isHtmlEnable)(A.config,$)})}};return A._htmlEvents={onclick:(0,o.eventHandler)(function(j){return(0,o.locate)(j)},{"dhx_grid-header-cell--sortable":function(j,$){var q,X=j.target.getAttribute("dhx_resized"),Q=A._getColumn($);if(Q&&(0,a.isSortable)(A.config,Q)&&!X&&A.events.fire(r.GridEvents.beforeSort,[Q,A._sortDir?"asc":"desc"])){var ft=(q=(0,o.locateNodeByClassName)(j,"dhx_grid-header-cell"))===null||q===void 0?void 0:q.querySelector(".dhx_grid-header-cell-text_content").innerHTML,st=ft?Q.header.find(function(dt){return dt.text===ft}):null,at=A._sortDir==="asc"?"desc":"asc";A._sort($,at,st==null?void 0:st.sortAs)}},"dhx_grid-expand-cell":function(j,$){j.target.classList.contains("dhx_grid-expand-cell-icon")&&A.events.fire(r.GridEvents.expand,[$])}}),onscroll:function(j){A.events.fire(r.GridEvents.scroll,[{y:j.target.scrollTop,x:j.target.scrollLeft}])},onmouseover:{".dhx_grid-cell":function(j){var $=A.data.getItem(j.composedPath()[1].getAttribute("dhx_id")),q=A._getColumn(j.target.getAttribute("dhx_col_id"));F($,q,j.target)},".dhx_grid-cell:not(.dhx_tree-cell) .dhx_grid-cell__content, .dhx_tree-cell :not(.dhx_grid-cell__content)":function(j){var $=j.composedPath(),q=A.data.getItem($[2].getAttribute("dhx_id")),X=A._getColumn($[1].getAttribute("dhx_col_id"));F(q,X,j.target)},".dhx_grid-cell.dhx_tree-cell .dhx_grid-cell__content":function(j){var $=j.composedPath(),q=A.data.getItem($[3].getAttribute("dhx_id")),X=A._getColumn($[2].getAttribute("dhx_col_id"));F(q,X,$[2])},".dhx_span-cell:not(.dhx_grid-header-cell)":function(j){var $=A.data.getItem(j.target.getAttribute("dhx_id")),q=A._getColumn(j.target.getAttribute("dhx_col_id")),X=A.getSpan($.id,q.id);if($&&X&&(0,a.isTooltip)(A.config,X)){var Q=X.text||(0,d.toFormat)($[q.id],q.type,q.format);X.tooltipTemplate?Q=X.tooltipTemplate(Q,X):q.template&&(Q=q.template(Q,$,q)),Q&&(0,k.tooltip)(Q,{css:"dhx_grid_tooltip",node:j.target,htmlEnable:!0})}},".dhx_grid-header-cell:not(.dhx_span-cell)":function(j){var $=A._getColumn(j.target.getAttribute("dhx_id"));U(j,$)},".dhx_grid-footer-cell:not(.dhx_span-cell)":function(j){var $=A._getColumn(j.target.getAttribute("dhx_id"));U(j,$)},".dhx_grid-header-cell.dhx_span-cell":function(j){var $=A._getColumn(j.target.getAttribute("dhx_id")),q=$&&$.header.find(function(Q){return!(!Q.rowspan&&!Q.colspan)});if($&&q&&(0,a.isTooltip)(A.config,$)){var X=q.text||"";X&&(0,k.tooltip)(X,{css:"dhx_grid_tooltip",node:j.target,htmlEnable:(0,a.isHtmlEnable)(A.config,$)})}},".dhx_grid-header-cell-text_content":function(j){var $=j.composedPath(),q=A._getColumn($[1].getAttribute("dhx_id"));if(q&&(0,a.isTooltip)(A.config,q)){var X=$[2].querySelector(".dhx_grid-header-cell-text_content")&&$[2].querySelector(".dhx_grid-header-cell-text_content").textContent||"";X&&(0,k.tooltip)(X,{css:"dhx_grid_tooltip",node:$[1],htmlEnable:(0,a.isHtmlEnable)(A.config,q)})}}}},(A.config.dragMode||A.config.dragItem)&&(l.dragManager.setItem(A._uid,A),A.config.dragItem||(A.config.dragItem="row"),A.config.dragMode||(A.config.dragMode="both")),A._init(),A.config.columns&&A._parseColumns(!0),A.config.data&&A.config.data instanceof Array&&A.config.data.length&&A.config.columns&&A.data.parse(A.config.data),A.selection=new u.Selection(A,{disabled:!A.config.selection},A.events,A._uid),A.mount(I,A._createView()),A.config.autoWidth&&A.config.autoHeight&&A._prepareData(A.config.data),(0,i.awaitRedraw)().then(function(){A.config.keyNavigation&&(A.keyManager=new s.KeyManager(function(j,$){return!($!==A._uid||!A.events.fire(r.GridEvents.beforeKeyDown,[j]))&&(A.events.fire(r.GridEvents.afterKeyDown,[j]),!0)}),A._initHotKey(),T.focusManager.setFocusId(A._uid))}),D.autoEmptyRow&&A.data.getLength()===0&&(A._addEmptyRow(),A.paint()),A}return b(O,M),O.prototype.destructor=function(){this._destroyContent(),this.keyManager&&this.keyManager.destructor(),this.events.events={},this.events.context=null,this._activeFilters=this._filterData=this._scroll=this.content=null,this.unmount()},O.prototype.setColumns=function(I){this.config.columns=I,this._parseColumns(!0),this._adjustColumns(),this._checkFilters(),this._checkMarks(),this.paint()},O.prototype.addRowCss=function(I,D){var A=this.data.getItem(I),F=A.$css||"";F.match(new RegExp(D,"g"))||(A.$css=F+" ".concat(D),this.paint())},O.prototype.removeRowCss=function(I,D){var A=this.data.getItem(I),F=A.$css?A.$css.replace(D,""):"";A.$css=F,this.paint()},O.prototype.addCellCss=function(I,D,A){var F=this._getColumn(D);F&&(F.$cellCss[I]?F.$cellCss[I]+=F.$cellCss[I].match(new RegExp(A,"g"))?"":" ".concat(A):this.data.getItem(I)&&(F.$cellCss[I]="".concat(A," ")),this.paint())},O.prototype.removeCellCss=function(I,D,A){var F=this._getColumn(D);F&&(F.$cellCss[I]?(F.$cellCss[I]=F.$cellCss[I].replace(A,""),this.paint()):this.data.getItem(I)&&(F.$cellCss[I]=""))},O.prototype.showColumn=function(I){var D=this._getColumn(I);if(D&&D.hidden&&this.events.fire(r.GridEvents.beforeColumnShow,[D])){D.hidden=!1,this.config.$totalWidth+=D.$width;var A=this._hiddenFilters&&this._hiddenFilters[D.id];A&&(this._activeFilters[D.id]=A,delete this._hiddenFilters[D.id]),this.paint(),this._checkFilters(),this.events.fire(r.GridEvents.afterColumnShow,[D])}},O.prototype.hideColumn=function(I){var D=this._getColumn(I);if(D&&!D.hidden&&this.events.fire(r.GridEvents.beforeColumnHide,[D])){D.hidden=!0,this.config.$totalWidth-=D.$width;var A=this._activeFilters&&this._activeFilters[D.id];A&&(this._hiddenFilters||(this._hiddenFilters={}),this._hiddenFilters[D.id]=A,delete this._activeFilters[D.id],this.data.filter()),this.paint(),this._checkFilters(),this.events.fire(r.GridEvents.afterColumnHide,[D])}},O.prototype.isColumnHidden=function(I){var D=this._getColumn(I);if(D)return!!D.hidden},O.prototype.showRow=function(I){if((0,h.isDefined)(I)){var D=I.toString(),A=this.data.getItem(D);A&&A.hidden&&this.events.fire(r.GridEvents.beforeRowShow,[A])&&(this.data.update(D,{hidden:!1}),this.data.filter(function(F){return!F.hidden}),this.events.fire(r.GridEvents.afterRowShow,[A]))}},O.prototype.hideRow=function(I){if((0,h.isDefined)(I)){var D=I.toString(),A=this.data.getItem(D);A&&this.events.fire(r.GridEvents.beforeRowHide,[A])&&(this.data.update(D,{hidden:!0}),this.data.filter(function(F){return!F.hidden}),this.events.fire(r.GridEvents.afterRowHide,[A]))}},O.prototype.isRowHidden=function(I){if((0,h.isDefined)(I)){var D=this.data.getItem(I.toString());return D?!!D.hidden:void 0}},O.prototype.getScrollState=function(){return{x:this._scroll.left,y:this._scroll.top}},O.prototype.scroll=function(I,D){var A=this.getRootView().refs.grid_body.el;A.scrollLeft=typeof I=="number"?I:A.scrollLeft,A.scrollTop=typeof D=="number"?D:A.scrollTop,this.paint()},O.prototype.scrollTo=function(I,D){var A=this.selection.getCell(),F=this.config.columns.filter(function(ot){return!ot.hidden}),U=(0,h.findIndex)(F,function(ot){return ot.id==D}),j=A?A.column:this.config.columns[0],$=(0,h.findIndex)(F,function(ot){return ot.id==j.id}),q=this.config.leftSplit?(0,a.getTotalWidth)(F.slice(0,this.config.leftSplit)):0,X=(0,a.getTotalWidth)(F.slice(0,U))-(U-$<0?q:0),Q=this.data.getRawData(0,-1),ft=(0,h.findIndex)(Q,function(ot){return ot.id==I}),st=(0,a.getTotalHeight)(Q.slice(0,ft)),at=this.getScrollState(),dt=this.config.width+at.x,Ct=this.config.height+at.y-this.config.headerRowHeight*this.config.$headerLevel,B=st-at.y-Q[ft].$height,W=X-at.x-F[U].$width,Y=st+2*Q[ft].$height+18-Ct,Z=X+2*F[U].$width+18-dt,J=B>0&&Y<0?0:B<0?B:Y,et=W>0&&Z<0?0:W<0?W:Z;this.scroll(et+at.x,J+at.y)},O.prototype.adjustColumnWidth=function(I,D){D===void 0&&(D=!0);var A=this.config.columns.filter(function(j){return!j.hidden}),F=A.filter(function(j){return j.id===I}),U=this._adjustColumnsWidth(this.config.data,F,D);this.config.$totalWidth=A.reduce(function(j,$){if(U[$.id]){$.$fixed=!0;var q=$.maxWidth,X=$.minWidth,Q=U[$.id];$.$width=Q,q&&Q>q&&($.$width=q),X&&$.$width<X&&($.$width=X)}return j+$.$width},0),this.paint()},O.prototype.getCellRect=function(I,D){var A=this.config.columns.filter(function(q){return!q.hidden}),F=this.data.getRawData(0,-1),U=this.getSpan(I,D),j=(0,h.findIndex)(A,function(q){return q.id==D}),$=(0,h.findIndex)(F,function(q){return q.id==I});return{x:(0,a.getTotalWidth)(A.slice(0,j)),y:(0,a.getTotalHeight)(F.slice(0,$)),height:U!=null&&U.rowspan?(0,t.getHeight)(F,U.rowspan,$):F[$]?F[$].$height:0,width:U!=null&&U.colspan?(0,t.getWidth)(A,U.colspan,j):A[j]?A[j].$width:0}},O.prototype.getColumn=function(I){var D=(0,h.findIndex)(this.config.columns,function(A){return A.id==I});if(D>=0)return this.config.columns[D]},O.prototype.addSpan=function(I){this.config.spans=this.config.spans||[];var D=(0,h.findIndex)(this.config.spans,function(A){return"".concat(A.row)==="".concat(I.row)&&"".concat(A.column)==="".concat(I.column)});D>=0?this.config.spans[D]=I:(this.config.spans.push(I),this.paint())},O.prototype.getSpan=function(I,D){if(this.config.spans){var A=(0,h.findIndex)(this.config.spans,function(F){return"".concat(F.row)=="".concat(I)&&"".concat(F.column)=="".concat(D)});return this.config.spans[A]}},O.prototype.removeSpan=function(I,D){if(this.config.spans){var A=(0,h.findIndex)(this.config.spans,function(F){return"".concat(F.row)=="".concat(I)&&"".concat(F.column)=="".concat(D)});this.config.spans.splice(A,1),this.paint()}},O.prototype.editCell=function(I,D,A){var F,U=this.data.getItem(I),j=this.getColumn(D);if(U&&j){var $=j.editorType;A||(j.type==="date"&&(A="datePicker"),j.type==="boolean"&&(A="checkbox"),$&&(A=$)),this.events.fire(r.GridEvents.beforeEditStart,[U,j,A])&&(((F=this.config.$editable)===null||F===void 0?void 0:F.editor)||this.config.$editable&&this.config.$editable.row===I&&this.config.$editable.col===D&&this.config.$editable.editorType===A||(this.config.$editable={row:U.id,col:j.id,editorType:A},this.selection.config.disabled||this.selection.setCell(I.toString(),D.toString()),this.paint(),this.events.fire(r.GridEvents.afterEditStart,[U,j,A])))}else(0,l.dhxWarning)("item not found")},O.prototype.editEnd=function(I){this.config.$editable&&this.config.$editable.editor&&this.config.$editable.editor.endEdit(I)},O.prototype.getSortingState=function(){return{dir:this._sortDir,by:this._sortBy}},O.prototype.getHeaderFilter=function(I){var D=this,A=this.getColumn(I);if(A){var F=null;return A.header.forEach(function(U){if(U.content){var j=D.content[U.content].element[I];F=U.content==="comboFilter"?j:D.getRootView().refs["".concat(I,"_filter")].el}}),F}},O.prototype.edit=function(I,D,A){this.editCell(I,D,A)},O.prototype._createView=function(){var I=this;return(0,i.create)({render:function(D,A){return(0,c.render)(D,A,I._htmlEvents,I.selection,I._uid)}},this)},O.prototype._parseColumns=function(I){I===void 0&&(I=!1),(0,d.normalizeColumns)(this.config,I);var D=this.config.columns.filter(function(A){return!A.hidden});(0,d.countColumns)(this.config,D)},O.prototype._parseData=function(){this.config.data=this._prepareData(this.data),this._detectColsTypes(),this._checkFilters(),this._checkMarks(),this.data.filter(function(I){return!I.hidden}),this._render()},O.prototype._createCollection=function(I){this.data=new l.DataCollection({prep:I},this.events)},O.prototype._getRowIndex=function(I){return this.data.getIndex(I)},O.prototype._setEventHandlers=function(){var I=this;this.data.events.on(l.DataEvents.load,function(){I.data.filter(function(D){return D}),I._parseData(),I._checkFilters()}),this.data.events.on(l.DataEvents.change,function(D,A,F){if(A!=="setPage"){if(A!=="add"&&A!=="update"&&A!=="remove"||(I.config.data=I._prepareData(I.data)),D&&(I._filterData=I.data.map(function(j){return j})||[],I._checkFilters()),I._detectColsTypes(),I._removeMarks(),I._checkMarks(),I.config.autoEmptyRow&&(!I._activeFilters||(0,h.isEmptyObj)(I._activeFilters))){var U=I.data.find({by:"$emptyRow",match:!0});if(U){if(U.id===D)return;I.data.move(U.id,I.data.getLength()-1)}else I._addEmptyRow()}I._render()}else(0,i.awaitRedraw)().then(function(){I.scrollTo(I.data.getId(F[0]).toString(),I.config.columns[0].id.toString()),I._render()})}),this.data.events.on(l.DataEvents.removeAll,function(){I.config.columns.map(function(D){D.header.map(function(A){!A.content||A.content!=="selectFilter"&&A.content!=="comboFilter"||(D.$uniqueData=[])})})}),this.events.on(l.DragEvents.beforeDrag,function(D,A){return I.data.getItem(D.start)?I.events.fire(r.GridEvents.beforeRowDrag,[D,A]):I.config.dragItem==="column"||I.config.dragItem==="both"?I.events.fire(r.GridEvents.beforeColumnDrag,[D,A]):void 0}),this.events.on(l.DragEvents.dragStart,function(D,A){I.data.getItem(D.start)?I.events.fire(r.GridEvents.dragRowStart,[D,A]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(r.GridEvents.dragColumnStart,[D,A])}),this.events.on(l.DragEvents.dragIn,function(D,A){I.data.getItem(D.start)?I.events.fire(r.GridEvents.dragRowIn,[D,A]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(r.GridEvents.dragColumnIn,[D,A])}),this.events.on(l.DragEvents.dragOut,function(D,A){I.data.getItem(D.start)?I.events.fire(r.GridEvents.dragRowOut,[D,A]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(r.GridEvents.dragColumnOut,[D,A])}),this.events.on(l.DragEvents.canDrop,function(D,A){I.data.getItem(D.start)?I.events.fire(r.GridEvents.canRowDrop,[D,A]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(r.GridEvents.canColumnDrop,[D,A])}),this.events.on(l.DragEvents.cancelDrop,function(D,A){I.data.getItem(D.start)?I.events.fire(r.GridEvents.cancelRowDrop,[D,A]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(r.GridEvents.cancelColumnDrop,[D,A])}),this.events.on(l.DragEvents.beforeDrop,function(D,A){return I.config.dragItem!=="row"||I.config.dragMode!=="both"&&I.config.dragMode!=="target"?I.config.dragItem==="column"||I.config.dragItem==="both"?I.events.fire(r.GridEvents.beforeColumnDrop,[D,A]):void 0:I.events.fire(r.GridEvents.beforeRowDrop,[D,A])}),this.events.on(l.DragEvents.afterDrop,function(D,A){var F;if(I.data.getItem(D.start)){I.events.fire(r.GridEvents.afterRowDrop,[D,A]);for(var U=I.data.getItem(D.start),j=0,$=I.config.columns;j<$.length;j++){var q=$[j];U[q.id]===void 0&&I.data.update(U.id,((F={})[q.id]=null,F),!0)}}else I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(r.GridEvents.afterColumnDrop,[D,A]);I.config.data=I._prepareData(I.data.map(function(X){return X})),I.data.parse(I.config.data)}),this.events.on(l.DragEvents.afterDrag,function(D,A){I.data.getItem(D.start)?I.events.fire(r.GridEvents.afterRowDrag,[D,A]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(r.GridEvents.afterColumnDrag,[D,A]),I.config.data=I._prepareData(I.data instanceof Array?I.data.map(function(F){return F}):I.data),I.data.parse(I.config.data)}),this.events.on(r.GridEvents.cellMouseDown,function(D,A,F){F.targetTouches?(I._touch.timer=setTimeout(function(){I._dragStart(F)},I._touch.duration),I._touch.timeStamp?(I._touch.dblDuration>=I._touch.timeStamp-+F.timeStamp.toFixed()&&((A.editable!==!1&&I.config.editable||A.editable)&&I.editCell(D.id,A.id,A.editorType),F.preventDefault(),I.events.fire(r.GridEvents.cellDblClick,[D,A,F])),I._touch.timeStamp=null):I._touch.timeStamp=+F.timeStamp.toFixed(),setTimeout(function(){I._touch.timeStamp=null},I._touch.dblDuration)):I._dragStart(F)}),this._events.on(r.GridSystemEvents.cellTouchMove,function(D,A,F){I._touch.start&&F.preventDefault(),I._clearTouchTimer()}),this._events.on(r.GridSystemEvents.cellTouchEnd,function(){I._touch.start=!1,I._clearTouchTimer()}),this.events.on(r.GridEvents.filterChange,function(D,A,F){if(D=D!=null?D:"",I.config.autoEmptyRow){var U=I.data.find({by:"$emptyRow",match:!0});U&&I.data.remove(U.id)}I._activeFilters||(I._activeFilters={});var j=I._getColumn(A);for(var $ in D!==""?I._activeFilters[A]={by:A,match:D,compare:I.content[F].match,multi:(j==null?void 0:j.editorType)==="multiselect"}:delete I._activeFilters[A],I.data.filter(function(q){return q}),I._activeFilters)I.data.filter(I._activeFilters[$],{add:!0})}),this.events.on(r.GridEvents.scroll,function(D){I._scroll={top:D.y,left:D.x},I.editEnd(),I.paint()}),this.events.on(r.GridEvents.cellDblClick,function(D,A){(A.editable!==!1&&I.config.editable||A.editable)&&I.editCell(D.id,A.id,A.editorType)}),this.events.on(r.GridEvents.afterEditEnd,function(D,A,F){var U,j;if(!(!((j=I.config.$editable)===null||j===void 0)&&j.editor)||I.config.$editable.col===F.id&&I.config.$editable.row===A.id){var $,q;I.config.$editable?($=I.config.$editable.row,q=I.config.$editable.col):($=A.id,q=F.id);var X=I.data.getItem($);delete X.$emptyRow,D!==void 0&&I.data.update($,p(p({},X),((U={})[q]=D,U))),I.config.$editable=null,I._checkFilters(),I.paint()}}),this.events.on(r.GridEvents.headerCellMouseDown,function(D,A){var F=A.target.getAttribute("dhx_resized");F&&I.events.fire(r.GridEvents.beforeResizeStart,[D,A])&&(0,w.startResize)(I,F.toString(),A,function(){I.paint(),I.config.$resizing=null,I.events.fire(r.GridEvents.afterResizeEnd,[D,A])}),A.targetTouches&&(I._touch.timeStamp?(I._touch.dblDuration>=I._touch.timeStamp-+A.timeStamp.toFixed()&&(A.preventDefault(),I.events.fire(r.GridEvents.headerCellDblClick,[D,A])),I._touch.timeStamp=null):I._touch.timeStamp=+A.timeStamp.toFixed(),setTimeout(function(){I._touch.timeStamp=null},I._touch.dblDuration))}),this.events.on(r.GridEvents.footerCellDblClick,function(D,A){A.targetTouches&&(I._touch.timeStamp?(I._touch.dblDuration>=I._touch.timeStamp-+A.timeStamp.toFixed()&&(A.preventDefault(),I.events.fire(r.GridEvents.footerCellDblClick,[D,A])),I._touch.timeStamp=null):I._touch.timeStamp=+A.timeStamp.toFixed(),setTimeout(function(){I._touch.timeStamp=null},I._touch.dblDuration))}),this.events.on(r.GridEvents.resize,function(){I._parseColumns(),I._checkFilters()})},O.prototype._addEmptyRow=function(){var I=this.data.getId(this.data.getLength()-1),D=this.data.getItem(I),A=this.config.columns.filter(function(F){return!F.hidden});(0,a.isRowEmpty)(D)||this.data.add(A.reduce(function(F,U){return F[U.id]="",F},{$emptyRow:!0}))},O.prototype._sort=function(I,D,A){var F=this;D?this._sortDir=D:this._sortBy===I?this._sortDir=this._sortDir==="asc"?"desc":"asc":this._sortDir="asc",this._sortBy=I,this.data.sort({by:I,dir:this._sortDir,as:A!=null?A:function(U){var j=F.getColumn(I);return U&&j.type==="date"?typeof U=="string"?(0,v.stringToDate)(U,j.format).getTime():U.getTime():U?"".concat(U):""}}),this.events.fire(r.GridEvents.afterSort,[this.getColumn(I),this._sortDir])},O.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},O.prototype._checkFilters=function(){var I=this,D=this._filterData;if(D){this.config.columns.forEach(function(j){j.header.forEach(function($){if($.content&&($.content==="selectFilter"||$.content==="comboFilter")){var q=j.header.find(function(Q){return Q.filterConfig}),X=(0,d.getUnique)(D,j.id,q?q.filterConfig.multiselection:null);j.$uniqueData&&j.$uniqueData.length>X.length?X.forEach(function(Q){j.$uniqueData.includes(Q)||j.$uniqueData.push(Q)}):j.$uniqueData=X}})});var A=function(j){var $=F.config.columns.find(function(Q){return Q.id===j}),q=$.header.find(function(Q){return!!Q.content}),X=!1;X=Array.isArray(F._activeFilters[j].match)?F._activeFilters[j].match.reduce(function(Q,ft){if($.$uniqueData.find(function(st){return st.toString()===ft}))return!0},!1):$.$uniqueData.find(function(Q){return Q.toString()===I._activeFilters[j].match}),!q||q.content!=="selectFilter"&&q.content!=="comboFilter"||X?F.data.filter(F._activeFilters[j],{add:!0}):(delete F._activeFilters[j],F.data.filter())},F=this;for(var U in this._activeFilters)A(U)}},O.prototype._adjustColumns=function(){var I=this;if(typeof this.config.adjust=="boolean"||this.config.adjust==="data"||this.config.adjust==="header"||this.config.adjust==="footer"){if(!(F=this.config.columns.filter(function(U){return!U.hidden})).length)return;var D=this.config.data&&this.config.data.length?this.config.data:this.data.map(function(U){return U}),A=this._adjustColumnsWidth(D,F);this.config.$totalWidth=F.reduce(function(U,j){j.$fixed=!0;var $=j.maxWidth,q=j.minWidth,X=A[j.id];return j.$width=X,$&&X>$&&(j.$width=$),q&&j.$width<q&&(j.$width=q),U+j.$width},0)}else{var F;if(!(F=this.config.columns.filter(function(U){return!U.hidden&&U.adjust})).length)return;F.forEach(function(U){I.adjustColumnWidth(U.id,U.adjust)})}},O.prototype._prepareData=function(I){var D=this;return this.config.autoHeight&&(this.config.autoHeight=!1),this._adjustColumns(),I.map(function(A){return A.$height=A.height||D.config.rowHeight,A})},O.prototype._adjustColumnsWidth=function(I,D,A){var F,U,j;A===void 0&&(A=this.config.adjust);var $={};if(A==="header"||A===!0){var q=D.filter(function(et){return et.header});if(dt=(0,d.getMaxColsWidth)(this._prepareColumnData(q,"header"),q,{font:"bold 14.4px Arial"},"header"))for(var X=0,Q=Object.entries(dt);X<Q.length;X++){var ft=Q[X],st=ft[0],at=ft[1];$=Object.assign($,((F={})[st]=+at+((0,a.isSortable)(this.config,this.getColumn(st))?36:16),F))}}if(A==="footer"||A===!0){var dt;if(q=D.filter(function(et){return et.footer}),dt=(0,d.getMaxColsWidth)(this._prepareColumnData(q,"footer"),q,{font:"bold 14.4px Arial"},"footer"))for(var Ct=0,B=Object.entries(dt);Ct<B.length;Ct++){var W=B[Ct];st=W[0],at=W[1],($[st]&&$[st]<+at+16||!$[st])&&($=Object.assign($,((U={})[st]=+at+16,U)))}}if((A==="data"||A===!0)&&(dt=(0,d.getMaxColsWidth)(I,D,{font:"normal 14.4px Arial"},"data")))for(var Y=0,Z=Object.entries(dt);Y<Z.length;Y++){var J=Z[Y];st=J[0],at=J[1],($[st]&&$[st]<+at+16||!$[st])&&($=Object.assign($,((j={})[st]=+at+16,j)))}return $},O.prototype._prepareColumnData=function(I,D){for(var A,F,U,j,$,q,X,Q,ft,st,at=[],dt=0;dt<I.length;dt++){for(var Ct=[],B=0;B<((F=I[B])===null||F===void 0?void 0:F[D].length);B++){var W={};!((j=(U=I[dt])===null||U===void 0?void 0:U[D][B])===null||j===void 0)&&j.text?(W[I[dt].id]=((q=($=I[dt])===null||$===void 0?void 0:$[D][B])===null||q===void 0?void 0:q.text)||"",Ct.push(W)):!((Q=(X=I[dt])===null||X===void 0?void 0:X[D][B])===null||Q===void 0)&&Q.content&&(W[I[dt].id]=this.content[(st=(ft=I[dt])===null||ft===void 0?void 0:ft[D][B])===null||st===void 0?void 0:st.content].toHtml(this.getColumn(I[dt].id),this.config)||"",Ct.push(W))}for(var Y=0;Y<Ct.length;Y++)for(var Z=0,J=Object.entries(Ct[Y]);Z<J.length;Z++){var et=J[Z],ot=et[0],it=et[1];at[Y]=p({},at[Y])||{},at[Y]=Object.assign(at[Y],((A={})[ot]=it,A))}}return at},O.prototype._dragStart=function(I){if(this.config.dragMode&&(this.config.dragItem==="row"||this.config.dragItem==="both")&&!this.config.$editable){var D=this._getColumn(I.target.getAttribute("dhx_col_id"));if((D==null?void 0:D.draggable)===!1)return;var A=(0,o.locateNode)(I,"dhx_id"),F=A&&A.getAttribute("dhx_id");return I.targetTouches&&(this._touch.start=!0),l.dragManager.onMouseDown(I,[F])}},O.prototype._getColumn=function(I){for(var D=0,A=this.config.columns;D<A.length;D++){var F=A[D];if(F.id==I)return F}},O.prototype._init=function(){this.events=new e.EventSystem(this),this._events=new e.EventSystem(this),this._attachDataCollection(),this.export=new g.Exporter(this),this._setEventHandlers()},O.prototype._attachDataCollection=function(){var I=this;if(this.config.data instanceof l.DataCollection)return this.data=this.config.data,void(this.config.data=this.data.serialize());this._createCollection(function(D){return D.spans&&(I.config.spans=D.spans,D=D.data),D})},O.prototype._setMarks=function(I,D){for(var A=this.data.map(function(q){return{id:q.id,data:q[I.id],row:q}}),F=this.data.map(function(q){return q[I.id]}),U=function(q){var X=D(q.data,F,q.row,I);if(X){I.$cellCss=I.$cellCss||{};var Q=(I.$cellCss[q.id]||"").split(" ");X.split(" ").map(function(ft){Q.includes(ft)||Q.push(ft)}),I.$cellCss[q.id]=Q.join(" ")}},j=0,$=A;j<$.length;j++)U($[j])},O.prototype._checkMarks=function(){var I=this;this.config.columns.map(function(D){var A=D.mark;A&&(typeof A=="function"?I._setMarks(D,A):I._setMarks(D,function(F,U){var j=[];U.forEach(function(X){X!=null&&X!==""&&j.push(parseFloat(X))});var $=(0,h.getMinArrayNymber)(j),q=(0,h.getMaxArrayNymber)(j);return A.max&&q===parseFloat(F)?A.max:!(!A.min||$!==parseFloat(F))&&A.min}))})},O.prototype._removeMarks=function(){this.config.columns.forEach(function(I){I.mark&&(I.$cellCss={})})},O.prototype._detectColsTypes=function(){this.config.columns.forEach(function(I){return I.type?I:I.format?(I.type="number",I):void(I.type||(I.type="string"))})},O.prototype._destroyContent=function(){for(var I in this.content)I==="comboFilter"&&this.content[I].destroy()},O.prototype._render=function(){this.paint()},O.prototype._initHotKey=function(){var I=(0,S.getKeysHandlers)(this);for(var D in I)this.keyManager.addHotKey(D,I[D]);for(var D in this.config.hotkeys)this.keyManager.addHotKey(D,this.config.hotkeys[D])},O}(f.View);n.Grid=E},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var c,v=1,x=arguments.length;v<x;v++)for(var w in c=arguments[v])Object.prototype.hasOwnProperty.call(c,w)&&(r[w]=c[w]);return r},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.proRender=n.render=n.getRenderConfig=void 0;var b=y(0),p=y(2),i=y(14),e=y(8),o=y(35),h=y(132),s=y(67),f=y(1),l=2;function g(r,c,v){var x=r.config,w=x.columns.filter(function(E){return!E.hidden}),k=(0,i.calculatePositions)(v.width,v.height,r._scroll,x,c),S=w.slice(k.xStart,k.xEnd),T=c.slice(k.yStart,k.yEnd);return m(m({},x),{data:c,columns:w,scroll:r._scroll,$positions:k,headerHeight:x.$headerLevel*x.headerRowHeight,footerHeight:x.$footerLevel*x.footerRowHeight,firstColId:w[0]&&w[0].id,events:r.events,_events:r._events,currentColumns:S,currentRows:T,sortBy:r._sortBy,sortDir:r._sortDir,content:r.content,gridId:r._uid})}function d(r){if(r&&(r.tagName||(r=r._parent._container),r)){var c=r.currentStyle||window.getComputedStyle(r),v=parseFloat(c.paddingLeft)+parseFloat(c.paddingRight)||0,x=parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)||0;return{width:r.clientWidth-v,height:r.clientHeight-x}}}function t(r,c){var v,x=(0,o.getCells)(r),w=(0,o.getSpans)(r),k=r.columns;if(r.$resizing){var S=(0,f.findIndex)(k,function(U){return U.id===r.$resizing}),T=(0,e.getTotalWidth)(k.slice(0,S))+k[S].$width;v=(0,b.el)(".dhx_grid-resize-line",{style:{top:0,left:T,height:r.$totalHeight}})}var E=r.selection?r.selection.toHTML():null;E=typeof E=="string"?(0,b.el)("div.dhx_selection",{".innerHTML":E}):E;var M,O=r.$positions,I={};function D(U){var j=(0,p.locate)(U,"dhx_id"),$=(0,p.locate)(U,"dhx_col_id"),q=r.currentRows.filter(function(Q){return Q.id===j})[0],X=r.currentColumns.filter(function(Q){return Q.id===$})[0];return{row:j?q:{},col:$?X:{}}}if(r.eventHandlers){for(var A in r.eventHandlers)if(r.eventHandlers.hasOwnProperty(A)){var F=r.eventHandlers[A];I[A]=(0,p.eventHandler)(function(U){return D(U)},m({},F))}}return(0,b.el)(".dhx_data-wrap",m({style:{height:r.$totalHeight,width:r.$totalWidth,"padding-left":c.x,"padding-top":c.y},role:"presentation"},I),[(0,b.el)(".dhx_grid_data",m(m({_flags:b.KEYED_LIST},(0,o.getHandlers)(O.yStart,O.xStart,r)),(M=r.data.length,{role:"rowgroup","aria-rowcount":M})),x),(0,b.el)(".dhx_span-spans",{role:"presentation"},w),(0,b.el)(".dhx_grid_selection",{_ref:"selection","aria-hidden":"true"},[E,v])])}function a(r,c,v){var x=v.height-l;return x=c?x:x-r.headerHeight,r.$footer?c?x:x-r.footerHeight:x}function u(r,c,v,x,w){v===void 0&&(v=!0),x===void 0&&(x=!1),w===void 0&&(w=!1);var k=!w&&r.$totalHeight>=c.height-r.headerRowHeight?(0,p.getScrollbarWidth)():0,S=c.width-l-k,T=r.columns.filter(function(D){return!D.hidden}),E=T.filter(function(D){return!D.width&&!D.$fixed&&(0,e.isAutoWidth)(r,D)}),M=(0,e.getTotalWidth)(T.filter(function(D){return D.width||D.$fixed||!(0,e.isAutoWidth)(r,D)})),O=E.reduce(function(D,A){return D+(A.gravity||1)},0);if(S<r.$totalWidth){var I=E.reduce(function(D,A){return D+(A.maxWidth||A.$width)},0);E.length>1&&E.forEach(function(D){var A=0,F=(A=v?Math.abs(S-I)*((D.gravity||1)/O):Math.abs(S-M)*((D.gravity||1)/O))<D.minWidth,U=A>D.maxWidth;F||U?F?(M+=D.$width-A,D.$fixed=!0):U&&(D.$width=D.maxWidth,D.$fixed=!0):D.$width=A})}else E.forEach(function(D){var A=Math.abs(S-M)*((D.gravity||1)/O),F=A<D.minWidth,U=A>D.maxWidth;F||U?F?(M+=D.$width-A,x&&(D.$fixed=!0)):U&&(D.$width=D.maxWidth,x&&(D.$fixed=!0)):D.$width=A,!v&&D.$fixed&&delete D.$fixed});v&&u(r,c,!1,x,w)}n.getRenderConfig=g,n.render=function(r,c,v,x,w){if(c._container||(c.config.width=1,c.config.height=1),r&&r.node&&r.node.parent&&r.node.parent.el){var k=d(r.node.parent.el);c.config.width=k.width,c.config.height=k.height}var S=c.config;if(!S)return(0,b.el)("div");if(!S.columns.length)return(0,b.el)(".dhx_grid",{dhx_root_id:S.rootParent});var T=c.data.getRawData(0,-1,null,2);S.columns.reduce(function(B,W){return W.hidden?B:W.hidden},!0)?S.$totalHeight=0:S.$totalHeight=T.reduce(function(B,W){return B+(W.$height||0)},0);var E=d(c._container),M={width:(S.width?S.width:E&&E.width)||0,height:(S.height?S.height:E&&E.height)||0};(0,e.isAutoWidth)(S)&&(u(S,M),S.$totalWidth=(0,e.getTotalWidth)(S.columns.filter(function(B){return!B.hidden}))),S.width=M.width,S.height=M.height;var O=g(c,T,M);O.selection=x,O.datacollection=c.data;var I,D,A,F,U=(0,o.getShifts)(O),j=(0,e.isCssSupport)("position","sticky"),$=a(O,j,M),q={wrapper:M,sticky:j,shifts:U,gridBodyHeight:$},X=(0,s.getFixedRows)(O,m(m({},q),{name:"header",position:"top"})),Q=O.$footer?(0,s.getFixedRows)(O,m(m({},q),{name:"footer",position:"bottom"})):null,ft=O.$totalWidth+l<M.width?"dhx_grid-less-width":"",st=O.$totalHeight+l<M.height?"dhx_grid-less-height":"";if(!r.node){var at=c.getScrollState(),dt=at.x,Ct=at.y;(0,b.awaitRedraw)().then(function(){c.scroll(dt,Ct)})}return(0,b.el)(".dhx_grid.dhx_widget",m({class:(O.css||"")+(j?"":" dhx_grid_border")+(S.multiselection?" dhx_no-select--pointer":""),dhx_widget_id:w,dhx_root_id:S.rootParent},(I=O.data,D=S.columns,A=O.editable,F=O.multiselection,{role:"grid","aria-rowcount":I.length,"aria-colcount":D.filter(function(B){return!B.hidden}).length,"aria-readonly":A?"false":"true","aria-multiselectable":F?"true":"false"})),[(0,b.resizer)(function(B){return(0,e.isAutoWidth)(c.config)&&B&&(S.$totalWidth=0,u(S,M,!0,!0)),c.paint()}),(0,b.el)(".dhx_grid-content",{style:m({},M),onclick:v.onclick,onmouseover:v.onmouseover,class:"".concat(ft," ").concat(st).trim(),role:"presentation"},[j?null:X,(0,b.el)(".dhx_grid-body",{style:{height:$,width:M.width-l},onscroll:v.onscroll,_ref:"grid_body",role:"presentation"},[(0,b.el)("div",{},[j?X:null,t(O,U),j?Q:null])]),(0,h.getFixedColsHeader)(O,q),(0,h.getFixedCols)(O,q),j?null:Q])])},n.proRender=function(r,c,v,x,w){if(c._container||(c.config.width=1,c.config.height=1),r&&r.node&&r.node.parent&&r.node.parent.el){var k=d(r.node.parent.el);c.config.width=k.width,c.config.height=k.height}var S=c.config;if(!S)return(0,b.el)("div");if(!S.columns.length)return(0,b.el)(".dhx_grid",{dhx_root_id:S.rootParent});var T=c.data.getRawData(0,-1,null,2);S.columns.reduce(function(at,dt){return dt.hidden?at:dt.hidden},!0)?S.$totalHeight=0:S.$totalHeight=T.reduce(function(at,dt){return at+(dt.$height||0)},0);var E=d(c._container),M={width:(S.width?S.width:E&&E.width)||0,height:(S.height?S.height:E&&E.height)||0};(0,e.isAutoWidth)(S)&&(u(S,M,!0,!1,c.scrollView&&c.scrollView.config.enable),S.$totalWidth=(0,e.getTotalWidth)(S.columns.filter(function(at){return!at.hidden}))),S.width=M.width,S.height=M.height;var O=g(c,T,M);O.selection=x,O.datacollection=c.data;var I=(0,o.getShifts)(O),D=(0,e.isCssSupport)("position","sticky"),A=a(O,D,M),F={wrapper:M,sticky:D,shifts:I,gridBodyHeight:A},U=(0,s.getFixedRows)(O,m(m({},F),{name:"header",position:"top"})),j=O.$footer?(0,s.getFixedRows)(O,m(m({},F),{name:"footer",position:"bottom"})):null,$=O.$totalWidth+l<M.width?"dhx_grid-less-width":"",q=O.$totalHeight+l<M.height?"dhx_grid-less-height":"";if(!r.node){var X=c.getScrollState(),Q=X.x,ft=X.y;(0,b.awaitRedraw)().then(function(){c.scroll(Q,ft)})}var st=(0,b.el)("div",{},[D?U:null,t(O,I),D?j:null]);return(0,b.el)(".dhx_grid.dhx_widget",{class:(O.css||"")+(D?"":" dhx_grid_border")+(S.multiselection?" dhx_no-select--pointer":""),dhx_widget_id:w,dhx_root_id:S.rootParent,role:"grid","aria-rowcount":O.data.length,"aria-colcount":S.columns.filter(function(at){return!at.hidden}).length},[(0,b.resizer)(function(at){return(0,e.isAutoWidth)(c.config)&&at&&(S.$totalWidth=0,u(S,M,!0,!0)),c.paint()}),(0,b.el)(".dhx_grid-content",{style:m({},M),onclick:v.onclick,onmouseover:v.onmouseover,class:"".concat($," ").concat(q).trim(),role:"presentation"},[D?null:U,(0,b.el)(".dhx_grid-body",{style:{height:A,width:M.width-l},onscroll:v.onscroll,_ref:"grid_body",role:"presentation"},[c.scrollView&&c.scrollView.config.enable?c.scrollView.render([st]):st]),(0,h.getFixedColsHeader)(O,F),(0,h.getFixedCols)(O,F),D?null:j])])}},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(115),n),b(y(58),n)},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.SliderEvents=void 0,function(b){b.change="change",b.focus="focus",b.blur="blur",b.keydown="keydown",b.mousedown="mousedown",b.mouseup="mouseup"}(m||(n.SliderEvents=m={}))},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.TimepickerEvents=void 0,function(b){b.change="change",b.beforeApply="beforeApply",b.afterApply="afterApply",b.beforeClose="beforeClose",b.afterClose="afterClose",b.apply="apply",b.close="close",b.save="save"}(m||(n.TimepickerEvents=m={}))},function(P,n,y){var m;Object.defineProperty(n,"__esModule",{value:!0}),n.CalendarEvents=void 0,function(b){b.change="change",b.beforeChange="beforechange",b.modeChange="modeChange",b.monthSelected="monthSelected",b.yearSelected="yearSelected",b.cancelClick="cancelClick",b.dateMouseOver="dateMouseOver",b.dateHover="dateHover"}(m||(n.CalendarEvents=m={}))},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(60),n),b(y(130),n),b(y(66),n)},function(P,n,y){var m,b=this&&this.__extends||(m=function(S,T){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,M){E.__proto__=M}||function(E,M){for(var O in M)Object.prototype.hasOwnProperty.call(M,O)&&(E[O]=M[O])},m(S,T)},function(S,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");function E(){this.constructor=S}m(S,T),S.prototype=T===null?Object.create(T):(E.prototype=T.prototype,new E)}),p=this&&this.__spreadArray||function(S,T,E){if(E||arguments.length===2)for(var M,O=0,I=T.length;O<I;O++)!M&&O in T||(M||(M=Array.prototype.slice.call(T,0,O)),M[O]=T[O]);return S.concat(M||Array.prototype.slice.call(T))};Object.defineProperty(n,"__esModule",{value:!0}),n.Combobox=void 0;var i=y(1),e=y(0),o=y(5),h=y(2),s=y(125),f=y(6),l=y(7),g=y(23),d=y(61),t=y(15),a=y(129),u=y(64),r=y(27),c=y(65),v=y(66);function x(S,T){return typeof T=="function"?T(S):S+" "+u.default.selectedItems}var w=function(S){return S.icon?'<span class="'.concat(S.icon,' dhx_combobox-options__icon"></span> <span class="dhx_combobox-options__value">').concat(S.value,"</span>"):S.src?'<img src="'.concat(S.src,'" class="dhx_combobox-options__image" alt=').concat(S.value,'></img> <span class="dhx_combobox-options__value">').concat(S.value,"</span>"):'<span class="dhx_combobox-options__value">'.concat(S.value,"</span>")},k=function(S){function T(E,M){var O=S.call(this,E,(0,i.extend)({template:w,listHeight:224,itemHeight:36,disabled:!1,readOnly:!1},M))||this;O.config.itemsCount=O.config.itemsCount||O.config.showItemsCount,O.config.helpMessage=O.config.helpMessage||O.config.help,O.config.cellHeight&&O.config.itemHeight===36&&(O.config.itemHeight=O.config.cellHeight),O.config.labelInline&&(O.config.labelPosition="left"),Array.isArray(O.config.data)?(O.events=new o.EventSystem(O),O.data=new l.DataCollection({}),O.data.parse(O.config.data)):O.config.data?(O.data=O.config.data,O.events=new o.EventSystem(O),O.events.context=O):(O.events=new o.EventSystem(O),O.data=new l.DataCollection({})),O.popup=new t.Popup,O.popup.events.on(t.PopupEvents.afterShow,function(){O.paint()}),O.popup.events.on(t.PopupEvents.afterHide,function(){O.config.multiselection&&(O._state.value=""),O.paint()}),O.popup.events.on(t.PopupEvents.beforeHide,function(D){D&&O._hideOptions()}),(O.config.readonly||O.config.readOnly)&&(O.config.readOnly=O.config.readOnly||O.config.readonly,O._keyListener=new a.KeyListener),O._state={value:"",ignoreNext:!1,canDelete:!1,unselectActive:!1,currentState:v.ComboState.default},O._initHandlers(),O._createLayout(),O.config.value&&O._setValue(O.config.value,!0),O._initEvents();var I=(0,e.create)({render:function(){return O._draw()},hooks:{didRedraw:function(){O.popup.isVisible()&&(O.focus(),O._configurePopup())}}});return O.mount(E,I),O}return b(T,S),T.prototype.focus=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.focus()},T.prototype.blur=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.blur(),this.popup.hide()},T.prototype.enable=function(){this.config.disabled=!1,this.paint()},T.prototype.disable=function(){this.config.disabled=!0,this.paint()},T.prototype.isDisabled=function(){return this.config.disabled},T.prototype.clear=function(){if(this.config.disabled)return!1;this.list.selection.remove(),this._state.value="",this._filter(),this.paint()},T.prototype.getValue=function(E){var M=this.list.selection.getId();return E?(0,i.wrapBox)(M):Array.isArray(M)?M.join(","):M},T.prototype.setValue=function(E){return this._setValue(E)},T.prototype.destructor=function(){this.popup&&this.popup.destructor(),this.events&&this.events.clear(),this.list&&this.list.destructor(),this._helper&&this._helper.destructor(),this._layout&&this._layout.destructor(),this.config=this.events=this.list=this.popup=null,this._helper=this._keyListener=this._handlers=this._state=this._uid=this._isPopupConfiqureted=null,this.unmount()},T.prototype.setState=function(E){switch(E){case"success":this._state.currentState=v.ComboState.success;break;case"error":this._state.currentState=v.ComboState.error;break;default:this._state.currentState=v.ComboState.default}this.paint()},T.prototype._setValue=function(E,M){var O=this;if(M===void 0&&(M=!1),this.config.disabled||!this._exsistId(E))return!1;if(this._filter(),this.config.multiselection||(this.list.selection.remove(),this._state.value=""),this.config.multiselection)typeof E=="string"&&(E=E.split(",")),typeof E=="number"&&(E=[E]),E.forEach(function(A){O.list.selection.add(A,!1,!1,M)});else{var I=(0,i.unwrapBox)(E);this.list.selection.add(I,!1,!1,M);var D=this.data.getItem(I);D&&(this._state.value=this._getItemText(D))}this.paint()},T.prototype._createLayout=function(){var E=this.list=new d.List(null,{template:this.config.template,virtual:this.config.virtual,keyNavigation:!1,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),M=this._layout=new g.Layout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll}}});M.getCell("list").attach(E),this.config.multiselection&&this.config.selectAllButton&&M.getCell("select-unselect-all").attach(c.selectAllView)},T.prototype._initHandlers=function(){var E=this;this.config.helpMessage&&(this._helper=new t.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(M){M.preventDefault(),M.stopPropagation(),E._helper.show(M.target,{mode:E.config.labelPosition==="left"?"bottom":"right"})},selectAll:function(){E._state.unselectActive?(E.list.selection.remove(),E.config.selectAllButton&&(E._layout.getCell("select-unselect-all").attach(c.selectAllView),E._state.unselectActive=!1)):(E.data.filter(),E.list.selection.add(),E.config.selectAllButton&&(E._layout.getCell("select-unselect-all").attach(c.unselectAllView),E._state.unselectActive=!0)),E._changePopupPosition(),E.paint()},onkeydown:function(M){M.key==="Tab"&&E.popup.isVisible()?E._hideOptions():(E.popup.isVisible()||M.which!==s.KEY_CODES.DOWN_ARROW||E._showOptions(),E.popup.isVisible()&&M.which===s.KEY_CODES.RIGHT_ARROW&&E.config.readOnly&&!E.config.multiselection&&(E.list.moveFocus(d.MOVE_DOWN),M.preventDefault()),E.popup.isVisible()&&M.which===s.KEY_CODES.LEFT_ARROW&&E.config.readOnly&&!E.config.multiselection&&(E.list.moveFocus(d.MOVE_UP),M.preventDefault()),E.popup.isVisible()&&M.which===s.KEY_CODES.DOWN_ARROW&&(E.list.moveFocus(d.MOVE_DOWN),M.preventDefault()),E.popup.isVisible()&&M.which===s.KEY_CODES.UP_ARROW&&(E.list.moveFocus(d.MOVE_UP),M.preventDefault()),E.popup.isVisible()&&M.which===s.KEY_CODES.ESC&&E._hideOptions(),E.popup.isVisible()&&M.which===s.KEY_CODES.ENTER&&(E.setValue(E.list.getFocus()),E.config.multiselection||E._hideOptions())),E.events.fire(v.ComboboxEvents.keydown,[M,E.popup.isVisible()&&E.list.getFocus()])},onkeyup:function(M){if(E.config.multiselection&&!E.config.itemsCount){if(E._state.ignoreNext)E._state.ignoreNext=!1;else if(M.which===s.KEY_CODES.BACKSPACE&&!E._state.value&&E.config.multiselection&&E.list.selection.getId().length){var O=E.list.selection.getId(),I=O[O.length-1];E.list.selection.remove(I),E._changePopupPosition(),E.paint()}}},oninput:function(M){if(!E.config.disabled){var O=M.target.value;E.events.fire(v.ComboboxEvents.input,[O]),E._state.value=O,E._filter(),O.length?E._state.canDelete=!1:(E._state.ignoreNext=!0,E._state.canDelete=!0),E.config.multiselection||(E.list.selection.remove(),E.paint()),E.popup.isVisible()||E._showOptions(),E._updatePopup()}},oninputclick:function(M){if(!E.config.disabled){if(E.focus(),M.target.classList.contains("dhx_combobox__action-remove")){var O=(0,h.locate)(M);return O?(E.list.selection.remove(O),E._changePopupPosition(),void E.paint()):void 0}if(M.target.classList.contains("dhx_combobox__action-clear-all"))return E.list.selection.getId().forEach(function(I){return E.list.selection.remove(I)}),E.config.selectAllButton&&E._state.unselectActive&&(E._layout.getCell("select-unselect-all").attach(c.selectAllView),E._state.unselectActive=!1),void E.paint();M.preventDefault(),E.popup.isVisible()?E.focus():E._showOptions()}},toggleIcon:function(){E.focus(),E.popup.isVisible()?E._hideOptions():E._showOptions()},onfocus:function(){var M;return(M=E.events)===null||M===void 0?void 0:M.fire(v.ComboboxEvents.focus,[])},onblur:function(){var M;return(M=E.events)===null||M===void 0?void 0:M.fire(v.ComboboxEvents.blur,[])}}},T.prototype._initEvents=function(){var E=this;this.data.events.on(l.DataEvents.load,function(){E.config.value&&E._setValue(E.config.value,!0)}),this.list.events.on(d.ListEvents.click,function(){E.config.multiselection||E._hideOptions(),E._changePopupPosition()}),this.list.selection.events.on(r.SelectionEvents.afterSelect,function(){var M=E.getValue(E.config.multiselection);E.events.fire(v.ComboboxEvents.change,[M]),E._updateSelectedItem(M)}),this.list.selection.events.on(r.SelectionEvents.afterUnSelect,function(){var M=E.config.multiselection;if(!E.config.readOnly||M){var O=E.getValue(M);E.events.fire(v.ComboboxEvents.change,[O]),M&&E._updateSelectedItem(O)}}),this.popup.events.on(t.PopupEvents.beforeShow,function(){if(!E.popup.isVisible()&&!E._isPopupConfiqureted)return E._configurePopup(),!1}),this.config.readOnly&&this.popup.events.on(t.PopupEvents.afterShow,function(){if(E._state.value){var M=E.list.selection.getId();E.list.setFocus(M)}else E.list.setFocus(E.data.getId(0));E._keyListener.startNewListen(function(O){return E._findBest(O)})})},T.prototype._showOptions=function(){this.events.fire(v.ComboboxEvents.beforeOpen)&&(this._state.value.length&&(this._state.canDelete=!0),this._filter(),this._configurePopup()&&(this.events.fire(v.ComboboxEvents.open),this.events.fire(v.ComboboxEvents.afterOpen)))},T.prototype._configurePopup=function(){this._isPopupConfiqureted=!0;var E=this.getRootView();return!!(E&&E.refs&&E.refs.holder)&&(this.popup.isVisible()||this._updatePopup(),!0)},T.prototype._hideOptions=function(){var E=this;this.events.fire(v.ComboboxEvents.beforeClose)&&(this.config.readOnly&&this._keyListener.endListen(),this.list.setFocus(this.data.getId(0)),this.config.multiselection||this.config.readOnly||this.list.selection.contains()||(this._state.value=""),(0,e.awaitRedraw)().then(function(){return E.popup.isVisible()&&E.popup.hide()}),this.events.fire(v.ComboboxEvents.afterClose),this.events.fire(v.ComboboxEvents.close),this._filter(),this.paint())},T.prototype._filter=function(){var E=this;if(!this.config.readOnly){if(this.data.filter(function(O){return E.config.filter?E.config.filter(O,E._state.value):(0,i.isEqualString)(E._state.value,E._getItemText(O))}),this.config.multiselection)this.list.setFocus(this.data.getId(0));else{var M=this.data.getIndex(this.list.selection.getId());this.list.setFocus(this.data.getId(M>-1?M:0))}this.data.getLength()===0?(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").hide(),this._layout.getCell("list").hide(),this._layout.getCell("not-found").attach(c.emptyListView),this._layout.getCell("not-found").show()):(this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").show(),this._layout.getCell("not-found").isVisible()&&(this._layout.getCell("list").show(),this._layout.getCell("not-found").hide()))}},T.prototype._findBest=function(E){var M=this,O=this.data.find(function(I){return(0,i.isEqualString)(E,M._getItemText(I))});O&&this.list.selection.getId()!==O.id&&(this.list.setFocus(O.id),this.paint())},T.prototype._exsistId=function(E){var M=this;return E instanceof Array?E.every(function(O){return M.data.exists(O)}):this.data.exists(E)},T.prototype._draw=function(){if(!this.config)return(0,e.el)("div");var E=this.config,M=E.multiselection,O=E.labelPosition,I=E.hiddenLabel,D=E.required,A=E.disabled,F=E.css,U=E.helpMessage,j=E.readOnly,$=E.placeholder,q=M?null:this.data.getItem(this.list.selection.getId()),X=!this.list.selection.getId()||typeof this.list.selection.getId()=="object"&&this.list.selection.getId().length===0,Q=(0,h.getLabelStyle)(this.config);return(0,e.el)("div",{dhx_widget_id:this._uid,onkeydown:this._handlers.onkeydown,onkeyup:this._handlers.onkeyup,class:"dhx_widget dhx_combobox"+(O==="left"?" dhx_combobox--label-inline":"")+(I?" dhx_combobox--sr_only":"")+(D?" dhx_combobox--required":"")+(A?" dhx_combobox--disabled":"")+(F?" ".concat(F):"")},[Q?(0,e.el)("label.dhx_label.dhx_combobox__label",{style:Q.style,class:U?"dhx_label--with-help":"",onclick:this._handlers.oninputclick},U?[(Q.label||D)&&(0,e.el)("span.dhx_label__holder",Q.label),(0,e.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,id:"dhx_label__help_".concat(this._uid)})]:Q.label):null,(0,e.el)("div.dhx_combobox-input-box"+(A?".dhx_combobox-input-box--disabled":"")+(j?".dhx_combobox-input-box--readonly":"")+(this._state.currentState===v.ComboState.error?".dhx_combobox-input-box--state_error":"")+(this._state.currentState===v.ComboState.success?".dhx_combobox-input-box--state_success":""),{_ref:"holder"},[(0,e.el)("div.dhx_combobox-input__icon",{onclick:this._handlers.toggleIcon},[(0,e.el)("span"+(this.popup.isVisible()?".dxi.dxi-menu-up":".dxi.dxi-menu-down"))]),(0,e.el)("div.dhx_combobox-input-list-wrapper",{onclick:this._handlers.oninputclick},[(0,e.el)("ul.dhx_combobox-input-list",p(p([],this._drawSelectedItems(),!0),[(0,e.el)("li.dhx_combobox-input-list__item.dhx_combobox-input-list__item--input",[(0,e.el)("input.dhx_combobox-input",{oninput:this._handlers.oninput,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_ref:"input",_key:this._uid,type:"text",placeHolder:X&&$?$:void 0,value:j&&q?this._getItemText(q):this._state.value,readOnly:j||A,required:D,"aria-label":j?"Select value":"Type or select value","aria-describedby":U?"dhx_label__help_".concat(this._uid):null,"aria-expanded":!0})])],!1))])])])},T.prototype._drawSelectedItems=function(){var E=this;if(!this.config.multiselection)return[];if(this.config.itemsCount){var M=this.list.selection.getId().length;return M?[(0,e.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",[(0,e.el)("span.dhx_combobox-tag__value",x(M,this.config.itemsCount)),(0,e.el)("button.dhx_button.dhx_combobox-tag__action.dhx_combobox__action-clear-all",{"aria-label":"clear all"},[(0,e.el)("span.dhx_button__icon.dxi.dxi-close-circle")])])]:[]}return this.list.selection.getId().map(function(O){var I=E.data.getItem(O);return I?(0,e.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",{dhx_id:O},[E._drawImageOrIcon(I),(0,e.el)("span.dhx_combobox-tag__value",E._getItemText(I)),(0,e.el)("button.dhx_button.dhx_button--icon.dhx_combobox-tag__action.dhx_combobox__action-remove",{type:"button","aria-label":"remove"},[(0,e.el)("span.dhx_button__icon.dxi.dxi-close-circle")])]):null})},T.prototype._drawImageOrIcon=function(E){return E.src?(0,e.el)("img.dhx_combobox-tag__image",{src:E.src,alt:""}):E.icon?(0,e.el)("span.dhx_combobox-tag__icon",{class:E.icon}):null},T.prototype._getItemText=function(E){return E?E.value:null},T.prototype._updateSelectedItem=function(E){var M;this.config.multiselection?(this.config.selectAllButton&&!this._state.unselectActive&&this.data.getLength()===E.length?(this._layout.getCell("select-unselect-all").attach(c.unselectAllView),this._state.unselectActive=!0):this.config.selectAllButton&&this._state.unselectActive&&(this._layout.getCell("select-unselect-all").attach(c.selectAllView),this._state.unselectActive=!1),this._state.value&&(this._state.value="",this._state.canDelete=E.length===0,this._filter())):this._state.value=(M=this._getItemText(this.data.getItem(E)))!==null&&M!==void 0?M:"",this.paint()},T.prototype._changePopupPosition=function(){var E=this;this.config.multiselection&&(0,e.awaitRedraw)().then(function(){E._updatePopup()})},T.prototype._updatePopup=function(){var E=this.getRootView().refs.holder.el;this.popup.getContainer().style.width=E.offsetWidth+"px";var M=this.data.getLength()*(this.config.itemHeight||36);typeof this.config.listHeight=="string"&&this.config.listHeight.includes("px")&&(this.config.listHeight=parseInt(this.config.listHeight.replace("px","")));var O=M<this.config.listHeight?M:this.config.listHeight;this.popup.getContainer().style.height=(this.config.selectAllButton&&this.config.multiselection?O+33:O)+"px",this.popup.show(E,{mode:"bottom"})},T}(f.View);n.Combobox=k},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(62),n),b(y(128),n),b(y(63),n),b(y(36),n)},function(P,n,y){var m,b=this&&this.__extends||(m=function(r,c){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(v[w]=x[w])},m(r,c)},function(r,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function v(){this.constructor=r}m(r,c),r.prototype=c===null?Object.create(c):(v.prototype=c.prototype,new v)}),p=this&&this.__assign||function(){return p=Object.assign||function(r){for(var c,v=1,x=arguments.length;v<x;v++)for(var w in c=arguments[v])Object.prototype.hasOwnProperty.call(c,w)&&(r[w]=c[w]);return r},p.apply(this,arguments)},i=this&&this.__spreadArray||function(r,c,v){if(v||arguments.length===2)for(var x,w=0,k=c.length;w<k;w++)!x&&w in c||(x||(x=Array.prototype.slice.call(c,0,w)),x[w]=c[w]);return r.concat(x||Array.prototype.slice.call(c))};Object.defineProperty(n,"__esModule",{value:!0}),n.List=n.MOVE_DOWN=n.MOVE_UP=void 0;var e=y(1),o=y(7),h=y(0),s=y(18),f=y(27),l=y(6),g=y(63),d=y(2),t=y(36),a=y(126);n.MOVE_UP=1,n.MOVE_DOWN=2;var u=function(r){function c(v,x){x===void 0&&(x={});var w=this,k=x.itemHeight||(x.virtual?37:null);k&&typeof k=="number"&&(k=k.toString()+"px"),(w=r.call(this,v,(0,e.extend)({itemHeight:k,keyNavigation:!0,editable:!1,selection:!0},x))||this)._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null};var S=w.config.data;S instanceof o.DataCollection?(w.data=S,w.events=S.events):(w.data=new o.DataCollection({}),w.events=w.data.events,S&&w.data.parse(S)),w.selection=new g.Selection({disabled:!w.config.selection,multiselection:w.config.multiselection},w.data,w.events),w.config.keyNavigation&&(w.keyManager=new s.KeyManager(function(j,$){return $==w._uid&&(!w._edited||w._edited&&j.key!=="escape")}),w._initHotKey()),w.events.on(o.DataEvents.change,function(j,$,q){$==="setPage"&&w.showItem(w.data.getId(q[0])),w.paint()}),w.events.on(f.SelectionEvents.afterUnSelect,function(){return w.paint()}),w.events.on(f.SelectionEvents.afterSelect,function(j){j&&w.config.selection&&(w._focus=j),w.paint()}),w.events.on(t.ListEvents.afterEditEnd,w.editEnd.bind(w));var T=function(j){return function($){w.data.setMeta(w.data.getItem($.target),"drop",j),w.paint()}};w.events.on(o.DragEvents.canDrop,T(!0)),w.events.on(o.DragEvents.cancelDrop,T(!1));var E=function(j){return function($){$.source.map(function(q){return w.data.setMeta(w.data.getItem(q),"drag",j)}),w.paint()}};w.events.on(o.DragEvents.dragStart,E(!0)),w.events.on(o.DragEvents.afterDrag,E(!1)),w._handlers={onmousedown:function(j){w._dragStart(j)},ontouchstart:function(j){w._touch.timer=setTimeout(function(){w._dragStart(j)},w._touch.duration),w._touch.timeStamp?(w._touch.dblDuration>=w._touch.timeStamp-+j.timeStamp.toFixed()&&(j.preventDefault(),w._dblClick(j)),w._touch.timeStamp=null):w._touch.timeStamp=+j.timeStamp.toFixed(),setTimeout(function(){w._touch.timeStamp=null},w._touch.dblDuration)},ontouchmove:function(j){w._touch.start&&j.preventDefault(),w._clearTouchTimer()},ontouchend:function(){w._touch.start=!1,w._clearTouchTimer()},ondragstart:function(){return!(w.config.dragMode&&!w._edited)&&null},oncontextmenu:function(j){var $=(0,d.locate)(j);$&&w.events.fire(t.ListEvents.itemRightClick,[$,j])},onclick:function(j){var $=(0,d.locate)(j);$&&(w.selection.add($,j.ctrlKey||j.metaKey,j.shiftKey),w._focus=$,w.events.fire(t.ListEvents.click,[$,j]),w.paint())},ondblclick:function(j){w._dblClick(j)},onscroll:function(j){w.config.virtual&&(w._topOffset=j.target.scrollTop,w._visibleHeight=j.target.offsetHeight,w.paint())},onmouseover:function(j){var $=(0,d.locate)(j);$&&$!==(0,d.locate)(j.relatedTarget)&&w.events.fire(t.ListEvents.itemMouseOver,[$,j])}};var M=w.config.eventHandlers;if(M)for(var O=0,I=Object.entries(M);O<I.length;O++){var D=I[O],A=D[0],F=D[1];w._handlers[A]=(0,d.eventHandler)(function(j){return(0,d.locate)(j)},F,w._handlers[A])}w.config.dragMode&&o.dragManager.setItem(w._uid,w),w._topOffset=w._visibleHeight=0;var U=(0,h.create)({render:function(){return w._renderList()},hooks:{didMount:function(j){w.config.virtual&&(w._visibleHeight=j.node.el.offsetHeight)},didRedraw:function(j){return w._didRedraw(j)}}});return w.mount(v,U),w}return b(c,r),c.prototype._didRedraw=function(v){},c.prototype._dblClick=function(v){var x=(0,d.locate)(v);x&&(x=this.data.getItem(x).id,this.config.editable&&this.editItem(x),this.events.fire(t.ListEvents.doubleClick,[x,v]))},c.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},c.prototype._dragStart=function(v){var x=this;this._touch.start=!0;var w=[],k=(0,d.locateNode)(v,"dhx_id"),S=k&&k.getAttribute("dhx_id"),T=this.selection.getId();return this.config.multiselection&&T instanceof Array&&(T.map(function(E){E!==S&&x.getRootView().refs[E]&&w.push(x.getRootView().refs[E].el)}),T=i([],T,!0)),typeof T=="string"&&(T=[T]),this.config.dragMode&&!this._edited?o.dragManager.onMouseDown(v,T||[S],w):null},c.prototype.disableSelection=function(){this.selection.disable()},c.prototype.enableSelection=function(){this.selection.enable()},c.prototype.editItem=function(v){this._edited=v,this.data.getItem(this._edited)&&this.events.fire(t.ListEvents.beforeEditStart,[v])?(this._getHotkeys(),this.paint(),this.events.fire(t.ListEvents.afterEditStart,[v])):this._edited=null},c.prototype.editEnd=function(v,x){if(this._edited){if(v!==null){var w=this.data.getItem(x);this.data.update(x,p(p({},w),{value:v}))}this._edited=null,this.paint()}},c.prototype.getFocusItem=function(){return this.data.getItem(this._focus)},c.prototype.setFocus=function(v){this._focus!=v&&this.data.exists(v)&&(this._focus=v,this.showItem(v),this.events.fire(t.ListEvents.focusChange,[this.data.getIndex(this._focus),this._focus]),this.paint())},c.prototype.getFocus=function(){return this._focus},c.prototype.destructor=function(){this.events&&this.events.clear(),this.keyManager&&this.keyManager.destructor(),this.selection&&this.selection.destructor(),this.config=this.events=this.selection=this.keyManager=null,this._handlers=this._focus=this._edited=this._events=this._topOffset=this._visibleHeight=this._touch=null,this.unmount()},c.prototype.showItem=function(v){var x=this.getRootView();if(x&&x.node&&x.node.el&&v!==void 0){var w=this.getRootNode();if(w){var k=this.config.virtual,S=this.data.getIndex(v),T=Math.floor(S/w.children.length)||0,E=w.children[S-w.children.length*T];if(k||E){var M=k?parseInt(this.config.itemHeight):E.clientHeight,O=k?S*M:E.offsetTop;O>=w.scrollTop+w.clientHeight-M?w.scrollTo(0,O-w.clientHeight+M):O<w.scrollTop&&w.scrollTo(0,O)}}}},c.prototype._renderItem=function(v,x){var w=this.config.itemHeight;if(v.$empty)return(0,h.el)("li",{class:"dhx_list-item",style:{height:w}});var k=this.config.template&&this.config.template(v)||v.html,S=v.id==this._focus;if(v.id==this._edited)return(0,a.getEditor)(v,this).toHTML();var T=this.data.getMetaMap(v),E=p(p(p(p({},this._events),{class:"dhx_list-item"+(T&&T.selected?" dhx_list-item--selected":"")+(S?" dhx_list-item--focus":"")+(T&&T.drop&&!this._edited?" dhx_list-item--drophere":"")+(T&&T.drag&&!this._edited?" dhx_list-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_list-item--drag":"")+(v.css?" "+v.css:""),dhx_id:v.id,_ref:v.id.toString(),style:{height:w},_key:v.id,".innerHTML":k}),this.getItemAriaAttrs(this,v)),{tabindex:S?0:-1});return k?(E[".innerHTML"]=k,(0,h.el)("li",E)):(E.class+=" dhx_list-item--text",(0,h.el)("li",E,v.text||v.value))},c.prototype._renderList=function(){var v=this,x=this._getRange(),w=this.data.getRawData(x[0],x[1]).map(function(k,S){return v._renderItem(k,S)});return this.config.virtual&&(w=i(i([(0,h.el)(".div",{style:{height:x[2]+"px"}})],w,!0),[(0,h.el)(".div",{style:{height:x[3]+"px"}})],!1)),(0,h.el)("ul.dhx_widget.dhx_list",p(p({style:{"max-height":this.config.height,position:"relative"},tabindex:0,class:(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),dhx_widget_id:this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),w)},c.prototype.moveFocus=function(v,x){var w=this.data.getLength();if(w){var k=this._focus,S=k?this.data.getIndex(k):-1;x=x||1,v===n.MOVE_DOWN?k=this.data.getId(Math.min(S+x,w-1)):v===n.MOVE_UP&&(k=this.data.getId(Math.max(S-x,0))),this.setFocus(k)}},c.prototype._getRange=function(){if(this.config.virtual){var v=this._visibleHeight||parseInt(this.config.height),x=parseInt(this.config.itemHeight),w=this.data.getLength(),k=this.data.getLength()*x,S=this._topOffset;S=Math.max(0,Math.min(S,k-v));var T=Math.floor(S/x),E=Math.min(w-T,Math.floor(v/x)+5);return this._topOffset=S,[T,E+T,T*x,k-x*(E+T)]}return[0,-1,0,0]},c.prototype._getHotkeys=function(){var v=this;return{arrowDown:function(x){v.moveFocus(n.MOVE_DOWN),x.preventDefault()},arrowUp:function(x){v.moveFocus(n.MOVE_UP),x.preventDefault()},escape:function(){v.editEnd(null)},enter:function(x){v.selection.add(v._focus),v.events.fire(t.ListEvents.click,[v._focus,x])},"shift+enter":function(x){v.selection.add(v._focus,!1,!0),v.events.fire(t.ListEvents.click,[v._focus,x])},"ctrl+enter":function(x){v.selection.add(v._focus,!0,!1),v.events.fire(t.ListEvents.click,[v._focus,x])},"ctrl+a":function(x){v.config.multiselection&&(x.preventDefault(),v.selection.remove(),v.data.map(function(w){return w.id}).forEach(function(w){v.config.multiselection==="ctrlClick"?v.selection.add(w,!0):v.selection.add(w)}))}}},c.prototype._initHotKey=function(){var v=this._getHotkeys();for(var x in v)this.keyManager.addHotKey(x,v[x]);for(var x in this.config.hotkeys)this.keyManager.addHotKey(x,this.config.hotkeys[x])},c.prototype.getItemAriaAttrs=function(v,x){return p(p({role:"option","aria-selected":x.$selected?"true":"false"},function(w,k){return w.config.dragMode&&!w._edited?{"aria-grabbed":Boolean(k.$dragtarget&&!w._edited).toString()}:{}}(v,x)),function(w){return w.config.editable?{"aria-roledescription":"".concat(w._edited?"Press Enter to stop editing":"Double click to edit content")}:{}}(v))},c.prototype._getListAriaAttrs=function(v,x){return{role:"listbox","aria-label":"Listbox ".concat(v.title||"",", count of options = ").concat(x,".").concat(v.editable?" Content is editable.":""),"aria-multiselectable":v.selection&&v.multiselection?"true":"false","aria-readonly":v.editable?"false":"true"}},c}(l.View);n.List=u},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var m=y(27),b=y(7),p=function(){function i(e,o,h){var s=this;this.config=e,this.events=h,this._data=o,this._selected=[],this._data.events.on(b.DataEvents.removeAll,function(){s._selected=[]}),typeof this.config.multiselection=="string"&&(["click","ctrlClick"].includes(this.config.multiselection)||(this.config.multiselection=!1)),this._data.events.on(b.DataEvents.beforeRemove,function(f){if(s._nextSelection=null,s._selected.length===1){var l=s._data.getIndex(f.id),g=s._data.getLength();if(g>1){var d=g==l-1?l-1:l+1;s._nextSelection=s._data.getId(d)}}}),this._data.events.on(b.DataEvents.afterRemove,function(f){var l=s._selected.indexOf(f.id);l!==-1&&s._selected.splice(l,1),s._nextSelection&&(s.add(s._nextSelection),s._nextSelection=null)})}return i.prototype.enable=function(){this.config.disabled=!1},i.prototype.disable=function(){this.remove(),this.config.disabled=!0},i.prototype.getId=function(){return this.config.multiselection?this._selected:this._selected[0]},i.prototype.getItem=function(){var e=this;return this.config.multiselection?this._selected.map(function(o){return e._data.getItem(o)}):this._selected.length?this._data.getItem(this._selected[0]):null},i.prototype.contains=function(e){return e?this._selected.includes(e):this._selected.length>0},i.prototype.remove=function(e){var o=this;e?this._unselectItem(e):(this._selected.forEach(function(h){return o._unselectItem(h)}),this._selected=[])},i.prototype.add=function(e,o,h,s){var f=this;if(!this.config.disabled)if(e!==void 0){var l=this.config.multiselection;h&&this._selected.length&&l?this._addMulti(e,s):this._addSingle(e,l&&(l!=="ctrlClick"||o),s)}else{var g=this._data.serialize().filter(function(d){var t=d.id;return!f._selected.includes(t)});g.forEach(function(d){var t=d.id;f._addMulti(t,s)})}},i.prototype.destructor=function(){var e=this;this._selected.forEach(function(o){return e._unselectItem(o,!0)})},i.prototype._addMulti=function(e,o){var h,s=this._selected[this._selected.length-1],f=this._data.getIndex(s),l=this._data.getIndex(e);for(f>l&&(f=(h=[l,f])[0],l=h[1]);f<=l;f++){var g=this._data.getId(f);this._selectItem(g,o)}},i.prototype._addSingle=function(e,o,h){var s=this;o||this._selected.forEach(function(f){f!=e&&s._unselectItem(f)}),o&&this._selected.includes(e)?this._unselectItem(e,h):this._selectItem(e,h)},i.prototype._selectItem=function(e,o){var h=this._data.getItem(e);h&&!this._data.getMeta(h,"selected")&&(o||this.events.fire(m.SelectionEvents.beforeSelect,[e]))&&(this._selected.push(e),this._data.setMeta(h,"selected",!0),o||this.events.fire(m.SelectionEvents.afterSelect,[e]))},i.prototype._unselectItem=function(e,o){(o||this.events.fire(m.SelectionEvents.beforeUnSelect,[e]))&&(this._selected=this._selected.filter(function(h){return h!==e}),this._data.setMeta(this._data.getItem(e),"selected",!1),o||this.events.fire(m.SelectionEvents.afterUnSelect,[e]))},i}();n.Selection=p},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.default={notFound:"Not Found",selectAll:"Select All",unselectAll:"Unselect All",selectedItems:"selected items"}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.emptyListView=n.unselectAllView=n.selectAllView=void 0;var m=y(0),b=y(64);n.selectAllView=function(){return(0,m.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",b.default.selectAll)},n.unselectAllView=function(){return(0,m.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",b.default.unselectAll)},n.emptyListView=function(){return(0,m.el)("ul.dhx_list",[(0,m.el)("li.dhx_list-item.dhx_combobox-options__item",{},b.default.notFound)])}},function(P,n,y){var m,b;Object.defineProperty(n,"__esModule",{value:!0}),n.ComboState=n.ComboboxEvents=void 0,function(p){p.change="change",p.focus="focus",p.blur="blur",p.keydown="keydown",p.input="input",p.beforeOpen="beforeOpen",p.afterOpen="afterOpen",p.beforeClose="beforeClose",p.afterClose="afterClose",p.open="open",p.close="close"}(m||(n.ComboboxEvents=m={})),function(p){p[p.default=0]="default",p[p.error=1]="error",p[p.success=2]="success"}(b||(n.ComboState=b={}))},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(t){for(var a,u=1,r=arguments.length;u<r;u++)for(var c in a=arguments[u])Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c]);return t},m.apply(this,arguments)},b=this&&this.__spreadArray||function(t,a,u){if(u||arguments.length===2)for(var r,c=0,v=a.length;c<v;c++)!r&&c in a||(r||(r=Array.prototype.slice.call(a,0,c)),r[c]=a[c]);return t.concat(r||Array.prototype.slice.call(a))};Object.defineProperty(n,"__esModule",{value:!0}),n.getFixedRows=n.getFixedSpans=n.getRows=void 0;var p=y(0),i=y(26),e=y(8),o=y(3),h=2;function s(t,a,u,r){u&&(u.toLocaleLowerCase().includes("touch")?a._events.fire(u,[t,r]):a.events.fire(u,[t,r]))}function f(t,a,u){return{onclick:[s,t,u,o.GridEvents[a+"CellClick"]],onmouseover:[s,t,u,o.GridEvents[a+"CellMouseOver"]],onmousedown:[s,t,u,o.GridEvents[a+"CellMouseDown"]],ontouchstart:[s,t,u,o.GridEvents[a+"CellMouseDown"]],ondblclick:[s,t,u,o.GridEvents[a+"CellDblClick"]],oncontextmenu:[s,t,u,o.GridEvents[a+"CellRightClick"]],ontouchmove:[s,t,u,o.GridSystemEvents[a+"CellTouchMove"]],ontouchend:[s,t,u,o.GridSystemEvents[a+"CelltouchEnd"]]}}function l(t,a,u,r,c,v,x){c===void 0&&(c="");var w=a.type?"dhx_".concat(a.type,"-cell"):"dhx_string-cell",k=u.content[t.content]&&u.content[t.content].toHtml(a,u),S={};return u.columns.forEach(function(T){var E=!!u.content[T[r][x].content];S[T.id]=E&&u.content[T[r][x].content].toHtml(T,u)||T[r][x].text}),(0,p.el)(".".concat(w),{style:{class:c.trim(),padding:0}},[k&&(typeof k=="string"||typeof k=="number"?(0,p.el)("div",{class:"dhx_grid-footer-cell-text",role:"presentation",".innerHTML":a.template&&typeof k=="string"?a.template(k,S,a):k}):k)])}function g(t,a){if(!t.data||!t.columns)return[];var u=t.$positions,r=a.name,c=t.currentColumns,v=t["".concat(r,"RowHeight")]||40,x=function(w,k){var S=w.map(function(T){return T[k]||[{}]});return(0,e.transpose)(S)}(c,r);return x.map(function(w,k){return(0,p.el)(".dhx_".concat(r,"-row"),m({style:{height:v}},{role:"row","aria-rowindex":k+1}),w.map(function(S,T){var E=S.css||"",M=c[T],O=u.xStart+T+1,I="dxi dxi-sort-variant dhx_grid-sort-icon",D="none";if(t.sortBy&&"".concat(M.id)===t.sortBy&&!S.content){var A=t.sortDir||"asc";I+=" dhx_grid-sort-icon--".concat(A),E+=" dhx_grid-".concat(r,"-cell--sorted "),D=A==="asc"?"ascending":"descending"}var F=(0,e.isSortable)(t,M)&&S.text&&r!=="footer"&&S.headerSort!==!1;F&&(E+=" dhx_grid-header-cell--sortable");var U=T===0?"dhx_first-column-cell":"",j=T===c.length-1?"dhx_last-column-cell":"";S.content||(S.align?E+=" dhx_grid-header-cell--align_".concat(S.align," "):E+=" dhx_grid-header-cell--".concat(M.type==="number"||M.type==="percent"||M.type==="date"?"align_right":"align_left"," ")),E+="".concat(U," ").concat(j);var $=M.resizable!==void 0?M.resizable:t.resizable;$&&($=(0,p.el)("div",{class:"dhx_resizer_grip_wrap","aria-hidden":"true"},[(0,p.el)("div",{class:"dhx_resizer_grip",dhx_resized:M.id,style:{height:"".concat(100*x.length,"%")}},[(0,p.el)("div",{class:"dhx_resizer_grip_line"})])]),(r==="footer"||k>0)&&($=null)),S.align&&(E+=" dhx_align-".concat(S.align));var q=function(ft,st,at){var dt={"aria-colindex":st};return ft==="footer"||S.content?dt.role="gridcell":(dt.role="columnheader",dt["aria-sort"]=at),dt};if(S.content)return(0,p.el)(".dhx_grid-".concat(r,"-cell.dhx_grid-custom-content-cell"),m(m({class:E.trim(),dhx_id:M.id,_key:T,style:{width:M.$width,height:r==="footer"?v+h/2+"px":v+"px"}},f(M,r,t)),q(r,O,D)),[l(S,M,t,r,"",0,k),$||null]);var X,Q="dhx_grid-header-cell-text_content";return t.autoHeight&&(Q+=" dhx_grid-header-cell-text_content-auto-height"),(0,p.el)(".dhx_grid-".concat(r,"-cell"),m(m({class:E.trim(),dhx_id:M.id,_key:T,style:{width:M.$width,height:r==="footer"?v+h/2+"px":v+"px"}},f(M,r,t)),q(r,O,D)),[(0,p.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[(0,p.el)("span",m(m({class:Q},(X=S.text,F?{role:"button","aria-label":"Sort by ".concat(X)}:{})),{style:{lineHeight:"".concat(v,"px")},".innerHTML":S.text})),$||null]),F&&(0,p.el)("div",{class:I,"aria-hidden":"true"})])}))})}function d(t,a){var u=t.columns,r=(0,e.transpose)(u.map(function(k){return k[a.name]||[]})),c=t["".concat(a.name,"RowHeight")]||40,v=a.name,x=t.$positions,w=0;return r.map(function(k,S){return w=0,(0,p.el)(".dhx_span-row",{style:{top:c*S+"px",height:c},class:"dhx_header-row","aria-hidden":"true"},k.map(function(T,E){var M=u[E];x.xStart,w+=M.hidden?0:M.$width;var O=E===0?"dhx_first-column-cell":"",I=E===u.length-1||(T.colspan||0)+(E-1)>=u.length-1?"dhx_last-column-cell":"",D=c;T.rowspan&&(D=D*T.rowspan-1);var A=(0,e.isSortable)(t,M)&&T.rowspan&&T.text&&a.name!=="footer",F="dxi dxi-sort-variant dhx_grid-sort-icon";t.sortBy&&"".concat(M.id)===t.sortBy&&!T.content&&(F+=" dhx_grid-sort-icon--".concat(t.sortDir||"asc"));var U=M.align?"dhx_align-".concat(M.align):M.type!=="number"&&M.type!=="percent"&&M.type!=="date"||T.colspan?"dhx_align-left":"dhx_align-right",j="dhx_grid-header-cell ".concat(O," ").concat(I," ").concat(T.rowspan?"dhx_span-cell__rowspan":""," ").concat(T.align?"dhx_align-".concat(T.align):U," ").concat(T.css?T.css:"");A&&(j+=" dhx_grid-header-cell--sortable"),T.content||(T.align?j+=" dhx_grid-header-cell--align_".concat(T.align," "):j+=" dhx_grid-header-cell--".concat(M.type==="number"||M.type==="percent"||M.type==="date"?"align_right":"align_left"," "));var $=null;T.content&&(($=l(T,M,t,v,j,0,S)).attrs.style=m(m({},$.attrs.style),{width:"100%",borderRight:"0"}));var q="";w-M.$width>0&&(q="1px solid #e4e4e4");var X="dhx_grid-header-cell-text_content";return t.autoHeight&&(X+=" dhx_grid-header-cell-text_content-auto-height"),T.colspan||T.rowspan?(0,p.el)(".dhx_span-cell",m({style:{width:(0,i.getWidth)(u,T.colspan,E),height:v==="footer"?D+h/2:D,left:w-M.$width,borderLeft:q,top:c*S},class:j.trim(),dhx_id:M.id},f(M,v,t)),[$||T.rowspan?(0,p.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[(0,p.el)("span",{class:X,".innerHTML":T.text})]):(0,p.el)("span",{class:X,".innerHTML":T.text}),A&&(0,p.el)("div",{class:F})]):null}).filter(function(T){return T}))})}n.getRows=g,n.getFixedSpans=d,n.getFixedRows=function(t,a){var u,r=g(t,a),c=d(t,a),v=null;a.name!=="footer"||a.sticky||(v=t.leftSplit>=0&&g(m(m({},t),{currentColumns:t.columns.slice(0,t.leftSplit),$positions:m(m({},t.$positions),{xStart:0,xEnd:t.leftSplit})}),a));var x,w,k=((u={position:"sticky"})[a.position]=0,u);return a.sticky||(k.left=-t.scroll.left,x=-t.scroll.left,k.position="relative"),(0,p.el)(".dhx_".concat(a.name,"-wrapper"),{class:a.sticky?"":"dhx_compatible-".concat(a.name),style:m(m({},k),{left:a.sticky?x:0,height:a.name==="footer"?t[a.name+"Height"]+h/2:t[a.name+"Height"],width:a.sticky?t.$totalWidth:a.wrapper.width-h}),role:"presentation"},[(0,p.el)(".dhx_grid-".concat(a.name),{style:{height:a.name==="footer"?t[a.name+"Height"]+h/2:t[a.name+"Height"],left:x,paddingLeft:a.shifts.x,width:t.$totalWidth},role:"presentation"},[(0,p.el)(".dhx_".concat(a.name,"-rows"),m({},(w=b([],r,!0).length,{role:"rowgroup","aria-rowcount":w})),b([],r,!0)),(0,p.el)(".dhx_".concat(a.name,"-spans"),{style:{marginLeft:-a.shifts.x},class:"dhx_".concat(a.name,"-rows"),role:"presentation"},c),v&&(0,p.el)(".dhx_".concat(a.name,"-fixed-cols"),{style:{position:"absolute",top:0,left:t.scroll.left+"px",height:"100%"}},v)]),(0,p.el)("div",{style:{width:t.$totalWidth},role:"presentation"})])}},function(P,n,y){var m,b=this&&this.__extends||(m=function(l,g){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,t){d.__proto__=t}||function(d,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(d[a]=t[a])},m(l,g)},function(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function d(){this.constructor=l}m(l,g),l.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}),p=this&&this.__assign||function(){return p=Object.assign||function(l){for(var g,d=1,t=arguments.length;d<t;d++)for(var a in g=arguments[d])Object.prototype.hasOwnProperty.call(g,a)&&(l[a]=g[a]);return l},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Toolbar=void 0;var i=y(1),e=y(0),o=y(2),h=y(17),s=y(48),f=function(l){function g(d,t){var a=l.call(this,d,(0,i.extend)({navigationType:"click"},t))||this;return a._currentRoot=null,a.mount(d,(0,e.create)({render:function(){return a._draw(d)}})),a}return b(g,l),g.prototype.getState=function(d){if(!(0,i.isDefined)(d)||this.data.getItem(d)){var t={};for(var a in this.data.eachChild(this.data.getRoot(),function(u){u.twoState&&!u.group?t[u.id]=u.active:u.type!=="input"&&u.type!=="selectButton"||(t[u.id]=u.value)},!1),this._groups)this._groups[a].active&&(t[a]=this._groups[a].active);return d?t[d]:t}},g.prototype.setState=function(d){for(var t in d)if(this._groups&&this._groups[t])this._groups[t].active&&(this.data.update(this._groups[t].active,{active:!1}),this._groups[t].active=d[t],this.data.update(d[t],{active:!0}));else{var a=this.data.getItem(t);a.type==="input"||a.type==="selectButton"?this.data.update(t,{value:d[t]}):this.data.update(t,{active:d[t]})}},g.prototype._customHandlers=function(){var d=this;return{input:function(t){var a=(0,o.locate)(t);d.data.update(a,{value:t.target.value})},tooltip:function(t){var a=(0,o.locateNode)(t);if(a){var u=a.getAttribute("dhx_id"),r=d.data.getItem(u);r.tooltip&&(0,h.tooltip)(r.tooltip,{node:a,position:h.Position.bottom})}}}},g.prototype._getFactory=function(){return(0,s.createFactory)({widget:this,defaultType:"navItem",allowedTypes:["button","imageButton","selectButton","navItem","menuItem","separator","spacer","title","input","customHTML","datePicker","customHTMLButton"],widgetName:"toolbar"})},g.prototype._draw=function(d){var t=this,a=this.data.getLength()?this.data.reduce(function(u,r){switch(r.type){case"title":return u||20;case"button":return r.size==="small"&&(!u||u<=28)?28:u||32;default:return 32}},0)+24:null;return(0,e.el)("nav.dhx_widget.dhx_toolbar",{style:{height:a},class:this.config.css?this.config.css:""},[(0,e.el)("ul.dhx_navbar.dhx_navbar--horizontal",p(p({dhx_widget_id:this._uid,tabindex:0},function(u){return{role:"toolbar","aria-label":u||""}}(d)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(u){u.el.addEventListener("keyup",function(r){if(r.which===9){var c=(0,o.locateNode)(document.activeElement);if(c){var v=c.getAttribute("dhx_id"),x=t.data.getItem(v);x.tooltip&&(0,h.tooltip)(x.tooltip,{node:c,position:h.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(u){return t._factory(u)},this.data.getRoot(),!1))])},g.prototype._getMode=function(d,t){return d.id===t?"bottom":"right"},g.prototype._close=function(d){this._activePosition=null,this._currentRoot=null,l.prototype._close.call(this,d)},g.prototype._setRoot=function(d){this.data.getParent(d)===this.data.getRoot()&&(this._currentRoot=d)},g}(s.Navbar);n.Toolbar=f},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.Block=n.SplitResult=void 0;var m,b=y(11),p=y(9),i=y(37);(function(o){o[o.invalidNode=0]="invalidNode",o[o.offsetStart=1]="offsetStart",o[o.offsetEnd=2]="offsetEnd",o[o.complete=3]="complete"})(m||(n.SplitResult=m={}));var e=function(){function o(h,s){this.style=s||b.emptyStyle,h&&h.length!==0?this.textNodes=h:this.clear()}return o.prototype.clear=function(){this.textNodes=[new i.TextNode("",b.emptyStyle)]},o.prototype.isEmpty=function(){return this.textNodes.length===1&&this.textNodes[0].isEmpty()},o.prototype.splitTextNode=function(h,s){var f=this.textNodes[h];if(!f)return m.invalidNode;if(s===0)return m.offsetStart;if(s>=f.text.length)return m.offsetEnd;var l=f.text.slice(0,s),g=f.text.slice(s),d=new i.TextNode(g,f.style);return f.text=l,this.textNodes.splice(h+1,0,d),m.complete},o.prototype.removeNodes=function(h,s){return s?h===0||(this.textNodes=this.textNodes.slice(0,h),!1):h===this.textNodes.length-1||(this.textNodes=this.textNodes.slice(h+1),!1)},o.prototype.offsetToNodePosition=function(h){if(h===0)return{textIndex:0,offset:0};for(var s=this.textNodes,f=0;f<s.length;f++){var l=s[f].text.length;if(h<=l)return{textIndex:f,offset:h};h-=l}},o.prototype.nodePositionToOffset=function(h,s){for(var f=0;f<h;f++)s+=this.textNodes[f].text.length;return s},o.prototype.getBlockEnd=function(){return{textIndex:this.textNodes.length-1,offset:this.textNodes[this.textNodes.length-1].text.length}},o.prototype.balance=function(){for(var h=this.textNodes,s=h.length,f=1;f<h.length;)(0,p.isEqual)(h[f-1].style,h[f].style)?(h[f-1].text+=h[f].text,h.splice(f,1)):f++;return s!==h.length},o}();n.Block=e},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.serializer=void 0;var m=y(4);function b(s){var f=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return f?"rgb(".concat(parseInt(f[1],16),", ").concat(parseInt(f[2],16),", ").concat(parseInt(f[3],16),")"):s}function p(s,f){f===void 0&&(f=!1);var l="";for(var g in s)switch(g){case m.Modifier.background:l+="background: ".concat(b(s[g]),";");break;case m.Modifier.color:l+="color: ".concat(b(s[g]),";");break;case m.Modifier.fontFamily:l+="font-family: ".concat(s[g],";");break;case m.Modifier.fontSize:l+="font-size: ".concat(s[g],";")}return f?l:l?' style="'.concat(l,'"'):""}function i(s,f,l){return s.length===0&&l.trim()===""&&s.push("span"),s.reduce(function(g,d,t){return g+(t===0?"<".concat(d).concat(f,">"):"<".concat(d,">"))},"")+l+s.reduceRight(function(g,d){return g+"</".concat(d,">")},"")}function e(s){return s.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/[ ]{2,}/g,function(f){return" "+function(l,g){for(var d="";g--;)d+=l;return d}("&nbsp;",f.length-1)})}function o(s,f){f===void 0&&(f=!1);var l=s.style,g=s.text,d=[];if(l[m.Modifier.underline]&&d.push("u"),l[m.Modifier.strike]&&d.push("s"),l[m.Modifier.bold]&&d.push("strong"),l[m.Modifier.italic]&&d.push("i"),f)return{tags:d,inline:p(l,!0),text:e(g)};var t=p(l);return t&&d.length===0&&d.push("span"),i(d,t,e(g))}function h(s){var f="",l=s.style,g=s.textNodes,d=[];s.style[m.Modifier.blockquote]&&d.push("blockquote"),d.push(l[m.Modifier.style]||"p");var t=l[m.Modifier.align]?"text-align: ".concat(l[m.Modifier.align],";"):"";if(g.length===1&&!g[0].style[m.Modifier.link]){var a=o(g[0],!0);d.push.apply(d,a.tags);var u=a.inline;return(u||t)&&(f=' style="'.concat(u).concat(t,'"')),i(d,f,a.text)}return t&&(f=' style="'.concat(t,'"')),i(d,f,function(r){for(var c,v="",x="",w="",k=0,S=r;k<S.length;k++){var T=S[k];T.style.link?c===T.style.link?(x+=o(T),w+=T.text.replace(/"/g,"'")):(x=o(T),w=T.text.replace(/"/g,"'")):(c&&(v+=i(["a"],' href="'.concat(c,'" title="').concat(w,'"'),x)),v+=o(T)),c=T.style.link}return c&&(v+=i(["a"],' href="'.concat(c,'" title="').concat(w,'"'),x)),v}(g))}n.serializer=function(s){return s.reduce(function(f,l){return f+h(l)},"")}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.cssManager=n.CssManager=void 0;var m=y(1),b=function(){function p(){this._classes={};var i=document.createElement("style");i.id="dhx_generated_styles",this._styleCont=document.head.appendChild(i)}return p.prototype.update=function(){this._styleCont.innerHTML!==this._generateCss()&&(document.head.appendChild(this._styleCont),this._styleCont.innerHTML=this._generateCss())},p.prototype.remove=function(i){delete this._classes[i],this.update()},p.prototype.add=function(i,e,o){o===void 0&&(o=!1);var h=this._toCssString(i),s=this._findSameClassId(h);return s&&e&&e!==s?(this._classes[e]=this._classes[s],e):s||this._addNewClass(h,e,o)},p.prototype.get=function(i){if(this._classes[i]){for(var e={},o=0,h=this._classes[i].split(";");o<h.length;o++){var s=h[o];if(s){var f=s.split(":");e[f[0]]=f[1]}}return e}return null},p.prototype.destructor=function(){this._classes=this._styleCont=null},p.prototype._findSameClassId=function(i){for(var e in this._classes)if(i===this._classes[e])return e;return null},p.prototype._addNewClass=function(i,e,o){var h=e||"dhx_generated_class_".concat((0,m.uid)());return this._classes[h]=i,o||this.update(),h},p.prototype._toCssString=function(i){var e="";for(var o in i){var h=i[o],s=o.replace(/[A-Z]{1}/g,function(f){return"-".concat(f.toLowerCase())});e+="".concat(s,":").concat(h,";")}return e},p.prototype._generateCss=function(){var i="";for(var e in this._classes){var o=this._classes[e];i+=".".concat(e,"{").concat(o,`}
`)}return i},p}();n.CssManager=b,n.cssManager=new b},function(P,n,y){y(73),y(74),y(75),y(76),y(77),y(162),P.exports=y(78)},function(P,n){Object.values=Object.values?Object.values:function(y){var m=Object.prototype.toString.call(y);if(y==null)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(m)){if(Object.keys)return Object.keys(y).map(function(i){return y[i]});var b=[];for(var p in y)y.hasOwnProperty(p)&&b.push(y[p]);return b}return[]},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(y){for(var m=[],b=1;b<arguments.length;b++)m[b-1]=arguments[b];if(y==null)throw new TypeError("Cannot convert first argument to object");for(var p=Object(y),i=0;i<m.length;i++){var e=m[i];if(e!=null)for(var o=Object.keys(Object(e)),h=0,s=o.length;h<s;h++){var f=o[h],l=Object.getOwnPropertyDescriptor(e,f);l!==void 0&&l.enumerable&&(p[f]=e[f])}}return p}})},function(P,n){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(y,m){if(this==null)throw new TypeError('"this" is null or not defined');var b=Object(this),p=b.length>>>0;if(p===0)return!1;for(var i,e,o=0|m,h=Math.max(o>=0?o:p-Math.abs(o),0);h<p;){if((i=b[h])===(e=y)||typeof i=="number"&&typeof e=="number"&&isNaN(i)&&isNaN(e))return!0;h++}return!1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this==null)throw new TypeError('"this" is null or not defined');var m=Object(this),b=m.length>>>0;if(typeof y!="function")throw new TypeError("predicate must be a function");for(var p=arguments[1],i=0;i<b;){var e=m[i];if(y.call(p,e,i,m))return e;i++}},configurable:!0,writable:!0}),Array.prototype.findIndex||(Array.prototype.findIndex=function(y){if(this==null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var m,b=Object(this),p=b.length>>>0,i=arguments[1],e=0;e<p;e++)if(m=b[e],y.call(i,m,e,b))return e;return-1})},function(P,n){String.prototype.includes||(String.prototype.includes=function(y,m){return typeof m!="number"&&(m=0),!(m+y.length>this.length)&&this.indexOf(y,m)!==-1}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:function(y,m){return m=m||0,this.indexOf(y,m)===m}}),String.prototype.padStart||(String.prototype.padStart=function(y,m){return y|=0,m=String(m||" "),this.length>y?String(this):((y-=this.length)>m.length&&(m+=m.repeat(y/m.length)),m.slice(0,y)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(y,m){return y|=0,m=String(m||" "),this.length>y?String(this):((y-=this.length)>m.length&&(m+=m.repeat(y/m.length)),String(this)+m.slice(0,y))})},function(P,n){if(Element&&!Element.prototype.matches){var y=Element.prototype;y.matches=y.matchesSelector||y.mozMatchesSelector||y.msMatchesSelector||y.oMatchesSelector||y.webkitMatchesSelector}if("classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var i=this;return{contains:function(e){return i.className.baseVal.split(" ").indexOf(e)!==-1},add:function(e){return i.setAttribute("class",i.getAttribute("class")+" "+e)},remove:function(e){var o=i.getAttribute("class").replace(new RegExp("(\\s|^)".concat(e,"(\\s|$)"),"g"),"$2");i.classList.contains(e)&&i.setAttribute("class",o)},toggle:function(e){this.contains(e)?this.remove(e):this.add(e)}}},configurable:!0}),!Object.entries){var m=Function.bind.call(Function.call,Array.prototype.reduce),b=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),p=Function.bind.call(Function.call,Array.prototype.concat);Object.entries=function(i){return m(Object.keys(i),function(e,o){return p(e,typeof o=="string"&&b(i,o)?[[o,i[o]]]:[])},[])}}Event.prototype.composedPath||(Event.prototype.composedPath=function(){if(this.path)return this.path;var i=this.target;for(this.path=[];i.parentNode!==null;)this.path.push(i),i=i.parentNode;return this.path.push(document,window),this.path})},function(P,n){Math.sign=Math.sign||function(y){return(y=+y)==0||isNaN(y)?y:y>0?1:-1}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.i18n=n.Richtext=void 0;var m=y(79);y(80);var b=y(81);Object.defineProperty(n,"Richtext",{enumerable:!0,get:function(){return b.Richtext}});var p=y(16),i=window;n.i18n=i.dhx&&i.dhx.i18n?i.dhx.i18:{},n.i18n.setLocale=m.setLocale,n.i18n.richtext=n.i18n.richtext||p.default},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.setLocale=void 0,n.setLocale=function(m,b){var p=this[m];if(p)for(var i in b)p[i]=b[i]}},function(P,n,y){y.r(n)},function(P,n,y){var m,b=this&&this.__extends||(m=function(T,E){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,O){M.__proto__=O}||function(M,O){for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&(M[I]=O[I])},m(T,E)},function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function M(){this.constructor=T}m(T,E),T.prototype=E===null?Object.create(E):(M.prototype=E.prototype,new M)}),p=this&&this.__assign||function(){return p=Object.assign||function(T){for(var E,M=1,O=arguments.length;M<O;M++)for(var I in E=arguments[M])Object.prototype.hasOwnProperty.call(E,I)&&(T[I]=E[I]);return T},p.apply(this,arguments)},i=this&&this.__spreadArray||function(T,E,M){if(M||arguments.length===2)for(var O,I=0,D=E.length;I<D;I++)!O&&I in E||(O||(O=Array.prototype.slice.call(E,0,I)),O[I]=E[I]);return T.concat(O||Array.prototype.slice.call(E))};Object.defineProperty(n,"__esModule",{value:!0}),n.Richtext=void 0;var e=y(1),o=y(0),h=y(5),s=y(2),f=y(6),l=y(23),g=y(11),d=y(89),t=y(90),a=y(9),u=y(95),r=y(45),c=y(31),v=y(96),x=y(44),w=y(153),k=y(4),S=function(T){function E(M,O){var I,D=T.call(this,M,(0,e.extend)({mode:"classic",toolbarBlocks:[k.RTEToolbarBlock.undo,k.RTEToolbarBlock.style,k.RTEToolbarBlock.decoration,k.RTEToolbarBlock.color,k.RTEToolbarBlock.align,k.RTEToolbarBlock.link]},O))||this,A=(0,e.extend)(p({},g.defaultStyleCommon),D.config.defaultStyle||{});D._defaultStyles=A;var F=D.config.toolbarBlocks.indexOf(k.RTEToolbarBlock.default);F!==-1&&(I=D.config.toolbarBlocks).splice.apply(I,i([F,1],g.defaultBlocks,!1)),D._initContainer=(0,s.toNode)(M),D.events=new h.EventSystem(D);var U=function(){return D._editorView.getRootView()};return D._composition={active:!1,initSelection:null},D._compositionEventsDestructor=(0,d.listenCompositionEvents)(D.events,function(){return D._editor.selection.isActive()}),D._editor=new w.Editor({events:D.events,uid:D._uid,getRootView:U,repaint:function(){return D._editorView.paint()},defaultStyle:A}),D._toolbarHelper=new v.RichTextToolbarHelper(D,D._editor,{defaultStyle:A}),D.toolbar=D._toolbarHelper.toolbar,D._linkEditor=new t.LinkEditor(null,{events:D.events,editor:D._editor,getRootView:U}),D._initHandlers(),D._initUI(D._initContainer),D._initEvents(),D}return b(E,T),E.prototype.getRootView=function(){return this._layout.getRootView()},E.prototype.setValue=function(M,O){O===void 0&&(O="html"),this.events.fire(k.RichTextEvents.action,[k.Action.parse,{value:M,mode:O},!1])},E.prototype.getValue=function(M){return M===void 0&&(M="html"),this._editor.serialize(M)},E.prototype.getStats=function(M){var O=M?this._editor.selection.getSelectedText():this.getValue("text");return(0,r.getStats)(O,this.config.customStats)},E.prototype.destructor=function(){this._compositionEventsDestructor(),this._editor.selection.destructor(),this.toolbar.destructor(),this.unmount()},E.prototype.fullScreen=function(){var M;this.toolbar.data.exists("fullscreen")&&this.toolbar.data.update("fullscreen",{icon:"dxi dxi-arrow-collapse",$fullscreen:!0}),document.body.classList.add("dhx_richtext--fullscreen","dhx_widget--fullscreen"),this._initContainer=((M=this.getRootView().node.parent)===null||M===void 0?void 0:M.el)||this._initContainer,this.getRootView().mount(document.body)},E.prototype.exitFullScreen=function(){this.toolbar.data.exists("fullscreen")&&this.toolbar.data.update("fullscreen",{icon:"dxi dxi-arrow-expand",$fullscreen:!1}),document.body.classList.remove("dhx_richtext--fullscreen","dhx_widget--fullscreen"),this.getRootView().mount(this._initContainer)},E.prototype.getEditorAPI=function(){var M=this;return{getSelection:function(){return M._editor.selection.get()},setSelection:function(O){M._editor.selection.set(O),M._restoreFocus()},getPosition:function(O){return M._editor.selection.getPosition(O)},getModel:function(){return M._editor.blocks.map(function(O){return{style:p({},O.style),textNodes:O.textNodes.map(function(I){return{style:p({},I.style),text:I.text}})}})},setModel:function(O,I){M.events.fire(k.RichTextEvents.action,[k.Action.parse,{value:O,mode:"inner"},!1]),I&&M._editor.selection.set(I)},add:function(O,I){I&&M._editor.selection.set(I),M.events.fire(k.RichTextEvents.action,[k.Action.innerAdd,O,!0])},remove:function(O){O&&M._editor.selection.set(O),M.events.fire(k.RichTextEvents.action,[k.Action.remove,!0,!0])},update:function(O,I){I&&M._editor.selection.set(I),M.events.fire(k.RichTextEvents.action,[k.Action.update,{modifier:O.modifier,modifierValue:O.value}])}}},E.prototype._initUI=function(M){var O=this,I=this._layout=new l.Layout(M,{css:"dhx_richtext dhx_richtext--mode_"+this.config.mode,cols:[{css:"dhx_toolbar__height-holder",rows:[{id:"toolbar",on:{click:function(){return O._restoreFocus()}},css:"dhx_richtext__toolbar-holder",height:"content"},{id:"editor",css:"dhx_richtext__editor-holder"}]}]});this._editorView=(0,f.toViewLike)((0,o.create)({render:function(){return O._draw()},hooks:{didRedraw:function(){O._editor.selection.isActive()&&(O._editor.selection.update()||O._restoreFocus())}}})),I.getCell("editor").attach(this._editorView),I.getCell("toolbar").attach(this.toolbar)},E.prototype._initHandlers=function(){var M=this;this._handlers={oninput:function(O){O.preventDefault(),O.data&&!O.isComposing&&M.events.fire(k.RichTextEvents.action,["add",O.data])},onkeydown:function(O){if(!(M._composition.active||M._linkEditor.isVisible()&&!M._editor.selection.isActive())){var I=(0,x.keyToOperation)(O);I&&M.events.fire(k.RichTextEvents.action,[I.action,I.data])}},onpaste:function(O){M.events.fire(k.RichTextEvents.action,[k.Action.paste,O,!1])},oncut:function(O){M.events.fire(k.RichTextEvents.action,[k.Action.cut,O,!1])},oncopy:function(O){M.events.fire(k.RichTextEvents.action,[k.Action.copy,O,!1])},ondrop:function(O){O.preventDefault()},ondragstart:function(O){O.preventDefault()}}},E.prototype._initEvents=function(){var M=this;this.events.on(k.RichTextEvents.selectionRefresh,function(){return M._scrollHelper.update()}),this.events.on(k.RichTextEvents.action,function(O,I,D){M._editor.manager.execute({action:O,data:I})&&(M.events.fire(k.RichTextEvents.change,[O,M._editor.manager.canUndo(),M._editor.manager.canRedo()]),M._editorView.paint()),D&&M._restoreFocus()}),this.events.on(k.RichTextEvents.compositionStart,function(){M._composition.active=!0,M._composition.initSelection=M._editor.selection.get()}),this.events.on(k.RichTextEvents.compositionEnd,function(O){M._editor.selection.set(M._composition.initSelection),M.events.fire(k.RichTextEvents.action,[k.Action.add,O,!0]),M._composition.active=!1,M._composition.initSelection=null})},E.prototype._restoreFocus=function(){var M=this;this._restoreFocusTimeout&&clearTimeout(this._restoreFocusTimeout),this._restoreFocusTimeout=setTimeout(function(){M._scrollHelper.saveScrollTop(),M._editorView.getRootView().refs.editor.el.focus(),M._scrollHelper.restoreScrollTop();var O=M._editor.selection.refresh();M._restoreFocusTimeout=null,O||M._restoreFocus()},25)},E.prototype._draw=function(){var M=this,O=this._linkEditor.getCurrentLinkRef(),I=(0,a.getLinkRefer)(),D=null,A=[];return(0,o.el)(".dhx_richtext__overflow-wrapper",{_hooks:this.config.mode==="document"&&{didInsert:function(F){M._scrollHelper=(0,u.createScrollHelper)(F.el)}}},[(0,o.el)(".dhx_richtext__editor.dhx_richtext-editor",p({dhx_widget_id:this._uid,_ref:"editor",contentEditable:"true",role:"textbox","data-gramm":"false",spellcheck:"false",_hooks:this.config.mode!=="document"&&{didInsert:function(F){M._scrollHelper=(0,u.createScrollHelper)(F.el),F.el.addEventListener("beforeinput",M._handlers.oninput);var U=(0,c.toCSSVariables)(p(p({},g.defaultStyleCommon),M.config.defaultStyle||{}));Object.entries(U).forEach(function(j){var $=j[0],q=j[1];F.el.style.setProperty($,q)})}}},this._handlers),this._editor.blocks.map(function(F,U){return A.length&&(A=[],D=null),(0,c.blockquoteWrapper)(F.style,U)((0,c.blockStyleToTag)(F.style),{style:(0,c.calcBlockStyle)(F.style),dhx_offset:U},F.textNodes.map(function(j,$){var q=(0,a.getTextHash)(U,$),X=$===F.textNodes.length-1;if(!j.style.link)return D=j.style.link,M._renderTextNode(j,q,X);if(D!==j.style.link){A=[M._renderTextNode(j,q,X)],D=j.style.link;var Q=I();return(0,o.el)("a",{href:j.style.link,class:Q===O?"dhx--link_edited":"",_ref:Q},A)}A.push(M._renderTextNode(j,q,X))}))}))])},E.prototype._renderTextNode=function(M,O,I){var D=M.text,A=D.endsWith(`
`)&&I,F=(0,c.calcTextNodeStyle)(M.style,this._defaultStyles);return(0,o.el)("span",{_ref:O,dhx_offset:O,style:F},D.length===0?[(0,o.el)("br")]:A?[D+`
`]:D)},E}(f.View);n.Richtext=S},function(P,n,y){(function(m){var b=m!==void 0&&m||typeof self<"u"&&self||window,p=Function.prototype.apply;function i(e,o){this._id=e,this._clearFn=o}n.setTimeout=function(){return new i(p.call(setTimeout,b,arguments),clearTimeout)},n.setInterval=function(){return new i(p.call(setInterval,b,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(b,this._id)},n.enroll=function(e,o){clearTimeout(e._idleTimeoutId),e._idleTimeout=o},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var o=e._idleTimeout;o>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},o))},y(83),n.setImmediate=typeof self<"u"&&self.setImmediate||m!==void 0&&m.setImmediate||this&&this.setImmediate,n.clearImmediate=typeof self<"u"&&self.clearImmediate||m!==void 0&&m.clearImmediate||this&&this.clearImmediate}).call(this,y(22))},function(P,n,y){(function(m,b){(function(p,i){if(!p.setImmediate){var e,o,h,s,f,l=1,g={},d=!1,t=p.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(p);a=a&&a.setTimeout?a:p,{}.toString.call(p.process)==="[object process]"?e=function(c){b.nextTick(function(){r(c)})}:function(){if(p.postMessage&&!p.importScripts){var c=!0,v=p.onmessage;return p.onmessage=function(){c=!1},p.postMessage("","*"),p.onmessage=v,c}}()?(s="setImmediate$"+Math.random()+"$",f=function(c){c.source===p&&typeof c.data=="string"&&c.data.indexOf(s)===0&&r(+c.data.slice(s.length))},p.addEventListener?p.addEventListener("message",f,!1):p.attachEvent("onmessage",f),e=function(c){p.postMessage(s+c,"*")}):p.MessageChannel?((h=new MessageChannel).port1.onmessage=function(c){r(c.data)},e=function(c){h.port2.postMessage(c)}):t&&"onreadystatechange"in t.createElement("script")?(o=t.documentElement,e=function(c){var v=t.createElement("script");v.onreadystatechange=function(){r(c),v.onreadystatechange=null,o.removeChild(v),v=null},o.appendChild(v)}):e=function(c){setTimeout(r,0,c)},a.setImmediate=function(c){typeof c!="function"&&(c=new Function(""+c));for(var v=new Array(arguments.length-1),x=0;x<v.length;x++)v[x]=arguments[x+1];var w={callback:c,args:v};return g[l]=w,e(l),l++},a.clearImmediate=u}function u(c){delete g[c]}function r(c){if(d)setTimeout(r,0,c);else{var v=g[c];if(v){d=!0;try{(function(x){var w=x.callback,k=x.args;switch(k.length){case 0:w();break;case 1:w(k[0]);break;case 2:w(k[0],k[1]);break;case 3:w(k[0],k[1],k[2]);break;default:w.apply(i,k)}})(v)}finally{u(c),d=!1}}}}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,y(22),y(84))},function(P,n){var y,m,b=P.exports={};function p(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function e(a){if(y===setTimeout)return setTimeout(a,0);if((y===p||!y)&&setTimeout)return y=setTimeout,setTimeout(a,0);try{return y(a,0)}catch{try{return y.call(null,a,0)}catch{return y.call(this,a,0)}}}(function(){try{y=typeof setTimeout=="function"?setTimeout:p}catch{y=p}try{m=typeof clearTimeout=="function"?clearTimeout:i}catch{m=i}})();var o,h=[],s=!1,f=-1;function l(){s&&o&&(s=!1,o.length?h=o.concat(h):f=-1,h.length&&g())}function g(){if(!s){var a=e(l);s=!0;for(var u=h.length;u;){for(o=h,h=[];++f<u;)o&&o[f].run();f=-1,u=h.length}o=null,s=!1,function(r){if(m===clearTimeout)return clearTimeout(r);if((m===i||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(r);try{return m(r)}catch{try{return m.call(null,r)}catch{return m.call(this,r)}}}(a)}}function d(a,u){this.fun=a,this.array=u}function t(){}b.nextTick=function(a){var u=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)u[r-1]=arguments[r];h.push(new d(a,u)),h.length!==1||s||e(g)},d.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={},b.on=t,b.addListener=t,b.once=t,b.off=t,b.removeListener=t,b.removeAllListeners=t,b.emit=t,b.prependListener=t,b.prependOnceListener=t,b.listeners=function(a){return[]},b.binding=function(a){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(a){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},function(P,n,y){/**
* Copyright (c) 2017, Leon Sorokin
* All rights reserved. (MIT Licensed)
*
* domvm.js (DOM ViewModel)
* A thin, fast, dependency-free vdom view layer
* @preserve https://github.com/leeoniya/domvm (v3.2.6, micro build)
*/P.exports=function(){var m=1,b=2,p=3,i=4,e=5,o=typeof window<"u",h=(o?window:{}).requestAnimationFrame,s={};function f(){}var l=Array.isArray;function g(N){return N!=null}function d(N){return N!=null&&N.constructor===Object}function t(N,L,V,z){N.splice.apply(N,[V,z].concat(L))}function a(N){var L=typeof N;return L==="string"||L==="number"}function u(N){return typeof N=="function"}function r(N){return typeof N=="object"&&u(N.then)}function c(N){for(var L=arguments,V=1;V<L.length;V++)for(var z in L[V])N[z]=L[V][z];return N}function v(N,L,V){for(var z;z=L.shift();)L.length===0?N[z]=V:N[z]=N=N[z]||{}}function x(N,L){for(var V=[],z=L;z<N.length;z++)V.push(N[z]);return V}function w(N,L){for(var V in N)if(N[V]!==L[V])return!1;return!0}function k(N,L){var V=N.length;if(L.length!==V)return!1;for(var z=0;z<V;z++)if(N[z]!==L[z])return!1;return!0}function S(N){if(!h)return N;var L,V,z;function G(){L=0,N.apply(V,z)}return function(){V=this,z=arguments,L||(L=h(G))}}function T(N,L,V){return function(){return N.apply(V,L)}}function E(N){var L,V,z=N.slice(),G=[];G.push(0);for(var K=0,nt=N.length;K<nt;++K){var _t=G[G.length-1];if(N[_t]<N[K])z[K]=_t,G.push(K);else{for(L=0,V=G.length-1;L<V;){var lt=(L+V)/2|0;N[G[lt]]<N[K]?L=lt+1:V=lt}N[K]<N[G[L]]&&(L>0&&(z[K]=G[L-1]),G[L]=K)}}for(V=G[(L=G.length)-1];L-- >0;)G[L]=V,V=z[V];return G}function M(N,L){var V,z=0,G=L.length-1;if(G<=2147483647)for(;z<=G;){if(L[V=z+G>>1]===N)return V;L[V]<N?z=V+1:G=V-1}else for(;z<=G;){if(L[V=Math.floor((z+G)/2)]===N)return V;L[V]<N?z=V+1:G=V-1}return z==L.length?null:z}function O(N){return N[0]==="o"&&N[1]==="n"}function I(N){return N[0]==="_"}function D(N){return N==="style"}function A(N){N&&N.el&&N.el.offsetHeight}function F(N){return N.node!=null&&N.node.el!=null}function U(N,L){switch(L){case"value":case"checked":case"selected":return!0}return!1}function j(N){for(N=N||s;N.vm==null&&N.parent;)N=N.parent;return N.vm}function $(){}var q=$.prototype={constructor:$,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:!1,_lis:!1,idx:null,parent:null};function X(N){var L=new $;return L.type=b,L.body=N,L}var Q={},ft=/\[(\w+)(?:=(\w+))?\]/g;function st(N){var L,V,z,G,K=Q[N];if(K==null)for(Q[N]=K={tag:(L=N.match(/^[-\w]+/))?L[0]:"div",id:(V=N.match(/#([-\w]+)/))?V[1]:null,class:(z=N.match(/\.([-\w.]+)/))?z[1].replace(/\./g," "):null,attrs:null};G=ft.exec(N);)K.attrs==null&&(K.attrs={}),K.attrs[G[1]]=G[2]||"";return K}var at=1,dt=2,Ct=4,B=8;function W(N,L,V,z){var G=new $;G.type=m,g(z)&&(G.flags=z),G.attrs=L;var K=st(N);if(G.tag=K.tag,K.id||K.class||K.attrs){var nt=G.attrs||{};if(K.id&&!g(nt.id)&&(nt.id=K.id),K.class&&(G._class=K.class,nt.class=K.class+(g(nt.class)?" "+nt.class:"")),K.attrs)for(var _t in K.attrs)g(nt[_t])||(nt[_t]=K.attrs[_t]);G.attrs=nt}var lt=G.attrs;return g(lt)&&(g(lt._key)&&(G.key=lt._key),g(lt._ref)&&(G.ref=lt._ref),g(lt._hooks)&&(G.hooks=lt._hooks),g(lt._data)&&(G.data=lt._data),g(lt._flags)&&(G.flags=lt._flags),g(G.key)||(g(G.ref)?G.key=G.ref:g(lt.id)?G.key=lt.id:g(lt.name)&&(G.key=lt.name+(lt.type==="radio"||lt.type==="checkbox"?lt.value:"")))),V!=null&&(G.body=V),G}function Y(N,L,V){v(N,["refs"].concat(L.split(".")),V)}function Z(N){for(;N=N.parent;)N.flags|=at}function J(N,L,V,z){if(N.type!==e&&N.type!==i){N.parent=L,N.idx=V,N.vm=z,N.ref!=null&&Y(j(N),N.ref,N);var G=N.hooks,K=z&&z.hooks;(G&&(G.willRemove||G.didRemove)||K&&(K.willUnmount||K.didUnmount))&&Z(N),l(N.body)&&et(N)}}function et(N){for(var L=N.body,V=0;V<L.length;V++){var z=L[V];z===!1||z==null?L.splice(V--,1):l(z)?t(L,z,V--,1):(z.type==null&&(L[V]=z=X(""+z)),z.type===b?z.body==null||z.body===""?L.splice(V--,1):V>0&&L[V-1].type===b?(L[V-1].body+=z.body,L.splice(V--,1)):J(z,N,V,null):J(z,N,V,null))}}var ot={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function it(N,L){return isNaN(L)||ot[N]?L:L+"px"}function rt(N,L){var V=(N.attrs||s).style,z=L?(L.attrs||s).style:null;if(V==null||a(V))N.el.style.cssText=V;else{for(var G in V){var K=V[G];(z==null||K!=null&&K!==z[G])&&(N.el.style[G]=it(G,K))}if(z)for(var nt in z)V[nt]==null&&(N.el.style[nt]="")}}var tt=[];function ct(N,L,V,z,G){if(N!=null){var K=V.hooks[L];if(K){if(L[0]!=="d"||L[1]!=="i"||L[2]!=="d")return K(V,z);G?A(V.parent)&&K(V,z):tt.push([K,V,z])}}}function ut(N){var L;if(tt.length)for(A(N.node);L=tt.shift();)L[0](L[1],L[2])}var ht=o?document:null;function pt(N){for(;N._node==null;)N=N.parentNode;return N._node}function vt(N,L){return L!=null?ht.createElementNS(L,N):ht.createElement(N)}function Et(N){return ht.createTextNode(N)}function bt(N){return ht.createComment(N)}function St(N){return N.nextSibling}function zt(N){return N.previousSibling}function ne(N){var L=N.vm,V=L!=null&&ct(L.hooks,"willUnmount",L,L.data),z=ct(N.hooks,"willRemove",N);if((N.flags&at)===at&&l(N.body))for(var G=0;G<N.body.length;G++)ne(N.body[G]);return V||z}function be(N,L,V){var z=L._node,G=z.vm;if(l(z.body))if((z.flags&at)===at)for(var K=0;K<z.body.length;K++)be(L,z.body[K].el);else we(z);delete L._node,N.removeChild(L),ct(z.hooks,"didRemove",z,null,V),G!=null&&(ct(G.hooks,"didUnmount",G,G.data,V),G.node=null)}function Jt(N,L){var V=L._node;if(!V._dead){var z=ne(V);z!=null&&r(z)?(V._dead=!0,z.then(T(be,[N,L,!0]))):be(N,L)}}function we(N){for(var L=N.body,V=0;V<L.length;V++){var z=L[V];delete z.el._node,z.vm!=null&&(z.vm.node=null),l(z.body)&&we(z)}}function At(N){var L=N.el;if(N.flags&at){var V=L.firstChild;do{var z=St(V);Jt(L,V)}while(V=z)}else l(N.body)&&we(N),L.textContent=null}function It(N,L,V){var z=L._node,G=L.parentNode!=null,K=L!==V&&G?null:z.vm;K!=null&&ct(K.hooks,"willMount",K,K.data),ct(z.hooks,G?"willReinsert":"willInsert",z),N.insertBefore(L,V),ct(z.hooks,G?"didReinsert":"didInsert",z),K!=null&&ct(K.hooks,"didMount",K,K.data)}function Ae(N,L,V){It(N,L,V?St(V):null)}var kn={};function lr(N){c(kn,N)}function cr(N){var L=this,V=L,z=x(arguments,1).concat(V,V.data);do{var G=L.onemit,K=G?G[N]:null;if(K){K.apply(L,z);break}}while(L=L.parent());kn[N]&&kn[N].apply(L,z)}var Cn=f;function ur(N){Cn=N.onevent||Cn,N.onemit&&lr(N.onemit)}function Ei(N,L,V){N[L]=V}function Si(N,L,V,z,G){var K=N.apply(G,L.concat([V,z,G,G.data]));G.onevent(V,z,G,G.data,L),Cn.call(null,V,z,G,G.data,L),K===!1&&(V.preventDefault(),V.stopPropagation())}function dr(N){var L,V,z=pt(N.target),G=j(z),K=N.currentTarget._node.attrs["on"+N.type];if(l(K))Si(L=K[0],V=K.slice(1),N,z,G);else for(var nt in K)if(N.target.matches(nt)){var _t=K[nt];l(_t)?(L=_t[0],V=_t.slice(1)):(L=_t,V=[]),Si(L,V,N,z,G)}}function hr(N,L,V,z){if(V!==z){var G=N.el;V==null||u(V)?Ei(G,L,V):z==null&&Ei(G,L,dr)}}function Ti(N,L,V){L[0]==="."&&(L=L.substr(1),V=!0),V?N.el[L]="":N.el.removeAttribute(L)}function fr(N,L,V,z,G){var K=N.el;V==null?!G&&Ti(N,L,!1):N.ns!=null?K.setAttribute(L,V):L==="class"?K.className=V:L==="id"||typeof V=="boolean"||z?K[L]=V:L[0]==="."?K[L.substr(1)]=V:K.setAttribute(L,V)}function En(N,L,V){var z=N.attrs||s,G=L.attrs||s;if(z!==G){for(var K in z){var nt=z[K],_t=U(N.tag,K),lt=_t?N.el[K]:G[K];nt===lt||(D(K)?rt(N,L):I(K)||(O(K)?hr(N,K,nt,lt):fr(N,K,nt,_t,V)))}for(var K in G)!(K in z)&&!I(K)&&Ti(N,K,U(N.tag,K)||O(K))}}function Sn(N,L,V,z){return N.type===i&&(L=N.data,V=N.key,z=N.opts,N=N.view),new Xe(N,L,V,z)}function Mi(N){for(var L=0;L<N.body.length;L++){var V=N.body[L],z=V.type;if(z<=p)It(N.el,pe(V));else if(z===i)z=(G=Sn(V.view,V.data,V.key,V.opts)._redraw(N,L,!1)).node.type,It(N.el,pe(G.node));else if(z===e){var G;(G=V.vm)._redraw(N,L),z=G.node.type,It(N.el,G.node.el)}}}function pe(N,L){return N.el==null&&(N.type===m?(N.el=L||vt(N.tag,N.ns),N.attrs!=null&&En(N,s,!0),(N.flags&B)===B&&N.body.body(N),l(N.body)?Mi(N):N.body!=null&&N.body!==""&&(N.el.textContent=N.body)):N.type===b?N.el=L||Et(N.body):N.type===p&&(N.el=L||bt(N.body))),N.el._node=N,N.el}function pr(N,L){return L[N.idx+1]}function _r(N,L){return L[N.idx-1]}function gr(N){return N.parent}window.lisMove=Oi;var Tn=1,Ye=2;function Ii(N,L,V,z,G,K,nt,_t){return function(lt,Pt,wt,yt,ke,Ot){var Mt,Wt;if(yt[z]!=null){if((Mt=yt[z]._node)==null)return void(yt[z]=N(yt[z]));if(gr(Mt)!==lt)return Wt=N(yt[z]),Mt.vm!=null?Mt.vm.unmount(!0):Jt(Pt,yt[z]),void(yt[z]=Wt)}if(yt[G]==ke)return Ye;if(yt[G].el==null)V(Pt,pe(yt[G]),yt[z]),yt[G]=L(yt[G],wt);else if(yt[G].el===yt[z])yt[G]=L(yt[G],wt),yt[z]=N(yt[z]);else{if(Ot||Mt!==yt[nt])return Ot&&yt[z]!=null?Oi(N,L,V,z,G,Pt,wt,Mt,yt):Tn;Wt=yt[z],yt[z]=N(Wt),_t(Pt,Wt,yt[K]),yt[K]=Wt}}}function Oi(N,L,V,z,G,K,nt,_t,lt){if(_t._lis)V(K,lt[G].el,lt[z]),lt[G]=L(lt[G],nt);else{var Pt=M(_t.idx,lt.tombs);_t._lis=!0;var wt=N(lt[z]);V(K,lt[z],Pt!=null?nt[lt.tombs[Pt]].el:Pt),Pt==null?lt.tombs.push(_t.idx):lt.tombs.splice(Pt,0,_t.idx),lt[z]=wt}}var Di=Ii(St,pr,It,"lftSib","lftNode","rgtSib","rgtNode",Ae),vr=Ii(zt,_r,Ae,"rgtSib","rgtNode","lftSib","lftNode",It);function mr(N,L){var V=L.body,z=N.el,G=N.body,K={lftNode:G[0],rgtNode:G[G.length-1],lftSib:(V[0]||s).el,rgtSib:(V[V.length-1]||s).el};t:for(;;){for(;;){var nt=Di(N,z,G,K,null,!1);if(nt===Tn)break;if(nt===Ye)break t}for(;;){var _t=vr(N,z,G,K,K.lftNode,!1);if(_t===Tn)break;if(_t===Ye)break t}yr(N,z,G,K);break}}function yr(N,L,V,z){for(var G=Array.prototype.slice.call(L.childNodes),K=[],nt=0;nt<G.length;nt++){var _t=G[nt]._node;_t.parent===N&&K.push(_t.idx)}for(var lt=E(K).map(function(wt){return K[wt]}),Pt=0;Pt<lt.length;Pt++)V[lt[Pt]]._lis=!0;for(z.tombs=lt;Di(N,L,V,z,null,!0)!==Ye;);}function Pi(N){return N.el._node.parent!==N.parent}function xr(N,L,V){return L[V]}function br(N,L,V){for(;V<L.length;V++){var z=L[V];if(z.vm!=null){if(N.type===i&&z.vm.view===N.view&&z.vm.key===N.key||N.type===e&&z.vm===N.vm)return z}else if(!Pi(z)&&N.tag===z.tag&&N.type===z.type&&N.key===z.key&&(N.flags&~at)==(z.flags&~at))return z}return null}function wr(N,L,V){return L[L._keys[N.key]]}function Ke(N,L){ct(L.hooks,"willRecycle",L,N);var V=N.el=L.el,z=L.body,G=N.body;if(V._node=N,N.type!==b||G===z){N.attrs==null&&L.attrs==null||En(N,L,!1);var K=l(z),nt=l(G),_t=(N.flags&B)===B;K?nt||_t?kr(N,L):G!==z&&(G!=null?V.textContent=G:At(L)):nt?(At(L),Mi(N)):G!==z&&(V.firstChild?V.firstChild.nodeValue=G:V.textContent=G),ct(L.hooks,"didRecycle",L,N)}else V.nodeValue=G}function kr(N,L){var V=N.body,z=V.length,G=L.body,K=G.length,nt=(N.flags&B)===B,_t=(N.flags&dt)===dt,lt=(N.flags&Ct)===Ct,Pt=!_t&&N.type===m,wt=!0,yt=lt?wr:_t||nt?xr:br;if(lt){for(var ke={},Ot=0;Ot<G.length;Ot++)ke[G[Ot].key]=Ot;G._keys=ke}if(Pt&&z===0)return At(L),void(nt&&(N.body=[]));var Mt,Wt,jr=0,Li=!1,ae=0;if(nt)var Fi={key:null},$i=Array(z);for(Ot=0;Ot<z;Ot++){if(nt){var Pn=!1,Rn=null;wt&&(lt&&(Fi.key=V.key(Ot)),Mt=yt(Fi,G,ae)),Mt!=null?(Wt=Mt.idx,(Rn=V.diff(Ot,Mt))===!0?((Rt=Mt).parent=N,Rt.idx=Ot,Rt._lis=!1):Pn=!0):Pn=!0,Pn&&(J(Rt=V.tpl(Ot),N,Ot),Rt._diff=Rn!=null?Rn:V.diff(Ot),Mt!=null&&Ke(Rt,Mt)),$i[Ot]=Rt}else{var Rt,He=(Rt=V[Ot]).type;if(He<=p)(Mt=wt&&yt(Rt,G,ae))&&(Ke(Rt,Mt),Wt=Mt.idx);else if(He===i){if(Mt=wt&&yt(Rt,G,ae)){Wt=Mt.idx;var An=Mt.vm._update(Rt.data,N,Ot)}else An=Sn(Rt.view,Rt.data,Rt.key,Rt.opts)._redraw(N,Ot,!1);He=An.node.type}else if(He===e){var Lr=F(Rt.vm);He=(An=Rt.vm._update(Rt.data,N,Ot,Lr)).node.type}}if(!lt&&Mt!=null&&(Wt===ae?++ae===K&&z>K&&(Mt=null,wt=!1):Li=!0,K>100&&Li&&++jr%10==0))for(;ae<K&&Pi(G[ae]);)ae++}nt&&(N.body=$i),Pt&&mr(N,L)}function Xe(N,L,V,z){var G=this;G.view=N,G.data=L,G.key=V,z&&(G.opts=z,G.config(z));var K=d(N)?N:N.call(G,G,L,V,z);u(K)?G.render=K:(G.render=K.render,G.config(K)),G._redrawAsync=S(function(nt){return G.redraw(!0)}),G._updateAsync=S(function(nt){return G.update(nt,!0)}),G.init&&G.init.call(G,G,G.data,G.key,z)}var Mn=Xe.prototype={constructor:Xe,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:f,refs:null,render:null,mount:Cr,unmount:Er,config:function(N){var L=this;N.init&&(L.init=N.init),N.diff&&(L.diff=N.diff),N.onevent&&(L.onevent=N.onevent),N.hooks&&(L.hooks=c(L.hooks||{},N.hooks)),N.onemit&&(L.onemit=c(L.onemit||{},N.onemit))},parent:function(){return j(this.node.parent)},root:function(){for(var N=this.node;N.parent;)N=N.parent;return N.vm},redraw:function(N){var L=this;return N?L._redraw(null,null,F(L)):L._redrawAsync(),L},update:function(N,L){var V=this;return L?V._update(N,null,null,F(V)):V._updateAsync(N),V},_update:Tr,_redraw:Sr,_redrawAsync:null,_updateAsync:null};function Cr(N,L){var V=this;return L?(At({el:N,flags:0}),V._redraw(null,null,!1),N.nodeName.toLowerCase()!==V.node.tag?(pe(V.node),It(N.parentNode,V.node.el,N),N.parentNode.removeChild(N)):It(N.parentNode,pe(V.node,N),N)):(V._redraw(null,null),N&&It(N,V.node.el)),N&&ut(V),V}function Er(N){var L=this,V=L.node;Jt(V.el.parentNode,V.el),N||ut(L)}function Ri(N,L,V,z){return V!=null&&(V.body[z]=L,L.idx=z,L.parent=V,L._lis=!1),N}function Sr(N,L,V){var z,G,K=N==null,nt=this,_t=nt.node&&nt.node.el&&nt.node.el.parentNode,lt=nt.node;if(nt.diff!=null&&(z=nt._diff,nt._diff=G=nt.diff(nt,nt.data),lt!=null)){var Pt=l(z)?k:w;if(z===G||Pt(z,G))return Ri(nt,lt,N,L)}_t&&ct(nt.hooks,"willRedraw",nt,nt.data);var wt=nt.render.call(nt,nt,nt.data,z,G);if(wt===lt)return Ri(nt,lt,N,L);if(nt.refs=null,nt.key!=null&&wt.key!==nt.key&&(wt.key=nt.key),nt.node=wt,N?(J(wt,N,L,nt),N.body[L]=wt):lt&&lt.parent?(J(wt,lt.parent,lt.idx,nt),lt.parent.body[lt.idx]=wt):J(wt,null,null,nt),V!==!1)if(lt)if(lt.tag!==wt.tag||lt.key!==wt.key){lt.vm=wt.vm=null;var yt=lt.el.parentNode,ke=St(lt.el);Jt(yt,lt.el),It(yt,pe(wt),ke),lt.el=wt.el,wt.vm=nt}else Ke(wt,lt);else pe(wt);return _t&&ct(nt.hooks,"didRedraw",nt,nt.data),K&&_t&&ut(nt),nt}function Tr(N,L,V,z){var G=this;return N!=null&&G.data!==N&&(ct(G.hooks,"willUpdate",G,N),G.data=N),G._redraw(L,V,z)}function Ai(N,L,V,z){var G,K;return V==null?d(L)?G=L:K=L:(G=L,K=V),W(N,G,K,z)}var Hi="http://www.w3.org/2000/svg";function Mr(N,L,V,z){var G=Ai(N,L,V,z);return G.ns=Hi,G}function Ir(N){var L=new $;return L.type=p,L.body=N,L}function In(N,L,V,z){this.view=N,this.data=L,this.key=V,this.opts=z}function Or(N,L,V,z){return new In(N,L,V,z)}function On(N){this.vm=N}function Dr(N){return new On(N)}function Pr(N){var L=new $;return L.type=m,L.el=L.key=N,L}function Rr(N,L){var V=N.length,z={items:N,length:V,key:function(G){return L.key(N[G],G)},diff:function(G,K){var nt=L.diff(N[G],G);if(K==null)return nt;var _t=K._diff;return(nt===_t||l(_t)?k(nt,_t):w(nt,_t))||nt},tpl:function(G){return L.tpl(N[G],G)},map:function(G){return L.tpl=G,z},body:function(G){for(var K=Array(V),nt=0;nt<V;nt++){var _t=z.tpl(nt);_t._diff=z.diff(nt),K[nt]=_t,J(_t,G,nt)}G.body=K}};return z}In.prototype={constructor:In,type:i,view:null,data:null,key:null,opts:null},On.prototype={constructor:On,type:e,vm:null};var Dn={config:ur,ViewModel:Xe,VNode:$,createView:Sn,defineElement:Ai,defineSvgElement:Mr,defineText:X,defineComment:Ir,defineView:Or,injectView:Dr,injectElement:Pr,lazyList:Rr,FIXED_BODY:dt,DEEP_REMOVE:at,KEYED_LIST:Ct,LAZY_LIST:B};function Ar(N,L){Hr(this,N,L)}function Hr(N,L,V){if(L.type!=null){if(N.vm!=null)return;J(L,N.parent,N.idx,null),N.parent.body[N.idx]=L,Ke(L,N),V&&A(L),ut(j(L))}else{var z=Object.create(N);z.attrs=c({},N.attrs);var G=c(N.attrs,L);if(N._class!=null){var K=G.class;G.class=K!=null&&K!==""?N._class+" "+K:N._class}En(N,z),V&&A(N)}}function Ni(N,L){var V=N.body;if(l(V))for(var z=0;z<V.length;z++){var G=V[z];G.vm!=null?L.push(G.vm):Ni(G,L)}return L}function ji(N){var L,V,z=arguments,G=z.length;if(G>1){var K=1;d(z[1])&&(V=z[1],K=2),L=G===K+1&&(a(z[K])||l(z[K])||V&&(V._flags&B)===B)?z[K]:x(z,K)}return W(N,V,L)}function Nr(){var N=ji.apply(null,arguments);return N.ns=Hi,N}return q.patch=Ar,Mn.emit=cr,Mn.onemit=null,Mn.body=function(){return Ni(this.node,[])},Dn.defineElementSpread=ji,Dn.defineSvgElementSpread=Nr,Dn}()},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.getMarginSize=n.getBlockRange=void 0,n.getBlockRange=function(m,b,p){return p===void 0&&(p=!0),p?{min:m.left+window.pageXOffset,max:b.right+window.pageXOffset}:{min:m.top+window.pageYOffset,max:b.bottom+window.pageYOffset}},n.getMarginSize=function(m,b){return m&&(m.type==="space"||m.type==="wide"&&b)?10:0}},function(P,n,y){var m,b=this&&this.__extends||(m=function(o,h){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,f){s.__proto__=f}||function(s,f){for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&(s[l]=f[l])},m(o,h)},function(o,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function s(){this.constructor=o}m(o,h),o.prototype=h===null?Object.create(h):(s.prototype=h.prototype,new s)});Object.defineProperty(n,"__esModule",{value:!0}),n.ProLayout=void 0;var p=y(38),i=y(88),e=function(o){function h(s,f){return o.call(this,s,f)||this}return b(h,o),h.prototype._createCell=function(s){var f;return s.rows||s.cols||s.views?(s.parent=this._root,f=new h(this,s)):f=new i.ProCell(this,s),this._root._all[f.id]=f,s.init&&s.init(f,s),f},h}(p.Layout);n.ProLayout=e},function(P,n,y){var m,b=this&&this.__extends||(m=function(s,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(l[d]=g[d])},m(s,f)},function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=s}m(s,f),s.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}),p=this&&this.__assign||function(){return p=Object.assign||function(s){for(var f,l=1,g=arguments.length;l<g;l++)for(var d in f=arguments[l])Object.prototype.hasOwnProperty.call(f,d)&&(s[d]=f[d]);return s},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProCell=void 0;var i=y(1),e=y(0),o=y(24),h=function(s){function f(l,g){var d=s.call(this,l,g)||this;return d.scrollView=new o.ScrollView(function(){return d._getFirstRootView()}),d}return b(f,s),f.prototype._getFirstRootView=function(l){return l===void 0&&(l=this),l.getParent()&&l.getParent().getRootView()?l.getParent().getRootView():this._getFirstRootView(l.getParent())},f.prototype.toVDOM=function(l){var g;if(this.config===null&&(this.config={}),!this.config.hidden){var d,t=this._calculateStyle(),a=(0,i.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",u=this.config.full||this.config.html?t:p(p({},t),a);if(!this.config.html)if(this._ui){var r=this._ui.getRootView();r.render&&(r=(0,e.inject)(r)),d=r?[this.scrollView.render(r)]:r||null}else d=l?this.scrollView.render([l]):l||null;var c=!this.config.resizable||this._isLastCell()||this.config.collapsed?null:(0,e.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),p(p({},this._resizerHandlers),{_ref:"resizer_"+this._uid}),[(0,e.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]),v={};if(this.config.on)for(var x in this.config.on)v["on"+x]=this.config.on[x];var w="",k=this.config.cols||this.config.rows;if(this.config.type&&k)switch(this.config.type){case"line":w=" dhx_layout-line";break;case"wide":w=" dhx_layout-wide";break;case"space":w=" dhx_layout-space"}var S=(0,e.el)(".dhx_layout-cell-content",{".innerHTML":this.config.html,_key:"".concat(this._uid,"_html"),style:a}),T=(0,e.el)("div",p(p(((g={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,g),v),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?w:""),style:u}),this.config.full?[(0,e.el)("div",{tabindex:this.config.collapsable?"0":"-1",class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,e.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,e.el)(".dhx_layout-cell-header__image-wrapper",[(0,e.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,e.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,e.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,e.el)("div",{style:p(p({},a),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),".innerHTML":this.config.html,class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?w:"")},d)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?d:[this.config.collapsed?null:this.scrollView&&this.scrollView.config.enable?this.scrollView.render([S],this._uid):S]);return c?[T,c]:T}},f}(y(39).Cell);n.ProCell=h},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.listenCompositionEvents=void 0;var m=y(4);n.listenCompositionEvents=function(b,p){var i=function(h){p()&&b.fire(m.RichTextEvents.compositionStart)},e=function(h){p()&&b.fire(m.RichTextEvents.compositionEnd,[h.data])},o=function(h){p()&&b.fire(m.RichTextEvents.compositionUpdate,[h.data])};return document.addEventListener("compositionstart",i),document.addEventListener("compositionend",e),document.addEventListener("compositionupdate",o),function(){document.removeEventListener("compositionstart",i),document.removeEventListener("compositionend",e),document.removeEventListener("compositionupdate",o)}}},function(P,n,y){var m,b=this&&this.__extends||(m=function(a,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,c){r.__proto__=c}||function(r,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(r[v]=c[v])},m(a,u)},function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=a}m(a,u),a.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)}),p=this&&this.__assign||function(){return p=Object.assign||function(a){for(var u,r=1,c=arguments.length;r<c;r++)for(var v in u=arguments[r])Object.prototype.hasOwnProperty.call(u,v)&&(a[v]=u[v]);return a},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.LinkEditor=void 0;var i=y(0),e=y(2),o=y(6),h=y(17),s=y(15),f=y(44),l=y(16),g=y(4),d=y(9),t=function(a){function u(r,c){var v=a.call(this,r,c)||this;return v._events=c.events,v._editor=c.editor,v._getParentView=c.getRootView,v._popup=new s.Popup,v._initEvents(),v._handlers={onclick:{".dhx_richtext-linkeditor--handler_apply":function(){return v._apply()},".dhx_richtext-linkeditor--handler_unlink, .dhx_richtext-linkeditor--handler_unlink *":function(){v._events.fire(g.RichTextEvents.action,[g.Action.update,{modifier:g.Modifier.link,modifierValue:void 0},!0]),v._popup.hide()},".dhx_richtext-linkeditor--handler_edit, .dhx_richtext-linkeditor--handler_edit *":function(){v._editMode=!0,v.paint(),setTimeout(function(){return v.focus()},10)}},onmouseover:function(x){var w=(0,e.locateNode)(x,"dhx_id");w&&(0,h.tooltip)(l.default[w.getAttribute("dhx_id")],{node:w,position:h.Position.bottom})},oninput:function(x){var w=x.target.value;x.target.classList.contains("link-input")?!v._link&&w?(v._link=w,v.paint()):w?v._link=w:(v._link=w,v.paint()):v._text=w},onkeydown:function(x){x.which===f.Key.enter&&v._link&&v._apply(),x.which===f.Key.esc&&v._popup.hide()}},v.mount(null,(0,i.create)({render:function(){return v._draw()}})),v._popup.attach(v),v}return b(u,a),u.prototype.isVisible=function(){return this._popup.isVisible()},u.prototype.show=function(r,c){var v=this;this._popup.show(r,{mode:c,centering:!0}),setTimeout(function(){return v.focus()},10)},u.prototype.hide=function(){this._popup.hide()},u.prototype.get=function(){return{link:this._link,text:this._text}},u.prototype.getCurrentLinkRef=function(){return this._currentLinkRef},u.prototype.set=function(r,c){this._editMode=!r,this._link=r||"",this._text=c||"",this._initText=this._text,this.paint()},u.prototype.focus=function(){var r=this.getRootView().refs;r&&r.linkInput&&r.linkInput.el.focus()},u.prototype._destroyCurrentLinkRef=function(){this._currentLinkRef&&(this._getParentView().refs[this._currentLinkRef].patch({class:""}),this._currentLinkRef=null)},u.prototype._initEvents=function(){var r=this;this._popup.events.on(s.PopupEvents.beforeHide,function(c,v){return!c||!r._getParentView().node.el.contains(v.target)}),this._popup.events.on(s.PopupEvents.afterHide,function(){return r._destroyCurrentLinkRef()}),this._popup.events.on(s.PopupEvents.afterShow,function(){var c=r._editor.selection.get().left,v=(0,d.getTextHash)(c.blockIndex,c.textIndex),x=r._getParentView().refs[v];x.parent.patch({class:"dhx--link_edited"}),r._currentLinkRef=x.parent.ref}),this._events.on(g.RichTextEvents.selectionChange,function(c){var v=c.range,x=c.left,w=r._editor.blocks[x.blockIndex].textNodes[x.textIndex];r.isVisible()&&r.hide(),w.style.link&&!v&&r._show()}),this._events.on(g.RichTextEvents.showLinkEditor,function(){return r._show()}),this._events.on(g.RichTextEvents.change,function(){if(r.isVisible()){var c=r._editor.selection.get(),v=c.left,x=c.range;if(!r._editor.blocks[v.blockIndex].textNodes[v.textIndex].style.link||x)r.hide();else{var w=r._editor.getLinkInfo(),k=w.link,S=w.text;r.set(k,S)}}})},u.prototype._draw=function(){return(0,i.el)(".dhx_richtext-linkeditor ".concat(this._drawViewMode()?".dhx_richtext-linkeditor--mode_view":""),p({},this._handlers),this._editMode?this._drawEditMode():this._drawViewMode())},u.prototype._drawEditMode=function(){return[(0,i.el)(".dhx_richtext-linkeditor__inputs",[(0,i.el)(".dhx_form-group.dhx_form-group--type_inline.dhx_richtext-linkeditor__input",[(0,i.el)(".dhx_label",l.default.text),(0,i.el)("input.dhx_input.text-input",{value:this._text,_key:"textInput",_ref:"textInput"})]),(0,i.el)(".dhx_form-group.dhx_form-group--type_inline.dhx_richtext-linkeditor__input",[(0,i.el)(".dhx_label",l.default.link),(0,i.el)("input.dhx_input.link-input",{value:this._link,_key:"linkInput",_ref:"linkInput"})]),(0,i.el)(".dhx_richtext_apply",[(0,i.el)("button.dhx_richtext-linkeditor--handler_apply.dhx_button.dhx_button--size_medium.dhx_button--view_flat.dhx_button--color_primary",{disabled:!this._link},l.default.apply)])])]},u.prototype._drawViewMode=function(){return[(0,i.el)("a.dhx_richtext-linkeditor__link",{href:this._link,target:"_blank"},this._link),(0,i.el)(".dhx_richtext-linkeditor__controls",[(0,i.el)("button.dhx_richtext-linkeditor--handler_edit.dhx_button.dhx_button--icon.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary",{dhx_id:"edit"},[(0,i.el)("span.dhx_button__icon.dxi.dxi-pencil")]),(0,i.el)("button.dhx_richtext-linkeditor--handler_unlink.dhx_button.dhx_button--icon.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary",{dhx_id:"removeLink"},[(0,i.el)("span.dhx_button__icon.dxi.dxi-link-variant-off")])])]},u.prototype._modifyLink=function(r){return r.startsWith("#")||r.slice(0,4).toLowerCase()==="http"?r:"http://"+r},u.prototype._apply=function(){var r=this._modifyLink(this._link),c=this._text,v=!c.trim();(this._initText!==this._text||v)&&this._editor.updateLinkText(v?r:c),r&&this._events.fire(g.RichTextEvents.action,[g.Action.update,{modifier:g.Modifier.link,modifierValue:r},!0]),this.hide()},u.prototype._show=function(){var r=this._editor.getLinkInfo(),c=r.link,v=r.text,x=this._editor.selection.get().left,w=(0,d.getTextHash)(x.blockIndex,x.textIndex),k=this._getParentView().refs[w];if(c){if(k.parent.ref===this._currentLinkRef)return;this.set(c,v),this.show(k.parent.el,h.Position.bottom)}else this.set(null,this._editor.selection.getSelectedText()),this.show(k.el,h.Position.bottom)},u}(o.View);n.LinkEditor=t},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.message=void 0;var m=y(1),b=y(2),p=y(30),i=new WeakMap,e=new Map;function o(s,f){var l=document.createElement("div");return l.setAttribute("data-position",f),l.className="dhx_message-container dhx_message-container--"+f+(s===document.body?" dhx_message-container--in-body":""),l}function h(s,f){f&&clearTimeout(i.get(s));var l=s.parentNode,g=l.getAttribute("data-position"),d=l.parentNode,t=e.get(d);if(t){var a=t[g];if(a){var u=a.stack,r=u.indexOf(s);return r!==-1?(l.removeChild(s),u.splice(r,1),void(u.length===0&&d.removeChild(l))):void 0}}}n.message=function(s){var f;typeof s=="string"&&(s={text:s}),s.position=s.position||p.MessageContainerPosition.topRight;var l=document.createElement("div");l.className="dhx_widget dhx_message "+(s.css||""),l.setAttribute("role","alert");var g=s.text&&(0,m.uid)();g&&l.setAttribute("aria-describedby",g),s.html?l.innerHTML=s.html:l.innerHTML='<span class="dhx_message__text" id='.concat(g,">").concat(s.text,`</span>
		`).concat(s.icon?'<span class="dhx_message__icon dxi '.concat(s.icon,'"></span>'):"");var d=s.node?(0,b.toNode)(s.node):document.body;getComputedStyle(d).position==="static"&&(d.style.position="relative");var t=e.get(d);t?t[s.position]||(t[s.position]={stack:[],container:o(d,s.position)}):e.set(d,((f={})[s.position]={stack:[],container:o(d,s.position)},f));var a=e.get(d)[s.position],u=a.stack,r=a.container;if(u.length===0&&d.appendChild(r),u.push(l),r.appendChild(l),s.expire){var c=setTimeout(function(){return h(l)},s.expire);i.set(l,c)}l.onclick=function(){return h(l,!0)}}},function(P,n,y){(function(m){Object.defineProperty(n,"__esModule",{value:!0}),n.alert=void 0;var b=y(40),p=y(41),i=y(1);n.alert=function(e){var o=e.buttons&&e.buttons[0]?e.buttons[0]:b.default.apply,h=(0,p.blockScreen)(e.blockerCss);return new m(function(s){var f="dhx_alert__".concat((0,i.uid)(),"_content"),l="dhx_alert__".concat((0,i.uid)(),"_header"),g=document.createElement("div");g.setAttribute("role","alert"),g.setAttribute("aria-modal","true"),e.text&&g.setAttribute("aria-describedby",f),e.header&&g.setAttribute("aria-labelledby",l),g.className="dhx_widget dhx_alert "+(e.css||"");var d=function(a){a.key!=="Escape"&&a.key!=="Esc"||(t(a),s(!1))};function t(a){a.preventDefault(),h(),document.body.removeChild(g),document.removeEventListener("keydown",d)}g.innerHTML=`
			`.concat(e.header?"<div id=".concat(l,' class="dhx_alert__header"> ').concat(e.header," </div>"):"",`
			`).concat(e.text?"<div id=".concat(f,' class="dhx_alert__content">').concat(e.text,"</div>"):"",`
			<div class="dhx_alert__footer `).concat(e.buttonsAlignment?"dhx_alert__footer--"+e.buttonsAlignment:"",`">
				<button type="button" aria-label="confirm" class="dhx_alert__apply-button dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(o,`</button>
			</div>`),document.body.appendChild(g),g.querySelector(".dhx_alert__apply-button").focus(),g.querySelector("button").addEventListener("click",function(a){t(a),s(!0)}),document.addEventListener("keydown",d)})}}).call(this,y(10))},function(P,n,y){(function(m){Object.defineProperty(n,"__esModule",{value:!0}),n.confirm=void 0;var b=y(40),p=y(41),i=y(1);n.confirm=function(e){e.buttonsAlignment=e.buttonsAlignment||"right";var o=e.buttons&&e.buttons[1]?e.buttons[1]:b.default.apply,h=e.buttons&&e.buttons[0]?e.buttons[0]:b.default.reject,s=(0,p.blockScreen)(e.blockerCss);return new m(function(f){var l=document.createElement("div");l.setAttribute("role","alertdialog"),l.setAttribute("aria-modal","true");var g,d=e.header&&(0,i.uid)(),t=e.header&&(0,i.uid)();t&&l.setAttribute("aria-describedby",t),d&&l.setAttribute("aria-labelledby",d);var a=function(c){s(),l.removeEventListener("click",u),document.removeEventListener("keydown",r),document.body.removeChild(l),f(c)},u=function(c){c.target.tagName==="BUTTON"&&a(c.target.classList.contains("dhx_alert__confirm-aply"))},r=function(c){c.key==="Escape"||c.key==="Esc"?(l.querySelector(".dhx_alert__confirm-aply").focus(),a(c.target.classList.contains("dhx_alert__confirm-reject"))):c.key==="Tab"&&(g==="aply"?(g="reject",l.querySelector(".dhx_alert__confirm-reject").focus()):(g="aply",l.querySelector(".dhx_alert__confirm-aply").focus()),c.preventDefault())};l.className="dhx_widget dhx_alert dhx_alert--confirm"+(e.css?" "+e.css:""),l.innerHTML=`
		`.concat(e.header?'<div class="dhx_alert__header" id='.concat(d,"> ").concat(e.header," </div>"):"",`
		`).concat(e.text?'<div class="dhx_alert__content" id='.concat(t,">").concat(e.text,"</div>"):"",`
			<div class="dhx_alert__footer `).concat(e.buttonsAlignment?"dhx_alert__footer--"+e.buttonsAlignment:"",`">
				<button type="button" aria-label="reject" class="dhx_alert__confirm-reject dhx_button dhx_button--view_link dhx_button--color_primary dhx_button--size_medium">`).concat(h,`</button>
				<button type="button"  aria-label="aply"class="dhx_alert__confirm-aply dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(o,`</button>
			</div>`),document.body.appendChild(l),g="aply",l.querySelector(".dhx_alert__confirm-aply").focus(),l.addEventListener("click",u),document.addEventListener("keydown",r)})}}).call(this,y(10))},function(P,n,y){var m,b=this&&this.__extends||(m=function(g,d){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])},m(g,d)},function(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function t(){this.constructor=g}m(g,d),g.prototype=d===null?Object.create(d):(t.prototype=d.prototype,new t)}),p=this&&this.__assign||function(){return p=Object.assign||function(g){for(var d,t=1,a=arguments.length;t<a;t++)for(var u in d=arguments[t])Object.prototype.hasOwnProperty.call(d,u)&&(g[u]=d[u]);return g},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Popup=void 0;var i=y(1),e=y(0),o=y(5),h=y(2),s=y(6),f=y(43),l=function(g){function d(t){t===void 0&&(t={});var a=g.call(this,null,(0,i.extend)({},t))||this,u=a._popup=document.createElement("div");return u.className="dhx_widget dhx_popup"+(a.config.css?" "+a.config.css:""),u.style.position="absolute",u.setAttribute("role","dialog"),u.setAttribute("aria-modal","true"),u.setAttribute("aria-live","polite"),a.mount(u,(0,e.create)({render:function(){return a.toVDOM()}})),a._clickEvent=function(r){return a.events.fire(f.PopupEvents.click,[r])},a.events=t.events||new o.EventSystem(a),a._isActive=!1,a}return b(d,g),d.prototype.show=function(t,a,u){var r=this;a===void 0&&(a={}),this.events.fire(f.PopupEvents.beforeShow,[t])&&(t=(0,h.toNode)(t),this._isActive?this._setPopupSize(t,a):(u&&this.attach(u),this._popup.style.left="0",this._popup.style.top="0",(0,e.awaitRedraw)().then(function(){r._setPopupSize(t,a),r._popup.style.position="fixed",document.body.appendChild(r._popup),r._isActive=!0}).then(function(){r._popup.style.position="absolute",r.events.fire(f.PopupEvents.afterShow,[t]),r._outerClickDestructor=r._detectOuterClick(t)})))},d.prototype.hide=function(){this._hide(!1,null)},d.prototype.isVisible=function(){return this._isActive},d.prototype.attach=function(t,a){return this._html=null,typeof t=="object"?this._ui=t:typeof t=="string"?this._ui=new window.dhx[t](null,a):typeof t=="function"&&(t.prototype instanceof s.View?this._ui=new t(null,a):this._ui={getRootView:function(){return t(a)}}),this.paint(),this._ui},d.prototype.attachHTML=function(t){this._html=t,this.paint()},d.prototype.getWidget=function(){return this._ui},d.prototype.getContainer=function(){return this.getRootView().refs.content.el},d.prototype.toVDOM=function(){var t;return this._html?t=(0,e.el)(".dhx_popup__inner-html-content",{".innerHTML":this._html}):(t=this._ui?this._ui.getRootView():null)&&t.render&&(t=(0,e.inject)(t)),(0,e.el)("div",{class:"dhx_popup-content",tabindex:0,onclick:this._clickEvent,_key:this._uid,_ref:"content"},[t])},d.prototype.destructor=function(){this.hide(),this._outerClickDestructor&&this._outerClickDestructor(),this._popup=null},d.prototype._setPopupSize=function(t,a,u){var r=this;u===void 0&&(u=3);var c=this._popup.getBoundingClientRect(),v=c.width,x=c.height;if(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),!u||v!==0&&x!==0){var w=(0,h.fitPosition)(t,p(p({centering:!0,mode:"bottom"},a),{width:v,height:x})),k=w.left,S=w.top;if(this._popup.style.left=k,this._popup.style.top=S,a.indent&&a.indent!==0)switch(a.mode){case"top":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)-parseInt(a.indent.toString(),null)+"px";break;case"bottom":default:this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(a.indent.toString(),null)+"px";break;case"left":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)-parseInt(a.indent.toString(),null)+"px";break;case"right":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)+parseInt(a.indent.toString(),null)+"px"}}else this._timeout=setTimeout(function(){r._isActive&&(r._setPopupSize(t,a,u-1),r._timeout=null)})},d.prototype._detectOuterClick=function(t){var a=this,u=function(r){for(var c=r.target;c;){if(c===t||c===a._popup)return;c=c.parentNode}a._hide(!0,r)&&document.removeEventListener("mousedown",u)};return document.addEventListener("mousedown",u),function(){return document.removeEventListener("mousedown",u)}},d.prototype._hide=function(t,a){if(this._isActive)return!!this.events.fire(f.PopupEvents.beforeHide,[t,a])&&(document.body.removeChild(this._popup),this._isActive=!1,this._outerClickDestructor&&(this._outerClickDestructor(),this._outerClickDestructor=null),this.events.fire(f.PopupEvents.afterHide,[a]),!0)},d}(s.View);n.Popup=l},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.createScrollHelper=void 0,n.createScrollHelper=function(m){var b=m.scrollHeight,p=m.scrollTop;return{update:function(){var i=m.scrollHeight;i>b&&(m.scrollTop+=i-b),b=i},saveScrollTop:function(){p=m.scrollTop},restoreScrollTop:function(){m.scrollTop=p}}}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var u,r=1,c=arguments.length;r<c;r++)for(var v in u=arguments[r])Object.prototype.hasOwnProperty.call(u,v)&&(a[v]=u[v]);return a},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.RichTextToolbarHelper=void 0;var b=y(97),p=y(2),i=y(48),e=y(15),o=y(151),h=y(11),s=y(9),f=y(16),l=y(4),g=y(45),d=y(31),t=function(){function a(u,r,c){var v=this;this._parent=u,this._editor=r,this._config=c;var x=c.defaultStyle;this.colorpicker=new b.Colorpicker(""),this._colorpickerPopup=new e.Popup,this._colorpickerPopup.attach(this.colorpicker),this._statsPopup=new e.Popup,this._parent.events.on(l.RichTextEvents.change,function(){v._statsPopup.isVisible()&&v._statsPopup.hide()});var w=u.config.toolbarBlocks,k=w===void 0?[]:w;this.toolbar=new o.Toolbar("",{css:"dhx_widget--bordered dhx_widget--bg_gray"}),this.toolbar.data.parse((0,h.getToolbarData)(k,x)),this._defaultToolbarState={};for(var S=0,T=k;S<T.length;S++)switch(T[S]){case l.RTEToolbarBlock.align:this._defaultToolbarState[l.Modifier.align]=x[l.Modifier.align];break;case l.RTEToolbarBlock.color:this._defaultToolbarState[l.Modifier.color]=x[l.Modifier.color],this._defaultToolbarState[l.Modifier.background]=x[l.Modifier.background];break;case l.RTEToolbarBlock.decoration:this._defaultToolbarState[l.Modifier.bold]=x[l.Modifier.bold],this._defaultToolbarState[l.Modifier.italic]=x[l.Modifier.italic],this._defaultToolbarState[l.Modifier.underline]=x[l.Modifier.underline],this._defaultToolbarState[l.Modifier.strike]=x[l.Modifier.strike];break;case l.RTEToolbarBlock.style:this._defaultToolbarState[l.Modifier.style]=x[l.Modifier.style],this._defaultToolbarState[l.Modifier.fontFamily]=x[l.Modifier.fontFamily],this._defaultToolbarState[l.Modifier.fontSize]=x[l.Modifier.fontSize],this._defaultToolbarState[l.Modifier.blockquote]=x[l.Modifier.blockquote]}this._initEvents()}return a.prototype._initEvents=function(){var u=this;this._parent.events.on(l.RichTextEvents.selectionChange,function(){u._updateState()}),this._parent.events.on(l.RichTextEvents.change,function(r,c,v){var x;!((x=u._parent.config.toolbarBlocks)===null||x===void 0)&&x.includes(l.RTEToolbarBlock.undo)&&u._updateUndoRedoState(c,v),r!==l.Action.update&&u._updateState()}),this.colorpicker.events.on(b.ColorpickerEvents.change,function(r){u._colorpickerPopup.hide(),u._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:u._colorpickerTarget,modifierValue:r},!0]),u.toolbar.data.update(u._colorpickerTarget,{html:u._colorpickerTarget===l.Modifier.color?(0,s.textColor)(r):(0,s.textSelectColor)(r)})}),this.toolbar.events.on(i.NavigationBarEvents.click,function(r,c){return u._toolbarAction(r,c)})},a.prototype._toolbarAction=function(u,r){var c=this.toolbar.data.getItem(u),v=!c.active;switch(u=u.toString()){case"bold":this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.bold,modifierValue:v},!0]),this.toolbar.data.update("bold",{active:v});break;case"underline":this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.underline,modifierValue:v},!0]),this.toolbar.data.update("underline",{active:v});break;case"italic":this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.italic,modifierValue:v},!0]),this.toolbar.data.update("italic",{active:v});break;case"strike":this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.strike,modifierValue:v},!0]),this.toolbar.data.update("strike",{active:v});break;case"color":case"background":this._colorpickerTarget=u===l.Modifier.background?l.Modifier.background:l.Modifier.color;var x=this._getColorState(this._colorpickerTarget);this.colorpicker.setValue(x),this.colorpicker.paint(),this._colorpickerPopup.show((0,p.locateNode)(r.target,"dhx_id"),{mode:"bottom"});break;case"link":r.stopPropagation(),this._parent.events.fire(l.RichTextEvents.showLinkEditor);break;case"redo":this._parent.events.fire(l.RichTextEvents.action,[l.Action.redo,null,!0]);break;case"undo":this._parent.events.fire(l.RichTextEvents.action,[l.Action.undo,null,!0]);break;case"clear-style":this._parent.events.fire(l.RichTextEvents.action,[l.Action.clear,null,!0]);break;case"blockquote":this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.blockquote,modifierValue:v},!0]),this.toolbar.data.update("blockquote",{active:v});break;case"fullscreen":c.$fullscreen?this._parent.exitFullScreen():this._parent.fullScreen();break;case"stats":var w=(0,p.locateNode)(r),k=this._editor.selection.get().range;this._statsPopup.attach((0,g.statsRenderer)(this._parent.getStats(k),this._parent.config.customStats)),this._statsPopup.show(w,{mode:"bottom",centering:!0});break;default:var S=(0,s.actionIdToModifierValue)(u)||"";switch(!0){case(0,s.startsWith)(u,"font-size"):if(S==="size")return;this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.fontSize,modifierValue:S+"px"},!0]),this.toolbar.data.update(l.Modifier.fontSize,{value:S+"px"});break;case(0,s.startsWith)(u,"align"):this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.align,modifierValue:S},!0]),this.toolbar.data.update("align-left",{active:S==="left"}),this.toolbar.data.update("align-right",{active:S==="right"}),this.toolbar.data.update("align-center",{active:S==="center"});break;case(0,s.startsWith)(u,"style"):if(S==="style")return;this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.style,modifierValue:S},!0]),this.toolbar.data.update(l.Modifier.style,{value:f.default[S]});break;case(0,s.startsWith)(u,"font"):if(S==="family")return;this._parent.events.fire(l.RichTextEvents.action,[l.Action.update,{modifier:l.Modifier.fontFamily,modifierValue:(0,s.actionIdToModifierValue)(u)},!0]),this.toolbar.data.update(l.Modifier.fontFamily,{value:S})}}},a.prototype._updateState=function(){var u,r=this._getCommonModifiers();for(var c in r)if(this.toolbar.data.getItem(c))switch(c){case l.Modifier.align:this.toolbar.data.update("align-left",{active:r[c]==="left"}),this.toolbar.data.update("align-right",{active:r[c]==="right"}),this.toolbar.data.update("align-center",{active:r[c]==="center"});break;case l.Modifier.style:!((u=this._parent.config.toolbarBlocks)===null||u===void 0)&&u.includes(l.RTEToolbarBlock.style)&&this.toolbar.data.update(c,{value:f.default[r[c]]});break;case l.Modifier.blockquote:this.toolbar.data.update("blockquote",{active:r[c]});break;case l.Modifier.color:this.toolbar.data.update(c,{html:(0,s.textColor)(r[c])});break;case l.Modifier.background:this.toolbar.data.update(c,{html:(0,s.textSelectColor)(r[c])});break;case l.Modifier.fontFamily:case l.Modifier.fontSize:this.toolbar.data.update(c,{value:r[c]});break;case l.Modifier.italic:case l.Modifier.bold:case l.Modifier.underline:case l.Modifier.strike:this.toolbar.data.update(c,{active:r[c]})}},a.prototype._updateUndoRedoState=function(u,r){u?this.toolbar.enable("undo"):this.toolbar.disable("undo"),r?this.toolbar.enable("redo"):this.toolbar.disable("redo")},a.prototype._getCommonModifiers=function(){var u,r,c=this;return this._editor.eachSelectedNode(function(v,x){if(x)if(u){var w=(0,d.getComputedNodeStyle)(v,x,c._defaultToolbarState);for(var k in u)u[k]!==w[k]&&delete u[k]}else u=(0,d.getComputedNodeStyle)(v,x,c._defaultToolbarState)}),this._editor.eachSelectedBlock(function(v){if(r){var x=(0,d.getComputedBlockStyle)(v,c._defaultToolbarState);for(var w in r)r[w]!==x[w]&&delete r[w]}else r=(0,d.getComputedBlockStyle)(v,c._defaultToolbarState)}),m(m(m({},this._config.defaultStyle),r),u)},a.prototype._getColorState=function(u){var r,c=this._config.defaultStyle[u],v=!0;return this._editor.eachSelectedNode(function(x){var w=x.style[u]||c;r?v=v&&r===w:r=w}),v?r:c},a}();n.RichTextToolbarHelper=t},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(i,e,o,h){h===void 0&&(h=o);var s=Object.getOwnPropertyDescriptor(e,o);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(i,h,s)}:function(i,e,o,h){h===void 0&&(h=o),i[h]=e[o]}),b=this&&this.__exportStar||function(i,e){for(var o in i)o==="default"||Object.prototype.hasOwnProperty.call(e,o)||m(e,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),n.locale=void 0,b(y(98),n),b(y(47),n),b(y(46),n),b(y(32),n);var p=y(33);Object.defineProperty(n,"locale",{enumerable:!0,get:function(){return p.default}})},function(P,n,y){var m,b=this&&this.__extends||(m=function(k,S){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,E){T.__proto__=E}||function(T,E){for(var M in E)Object.prototype.hasOwnProperty.call(E,M)&&(T[M]=E[M])},m(k,S)},function(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function T(){this.constructor=k}m(k,S),k.prototype=S===null?Object.create(S):(T.prototype=S.prototype,new T)}),p=this&&this.__spreadArray||function(k,S,T){if(T||arguments.length===2)for(var E,M=0,O=S.length;M<O;M++)!E&&M in S||(E||(E=Array.prototype.slice.call(S,0,M)),E[M]=S[M]);return k.concat(E||Array.prototype.slice.call(S))};Object.defineProperty(n,"__esModule",{value:!0}),n.Colorpicker=void 0;var i=y(0),e=y(5),o=y(2),h=y(6),s=y(1),f=y(32),l=y(46),g=y(33),d=y(47),t=y(42),a=y(17),u=y(99),r=y(100),c=y(18),v=y(19),x=y(1),w=function(k){function S(T,E){var M=k.call(this,T,E)||this;M._setPaletteGrip=function(I){var D=M.getRootView().refs.picker_palette.el.getBoundingClientRect(),A=I.targetTouches?I.targetTouches[0].clientX:I.clientX,F=(I.targetTouches?I.targetTouches[0].clientY:I.clientY)-D.top,U=A-D.left,j=(0,r.calculatePaletteGrip)(D,F,U),$=j.s,q=j.v;M._pickerState.hsv.s=$,M._pickerState.hsv.v=q,M.paint()},M._setRangeGrip=function(I){var D=M.getRootView().refs.hue_range.el.getBoundingClientRect(),A=(I.targetTouches?I.targetTouches[0].clientX:I.clientX)-D.left,F=(0,r.calculateRangeGrip)(D,A),U=F.h,j=F.rangeLeft;M._pickerState.hsv.h=U,M._pickerState.rangeLeft=j,M.paint()},M._onColorClick=function(I,D){M._selected=D.data.color.toUpperCase(),M.events.fire(d.ColorpickerEvents.change,[M._selected]),M.events.fire(d.ColorpickerEvents.colorChange,[M._selected])},M._container=T,M.config=(0,s.extend)({css:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:l.palette,width:"238px",mode:"palette"},M.config),M.config.palette||(M.config.palette=l.palette),M.config.customColors&&(M.config.customColors=M.config.customColors.map(function(I){return I.toUpperCase()})),M._pickerState={hsv:{h:0,s:1,v:1},customHex:""},M.events=new e.EventSystem(M),M._setHandlers(),M._keyManager=new c.KeyManager(function(I,D){return D===M._uid}),M._initHotKey();var O=(0,i.create)({render:function(){return M._getContent()}});return M.mount(M._container,O),M}return b(S,k),S.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this._selected=this._handlers=this._pickerState=this._inputTimeout=null,this.unmount()},S.prototype.clear=function(){this._selected="",this.events.fire(d.ColorpickerEvents.change,[this._selected]),this.paint()},S.prototype.setValue=function(T){(this._focusColor(T)||v.focusManager.getFocusId()===this._uid)&&(this.paint(),this.events.fire(d.ColorpickerEvents.change,[this._selected]),this.events.fire(d.ColorpickerEvents.colorChange,[this._selected]))},S.prototype.setFocus=function(T){this._focusColor(T)&&this.paint()},S.prototype.getValue=function(){return this._selected||""},S.prototype.getCustomColors=function(){return this.config.customColors},S.prototype.setCustomColors=function(T){this.config.customColors=T.map(function(E){return E.toUpperCase()}),this.paint()},S.prototype.setCurrentMode=function(T){T!=="palette"&&T!=="picker"||(this.config.mode=T,this.events.fire(d.ColorpickerEvents.modeChange,[T]),this.events.fire(d.ColorpickerEvents.viewChange,[T]),this.paint())},S.prototype.getCurrentMode=function(){return this.config.mode},S.prototype.getView=function(){return this.getCurrentMode()},S.prototype.setView=function(T){this.setCurrentMode(T)},S.prototype.focusValue=function(T){this.setFocus(T)},S.prototype._setHandlers=function(){var T=this;this._handlers={click:{".dhx_palette__cell":this._onColorClick},mousedown:function(E){T._pickerMove(E)},touchstart:function(E){T._pickerMove(E)},buttonsClick:function(E){T.setCurrentMode("palette"),E!=="cancel"?E!=="apply"||T.config.customColors.includes(T._pickerState.background)||(T.setValue(T._pickerState.background),T.events.fire(d.ColorpickerEvents.apply,[]),T.events.fire(d.ColorpickerEvents.selectClick,[])):T.events.fire(d.ColorpickerEvents.cancelClick,[])},customColorClick:function(){T.setView("picker")},oninput:function(E){T._inputTimeout&&clearTimeout(T._inputTimeout),T._inputTimeout=setTimeout(function(){var M=E.target.value;M.indexOf("#")===-1&&(M="#".concat(M)),T._pickerState.customHex=M,(0,f.isHex)(M)&&(T._pickerState.hsv=(0,f.HexToHSV)(M),T.paint())},100)},contextmenu:{".dhx_palette__cell":function(E,M){E.preventDefault();var O=T.config.customColors.indexOf(M.data.color);O!==-1&&T._removeCustomColor(O),T.paint()}},mouseover:{".dhx_palette__cell":function(E){E.target&&(0,t.tooltip)(g.default.rightClickToDelete,{node:E.target,position:a.Position.bottom})},".dhx_colorpicker-custom-colors__picker":function(E){E.target&&(0,t.tooltip)(g.default.addNewColor,{node:E.target,position:a.Position.bottom})}}},this.events.on(d.ColorpickerEvents.change,function(){T.paint()}),this.events.on(d.ColorpickerEvents.colorChange,function(){T.paint()})},S.prototype._pickerMove=function(T){var E=(0,o.locate)(T);this._pickerState.customHex="",E==="picker_palette"?this._setPaletteGrip(T):this._setRangeGrip(T);var M=E==="picker_palette"?this._setPaletteGrip:this._setRangeGrip,O=T.targetTouches?"touchmove":"mousemove",I=T.targetTouches?"touchend":"mouseup";document.addEventListener(O,M),document.addEventListener(I,function(){document.removeEventListener(O,M)}),this.paint()},S.prototype._focusColor=function(T){if(T===void 0||T.length<4)return!1;var E=T.toUpperCase();if(!(0,f.isHex)(E))return!1;var M=this.config.palette.reduce(function(D,A){return D||(A.forEach(function(F){F.toUpperCase()!==E||(D=!0)}),D)},!1),O=l.grayShades.includes(E);if(!M&&!O){var I=this.getCustomColors();I.includes(E.toUpperCase())||I.push(E.toUpperCase())}return this._selected=E||null,this._pickerState.hsv=(0,f.HexToHSV)(E),!0},S.prototype._removeCustomColor=function(T){this.config.customColors.splice(T,1)},S.prototype._getCells=function(T,E){var M=this;return E===void 0&&(E=""),T.reduce(function(O,I){var D=(M._selected||"").toUpperCase()===I.toUpperCase()?"dhx_palette__cell--selected":"";return O.push((0,i.el)(".dhx_palette__cell",{class:"".concat(D," ").concat(E),_data:{color:I},style:"background:".concat(I),tabindex:0})),O},[])},S.prototype._getGrayShades=function(){return(0,i.el)(".dhx_palette__row",this._getCells(l.grayShades))},S.prototype._getPalette=function(){var T=this;return this.config.palette.reduce(function(E,M){return E.push((0,i.el)(".dhx_palette__col",T._getCells(M))),E},[])},S.prototype._getContent=function(){var T;return T=this.config.pickerOnly?[(0,u.getPicker)(this,this._pickerState,this._handlers)]:this.config.mode==="palette"?p(p([this.config.grayShades&&this._getGrayShades()],this._getPalette(),!0),[!this.config.paletteOnly&&(0,i.el)(".dhx_colorpicker-custom-colors",{onmouseover:this._handlers.mouseover},[(0,i.el)(".dhx_colorpicker-custom-colors__header",[g.default.customColors]),(0,i.el)(".dhx_palette--custom.dhx_palette__row",p(p([],this._getCells(this.config.customColors,"dhx_custom-color__cell"),!0),[(0,i.el)(".dhx_colorpicker-custom-colors__picker",{class:"dxi dxi-plus",onclick:this._handlers.customColorClick,onmouseover:this._handlers.mouseover,tabindex:0})],!1))])],!1):[(0,u.getPicker)(this,this._pickerState,this._handlers)],(0,i.el)(".dhx_widget.dhx_colorpicker",{class:this.config.css,style:{width:this.config.width},dhx_widget_id:this._uid},[(0,i.el)(".dhx_palette",{onclick:this._handlers.click,oncontextmenu:this._handlers.contextmenu},T)])},S.prototype._initHotKey=function(){var T=this,E={enter:function(O){(0,o.locateNodeByClassName)(O,"dhx_palette__cell")&&(T._selected=(0,x.rgbToHex)(O.target.style.background),T.events.fire(d.ColorpickerEvents.change,[T._selected]),T.events.fire(d.ColorpickerEvents.colorChange,[T._selected])),(0,o.locateNodeByClassName)(O,"dhx_colorpicker-custom-colors__picker")&&T.setCurrentMode("picker")}};for(var M in E)this._keyManager.addHotKey(M,E[M])},S}(h.View);n.Colorpicker=w},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.calculatePaletteGrip=n.getPicker=void 0;var m=y(32),b=y(0),p=y(33);n.getPicker=function(i,e,o){var h=(0,m.HSVtoRGB)(e.hsv);e.background=(0,m.RGBToHex)(h);var s=(0,m.RGBToHex)((0,m.HSVtoRGB)({h:e.hsv.h,s:1,v:1})),f=i.getRootView(),l=f.refs?f.refs.picker_palette.el.getBoundingClientRect():{height:200,width:218,x:0,y:0},g=l.height-2,d=l.width-2,t=g-e.hsv.v*g-4,a=e.hsv.s*d-4,u=l.width-6,r=u-(360-e.hsv.h)/360*u,c=(0,m.isHex)(e.customHex)?e.customHex.replace("#",""):e.background.replace("#","");return(0,b.el)(".dhx_colorpicker-picker",{},[(0,b.el)(".dhx_colorpicker-picker__palette",{style:{height:132,background:s},onmousedown:o.mousedown,ontouchstart:o.touchstart,dhx_id:"picker_palette",_ref:"picker_palette"},[(0,b.el)(".dhx_palette_grip",{style:{top:t,left:a},tabindex:0})]),(0,b.el)(".dhx_colorpicker-hue-range",{style:{height:16},onmousedown:o.mousedown,ontouchstart:o.touchstart,dhx_id:"hue_range",_key:"hue_range",_ref:"hue_range"},[(0,b.el)(".dhx_colorpicker-hue-range__grip",{style:{left:r},tabindex:0})]),(0,b.el)(".dhx_colorpicker-value",[(0,b.el)(".dhx_colorpicker-value__color",{style:{background:e.background}}),(0,b.el)(".dhx_colorpicker-value__input__wrapper",[(0,b.el)("input",{class:"dhx_colorpicker-value__input",value:c,oninput:o.oninput,maxlength:"7",_key:"hex_input","aria-label":"type color in HEX format"})])]),(0,b.el)(".dhx_colorpicker-picker__buttons",[!i.config.pickerOnly&&(0,b.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_link dhx_button--color_primary",onclick:[o.buttonsClick,"cancel"]},p.default.cancel),(0,b.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_flat dhx_button--color_primary",onclick:[o.buttonsClick,"apply"]},p.default.select)])])},n.calculatePaletteGrip=function(i,e,o){var h=i.refs.picker_palette.el.getBoundingClientRect(),s=h.height,f=h.width;e=e<0?0:e>s?s:e,o=o<0?0:o>f?f:o;var l=Math.round(o/(f/100)),g=100-Math.round(e/(s/100));this._pickerState.hsv.s=l/100,this._pickerState.hsv.v=g/100}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateRangeGrip=n.calculatePaletteGrip=void 0,n.calculatePaletteGrip=function(m,b,p){var i=m.height,e=m.width;return b=b<0?0:b>i?i:b,p=p<0?0:p>e?e:p,{s:Math.round(p/(e/100))/100,v:(100-Math.round(b/(i/100)))/100}},n.calculateRangeGrip=function(m,b){var p=m.width;return b=b<0?0:b>p?p:b,{h:Math.round(b/p*360),rangeLeft:b}}},function(P,n,y){var m,b=this&&this.__extends||(m=function(t,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(u[c]=r[c])},m(t,a)},function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function u(){this.constructor=t}m(t,a),t.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}),p=this&&this.__assign||function(){return p=Object.assign||function(t){for(var a,u=1,r=arguments.length;u<r;u++)for(var c in a=arguments[u])Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c]);return t},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Navbar=void 0;var i=y(1),e=y(0),o=y(5),h=y(2),s=y(18),f=y(6),l=y(7),g=y(28),d=function(t){function a(u,r){var c=t.call(this,u,r)||this;return c._isContextMenu=!1,c._documentHaveListener=!1,c.config=(0,i.extend)({rootId:typeof u=="string"&&u||c._uid},r),c._rootItem={},Array.isArray(c.config.data)?(c.events=new o.EventSystem(c),c.data=new l.TreeCollection({rootId:c.config.rootId},c.events)):c.config.data&&c.config.data.events?(c.data=c.config.data,c.events=c.data.events,c.events.context=c):(c.events=new o.EventSystem(c),c.data=new l.TreeCollection({rootId:c.config.rootId},c.events)),c._documentClick=function(v){if(c._documentHaveListener){var x=(0,h.locateNode)(v),w=c.data.getRoot(),k=x&&x.getAttribute("dhx_id"),S=c.data.getParent(k),T="ontouchstart"in window||navigator.msMaxTouchPoints;document.removeEventListener("mousedown",c._documentClick),c._documentHaveListener=!1,((!T||x)&&c._isContextMenu||w!==S&&S&&c.data.getItem(k))&&S&&c.data.getItem(k)||c._close(v)}},c._currentRoot=c.data.getRoot(),c._factory=c._getFactory(),c._initHandlers(),c._keyManager=new s.KeyManager(function(v,x){return x===c._uid}),c._initEvents(),Array.isArray(c.config.data)&&c.data.parse(c.config.data),c}return b(a,t),a.prototype.paint=function(){t.prototype.paint.call(this),this._isContextMenu&&!this._vpopups&&this._init(),this._vpopups&&this._vpopups.redraw()},a.prototype.disable=function(u){var r=this;u!==void 0?this._setProp(u,"disabled",!0):this.data.forEach(function(c){var v=c.id;return r._setProp(v,"disabled",!0)})},a.prototype.enable=function(u){var r=this;u!==void 0?this._setProp(u,"disabled",!1):this.data.forEach(function(c){var v=c.id;return r._setProp(v,"disabled",!1)})},a.prototype.isDisabled=function(u){var r=this.data.getItem(u);if(r)return r.disabled||!1},a.prototype.show=function(u){var r=this;u!==void 0?this._setProp(u,"hidden",!1):this.data.forEach(function(c){var v=c.id;return r._setProp(v,"hidden",!1)})},a.prototype.hide=function(u){var r=this;u!==void 0?this._setProp(u,"hidden",!0):this.data.forEach(function(c){var v=c.id;return r._setProp(v,"hidden",!0)})},a.prototype.destructor=function(){this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._vpopups&&this._vpopups.node&&this._vpopups.unmount(),this.unmount()},a.prototype.select=function(u,r){var c=this;if(r===void 0&&(r=!0),!u)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com");r&&this.unselect(),this.data.update(u,{active:!0}),this.data.eachParent(u,function(v){c.data.update(v.id,{active:!0})})},a.prototype.unselect=function(u){var r=this;u?(this.data.update(u,{active:!1}),this.data.eachChild(u,function(c){r.data.update(c.id,{active:!1})})):this.data.forEach(function(c){r.data.update(c.id,{active:!1})})},a.prototype.isSelected=function(u){if(u&&this.data.getItem(u))return!!this.data.getItem(u).active},a.prototype.getSelected=function(){var u=[];return this.data.forEach(function(r){r.active&&u.push(r.id)}),u},a.prototype._customHandlers=function(){return{}},a.prototype._close=function(u){var r=this;this._popupActive&&this.events.fire(g.NavigationBarEvents.beforeHide,[this._activeMenu,u])&&(this._activeParents&&this._activeParents.forEach(function(c){return r.data.exists(c)&&r.data.update(c,{$activeParent:!1})}),this.config.navigationType==="click"&&(this._isActive=!1),clearTimeout(this._currentTimeout),this._popupActive=!1,this._activeMenu=null,this._vpopups.node&&this._vpopups.unmount(),this._vpopups=null,this.events.fire(g.NavigationBarEvents.afterHide,[u]),this.paint())},a.prototype._init=function(){var u=this;this._vpopups=(0,e.create)({render:function(){return(0,e.el)("div",{dhx_widget_id:u._uid,class:"".concat(u._isContextMenu?" dhx_context-menu":""," ").concat(u.config.css?u.config.css.split(" ").map(function(r){return r+"--context-menu"}).join(" "):""),onmousemove:u._handlers.onmousemove,onmouseleave:u._handlers.onmouseleave,onclick:u._handlers.onclick,onmousedown:u._handlers.onmousedown},u._drawPopups())}}),this._vpopups.mount(document.body)},a.prototype._initHandlers=function(){var u=this;this._isActive=this.config.navigationType!=="click",this._handlers=p({onmousemove:function(r){if(u._isActive){var c=(0,h.locateNode)(r);if(c){var v=c.getAttribute("dhx_id");if(u._activeMenu!==v){if(u.data.haveItems(v)){u._vpopups||u._init();var x=(0,h.getRealPosition)(c);u.data.update(v,{$position:x},!1)}u._activeItemChange(v,r)}}}},onmouseleave:function(r){if(u.config.navigationType!=="click"){if(u._popupActive){var c=(0,h.locateNode)(r,"dhx_id","relatedTarget");if(c){var v=c.getAttribute("dhx_id");u.data.getItem(v)||u._close(r)}else u._close(r)}u._activeItemChange(null,r)}},onclick:function(r){var c=(0,h.locateNode)(r);if(c){var v=c.getAttribute("dhx_id");if(!u.isDisabled(v)){var x=u.data.getItem(v);if(!x.multiClick)if(u.data.haveItems(v)){if(u._vpopups||u._init(),v===u._currentRoot)return;u._isActive||(u._isActive=!0),u._setRoot(v);var w=(0,h.getRealPosition)(c);u.data.update(v,{$position:w},!1),u._activeItemChange(v,r),u.events.fire(g.NavigationBarEvents.click,[v,r])}else switch(x.type){case"input":case"title":break;case"menuItem":case"selectButton":u._onMenuItemClick(v,r);break;case"imageButton":case"button":case"customButton":case"customHTML":case"navItem":x.twoState&&u.data.update(x.id,{active:!x.active}),u.events.fire(g.NavigationBarEvents.click,[v,r]),u._close(r);break;default:u._close(r)}}}},onmousedown:function(r){var c=(0,h.locateNode)(r);if(c){var v=c.getAttribute("dhx_id");if(u.data.getItem(v).multiClick){var x,w=365,k=function(){u.events.fire(g.NavigationBarEvents.click,[v,r]),w>50&&(w-=55),x=setTimeout(k,w)},S=function(){clearTimeout(x),document.removeEventListener("mouseup",S)};k(),document.addEventListener("mouseup",S)}}}},this._customHandlers())},a.prototype._initEvents=function(){var u=this,r=null;this.data.events.on(g.DataEvents.change,function(){u.paint(),r&&clearTimeout(r),r=setTimeout(function(){var c={};u.data.eachChild(u.data.getRoot(),function(v){v.group&&(v.twoState=!0,function(x,w){x[w.group]?(w.active&&(x[w.group].active=w.id),x[w.group].elements.push(w.id)):x[w.group]={active:w.active?w.id:null,elements:[w.id]}}(c,v))},!0),u._groups=c,u._resetHotkeys(),r=null,u.paint()},100)}),this.events.on(g.NavigationBarEvents.click,function(c){var v=u.data.getItem(c),x=u.data.getItem(v.parent);if(x&&x.type==="selectButton"&&u.data.update(v.parent,{value:v.value,icon:v.icon}),v.group){var w=u._groups[v.group];w.active&&u.data.update(w.active,{active:!1}),w.active=v.id,u.data.update(v.id,{active:!0})}}),this.events.on(g.NavigationBarEvents.inputChange,function(c,v){u.data.update(c,{value:v})}),this._customInitEvents()},a.prototype._getMode=function(u,r,c){return u.parent===r?"bottom":"right"},a.prototype._drawMenuItems=function(u,r){var c=this;return r===void 0&&(r=!0),this.data.map(function(v){return c._factory(v,r)},u,!1)},a.prototype._setRoot=function(u){},a.prototype._getParents=function(u,r){var c=[],v=!1,x=this.data.getItem(u),w=x&&x.disabled;return this.data.eachParent(u,function(k){k.id===r?(c.push(k.id),v=!0):v||c.push(k.id)},!w),this._isContextMenu&&this._activePosition&&c.push(r),c},a.prototype._listenOuterClick=function(){this._documentHaveListener||(document.addEventListener("mousedown",this._documentClick,!0),this._documentHaveListener=!0)},a.prototype._customInitEvents=function(){},a.prototype._drawPopups=function(){var u=this,r=this._activeMenu;if(!this._isContextMenu&&!r)return null;var c=this.getRootNode(),v=c&&c.offsetParent&&c.offsetParent.offsetParent,x=null;v&&v.classList.contains("dhx_popup--window")&&v.classList.contains("dhx_popup--window_active")&&(x=2147483647);var w=this._currentRoot;if(this._isContextMenu&&!this._activePosition)return null;var k=this._getParents(r,w);return this._activeParents=k,k.forEach(function(S){return u.data.exists(S)&&u.data.update(S,{$activeParent:!0},!1)}),k.map(function(S){if(!u.data.haveItems(S))return null;var T=u.data.getItem(S)||u._rootItem;return u._popupActive=!0,(0,e.el)("ul",p({class:"dhx_widget dhx_menu"+(u.config.menuCss?" "+u.config.menuCss:""),_key:S,_hooks:{didInsert:function(E){var M=E.el.getBoundingClientRect(),O=M.width,I=M.height,D=u._isContextMenu&&u._activePosition&&S===w?u._activePosition:T.$position,A=u._getMode(T,w,D===u._activePosition),F=(0,h.calculatePosition)(D,{mode:A,width:O,height:I});T.$style=p(p({},F),{zIndex:u._activePosition&&u._activePosition.zIndex||x}),E.patch({style:T.$style})},didRecycle:function(E,M){if(u._isContextMenu&&u._activePosition&&S===w){var O=M.el.getBoundingClientRect(),I=O.width,D=O.height,A=(0,h.calculatePosition)(u._activePosition,{mode:u._getMode(T,w,!0),width:I,height:D});T.$style=p(p({},A),{zIndex:u._activePosition.zIndex||x}),M.patch({style:T.$style})}}},tabindex:0,style:T.$style||{position:"absolute"}},function(E){return{role:"menu","aria-labeledby":E.id,"aria-live":"polite"}}(T)),u._drawMenuItems(S))}).reverse()},a.prototype._onMenuItemClick=function(u,r){var c=this.data.getItem(u);c.disabled||(c.twoState&&this.data.update(c.id,{active:!c.active}),this.events.fire(g.NavigationBarEvents.click,[u,r]),this._close(r))},a.prototype._activeItemChange=function(u,r){var c=this;if(this._activeParents){var v=this._getParents(u,this._currentRoot);this._activeParents.forEach(function(x){c.data.exists(x)&&!v.includes(x)&&c.data.update(x,{$activeParent:!1},!1)})}u&&!this._documentHaveListener&&this._listenOuterClick(),u&&this.data.haveItems(u)?(this._activeMenu===u&&this._popupActive||this.events.fire(g.NavigationBarEvents.openMenu,[u]),clearTimeout(this._currentTimeout),this.paint()):(clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout(function(){return c.paint()},400)),this._activeMenu=u},a.prototype._resetHotkeys=function(){var u=this;this._keyManager.removeHotKey(null,this),this.data.map(function(r){r.hotkey&&u._keyManager.addHotKey(r.hotkey,function(){return u._onMenuItemClick(r.id,null)})})},a.prototype._setProp=function(u,r,c){var v,x=this;Array.isArray(u)?u.forEach(function(w){var k;return x.data.update(w,((k={})[r]=c,k))}):this.data.update(u,((v={})[r]=c,v))},a}(f.View);n.Navbar=d},function(P,n,y){(function(m){var b=this&&this.__assign||function(){return b=Object.assign||function(o){for(var h,s=1,f=arguments.length;s<f;s++)for(var l in h=arguments[s])Object.prototype.hasOwnProperty.call(h,l)&&(o[l]=h[l]);return o},b.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Loader=void 0;var p=y(13),i=y(12),e=function(){function o(h,s){this._parent=h,this._changes=s}return o.prototype.load=function(h,s){var f=this;if(!h.config||this._parent.events.fire(i.DataEvents.beforeLazyLoad,[]))return this._parent.loadData=h.load().then(function(l){return l?f.parse(l,s):[]}).catch(function(l){f._parent.events.fire(i.DataEvents.loadError,[l])})},o.prototype.parse=function(h,s){var f=this;if(s===void 0&&(s=i.DataDriver.json),s!=="json"||(0,p.hasJsonOrArrayStructure)(h)||this._parent.events.fire(i.DataEvents.loadError,["Uncaught SyntaxError: Unexpected end of input"]),!((h=(s=(0,p.toDataDriver)(s)).toJsonArray(h))instanceof Array)){var l=h.total_count-1,g=h.from;if(h=h.data,this._parent.getLength()!==0)return h.forEach(function(u,r){var c=g+r,v=f._parent.getId(c);if(v){var x=f._parent.getItem(v);x&&x.$empty&&(f._parent.changeId(v,u.id,!0),f._parent.update(u.id,b(b({},u),{$empty:void 0}),!0))}else(0,p.dhxWarning)("item not found")}),this._parent.events.fire(i.DataEvents.afterLazyLoad,[g,h.length]),this._parent.events.fire(i.DataEvents.change),h;for(var d=[],t=0,a=0;t<=l;t++)t>=g&&t<=g+h.length-1?(d.push(h[a]),a++):d.push({$empty:!0});h=d}return this._parent.getInitialData()&&this._parent.removeAll(),this._parent.$parse(h),h},o.prototype.save=function(h){for(var s=this,f=function(t){if(t.saving||t.pending)(0,p.dhxWarning)("item is saving");else{var a=l._findPrevState(t.id);if(a&&a.saving){var u=new m(function(r,c){a.promise.then(function(){t.pending=!1,r(s._setPromise(t,h))}).catch(function(v){s._removeFromOrder(a),s._setPromise(t,h),(0,p.dhxWarning)(v),c(v)})});l._addToChain(u),t.pending=!0}else l._setPromise(t,h)}},l=this,g=0,d=this._changes.order;g<d.length;g++)f(d[g]);this._changes.order.length&&this._parent.saveData.then(function(){s._saving=!1})},o.prototype.updateChanges=function(h){this._changes=h},o.prototype._setPromise=function(h,s){var f,l=this;switch(h.status){case"remove":f="delete";break;case"add":f="insert";break;default:f=h.status}return h.promise=s.save(h.obj,f),h.promise.then(function(){l._removeFromOrder(h)}).catch(function(g){h.saving=!1,h.error=!0,(0,p.dhxError)(g)}),h.saving=!0,this._saving=!0,this._addToChain(h.promise),h.promise},o.prototype._addToChain=function(h){this._parent.saveData&&this._saving?this._parent.saveData=this._parent.saveData.then(function(){return h}):this._parent.saveData=h},o.prototype._findPrevState=function(h){for(var s=0,f=this._changes.order;s<f.length;s++){var l=f[s];if(l.id===h)return l}return null},o.prototype._removeFromOrder=function(h){this._changes.order=this._changes.order.filter(function(s){return!(0,p.isEqualObj)(s,h)})},o}();n.Loader=e}).call(this,y(10))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.XMLDriver=void 0;var m=y(104);function b(i,e){e=e||{};var o=i.attributes;if(o&&o.length)for(var h=0;h<o.length;h++)e[o[h].name]=o[h].value;var s=i.childNodes;for(h=0;h<s.length;h++)if(s[h].nodeType===1){var f=s[h].tagName;e[f]?(typeof e[f].push!="function"&&(e[f]=[e[f]]),e[f].push(b(s[h],{}))):e[f]=b(s[h],{})}return e}var p=function(){function i(){}return i.prototype.toJsonArray=function(e){return this.getRows(e)},i.prototype.toJsonObject=function(e){var o;return typeof e=="string"&&(o=this._fromString(e)),b(o)},i.prototype.serialize=function(e){return(0,m.jsonToXML)(e)},i.prototype.getFields=function(e){return e},i.prototype.getRows=function(e){if(typeof e=="string"&&(e=this._fromString(e)),e){var o=e.childNodes&&e.childNodes[0]&&e.childNodes[0].childNodes;return o&&o.length?this._getRows(o):null}return[]},i.prototype._getRows=function(e){for(var o=[],h=0;h<e.length;h++)e[h].tagName==="item"&&o.push(this._nodeToJS(e[h]));return o},i.prototype._fromString=function(e){try{return new DOMParser().parseFromString(e,"text/xml")}catch{return null}},i.prototype._nodeToJS=function(e){var o={};if(this._haveAttrs(e))for(var h=e.attributes,s=0;s<h.length;s++){var f=h[s],l=f.name,g=f.value;o[l]=this._toType(g)}if(e.nodeType===3)return o.value=o.value||this._toType(e.textContent),o;var d=e.childNodes;if(d)for(s=0;s<d.length;s++){var t=d[s],a=t.tagName;a&&(a==="items"&&t.childNodes?o[a]=this._getRows(t.childNodes):this._haveAttrs(t)?o[a]=this._nodeToJS(t):o[a]=this._toType(t.textContent))}return o},i.prototype._toType=function(e){return e==="false"||e==="true"?e==="true":isNaN(e)?e:Number(e)},i.prototype._haveAttrs=function(e){return e.attributes&&e.attributes.length},i}();n.XMLDriver=p},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.jsonToXML=void 0;var m=4;function b(i){return" ".repeat(i)}function p(i,e){e===void 0&&(e=m);var o=b(e)+`<item>
`;for(var h in i)Array.isArray(i[h])?(o+=b(e+m)+"<".concat(h,`>
`),o+=i[h].map(function(s){return p(s,e+2*m)}).join(`
`)+`
`,o+=b(e+m)+"</".concat(h,`>
`)):o+=b(e+m)+"<".concat(h,">").concat(i[h],"</").concat(h,`>
`);return o+=b(e)+"</item>"}n.jsonToXML=function(i,e){e===void 0&&(e="root");for(var o=`<?xml version="1.0" encoding="iso-8859-1"?>
<`.concat(e,">"),h=0;h<i.length;h++)o+=`
`+p(i[h]);return o+`
</`.concat(e,">")}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.Sort=void 0;var m=y(13),b=function(){function p(){}return p.prototype.sort=function(i,e,o){this._createSorter(e),o===e&&(e=null),(o||e)&&this._sort(i,o,e)},p.prototype._createSorter=function(i){var e=this;i&&!i.rule&&(i.rule=function(o,h){var s=e._checkVal(i.as,o[i.by]),f=e._checkVal(i.as,h[i.by]);return(0,m.naturalCompare)(s.toString(),f.toString())})},p.prototype._checkVal=function(i,e){return i?i.call(this,e):e},p.prototype._sort=function(i,e,o){var h=this,s={asc:1,desc:-1};return i.sort(function(f,l){var g=0;return e&&(g=e.rule.call(h,f,l)*(s[e.dir]||s.asc)),g===0&&o&&(g=o.rule.call(h,f,l)*(s[o.dir]||s.asc)),g})},p}();n.Sort=b},function(P,n,y){var m,b=this&&this.__extends||(m=function(g,d){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,a){t.__proto__=a}||function(t,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])},m(g,d)},function(g,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function t(){this.constructor=g}m(g,d),g.prototype=d===null?Object.create(d):(t.prototype=d.prototype,new t)}),p=this&&this.__spreadArray||function(g,d,t){if(t||arguments.length===2)for(var a,u=0,r=d.length;u<r;u++)!a&&u in d||(a||(a=Array.prototype.slice.call(d,0,u)),a[u]=d[u]);return g.concat(a||Array.prototype.slice.call(d))};Object.defineProperty(n,"__esModule",{value:!0}),n.TreeCollection=void 0;var i=y(1),e=y(49),o=y(20),h=y(13),s=y(12);function f(g,d,t,a){a!==void 0&&a!==-1&&g[t]&&g[t][a]?g[t].splice(a,0,d):(g[t]||(g[t]=[]),g[t].push(d))}var l=function(g){function d(t,a){var u,r=g.call(this,t,a)||this;r._childs={};var c=r._root=t&&t.rootId||"_ROOT_"+(0,i.uid)();return r._childs=((u={})[c]=[],u),r._initChilds=null,r}return b(d,g),d.prototype.add=function(t,a,u){var r=this;if(a===void 0&&(a=-1),u===void 0&&(u=this._root),this.events.fire(s.DataEvents.beforeAdd,[t]))return typeof t!="object"&&(t={value:t}),Array.isArray(t)?t.map(function(c,v){return r._add(c,a,u,v)}):this._add(t,a,u)},d.prototype.getRoot=function(){return this._root},d.prototype.getParent=function(t,a){if(a===void 0&&(a=!1),!this._pull[t])return null;var u=this._pull[t].parent;return a?this._pull[u]:u},d.prototype.getItems=function(t){return this._childs&&this._childs[t]?this._childs[t]:[]},d.prototype.getLength=function(t){return t===void 0&&(t=this._root),this._childs[t]?this._childs[t].length:null},d.prototype.removeAll=function(t){var a;if(t){if(this._childs[t])for(var u=0,r=p([],this._childs[t],!0);u<r.length;u++){var c=r[u];this.remove(c.id)}}else{g.prototype.removeAll.call(this);var v=this._root;this._initChilds=null,this._childs=((a={})[v]=[],a)}},d.prototype.getIndex=function(t){var a=this.getParent(t);return a&&this._childs[a]?(0,i.findIndex)(this._childs[a],function(u){return u.id===t}):-1},d.prototype.sort=function(t){var a=this;if(t){for(var u in this._childs)this._sort.sort(this._childs[u],t);if(this._initChilds&&Object.keys(this._initChilds).length)for(var u in this._initChilds)this._sort.sort(this._initChilds[u],t)}else this._childs={},this._parse_data(Object.keys(this._pull).map(function(r){return a._pull[r]})),this._filters&&this.filter(this._filters.filters,this._filters.config);this.events.fire(s.DataEvents.change)},d.prototype.filter=function(t,a){var u=this;if(a===void 0&&(a={}),t){if(this._initChilds||(this._initChilds=this._childs),a.type=a.type||s.TreeFilterType.all,this._filters={filters:{},config:a},typeof t!="function")if(t.by)this._filters.filters[t.by]=t;else for(var r in t)this._filters.filters[r]=t[r];else this._filters.filters=t;var c={};this._recursiveFilter(this._filters.filters,a,this._root,0,c),Object.keys(c).forEach(function(v){for(var x=u.getParent(v),w=u.getItem(v);x;)c[x]||(c[x]=[]),w&&!c[x].find(function(k){return k.id===w.id})&&c[x].push(w),w=u.getItem(x),x=u.getParent(x)}),this._childs=c,this.events.fire(s.DataEvents.change)}else this.restoreOrder()},d.prototype.restoreOrder=function(){this._initChilds&&(this._childs=this._initChilds,this._initChilds=null),this.events.fire(s.DataEvents.change)},d.prototype.copy=function(t,a,u,r){var c=this;return u===void 0&&(u=this),r===void 0&&(r=this._root),t instanceof Array?t.map(function(v,x){return c._copy(v,a,u,r,x)}):this._copy(t,a,u,r)},d.prototype.move=function(t,a,u,r){var c=this;return u===void 0&&(u=this),r===void 0&&(r=this._root),t instanceof Array?t.map(function(v,x){return c._move(v,a,u,r,x)}):this._move(t,a,u,r)},d.prototype.forEach=function(t,a,u){if(a===void 0&&(a=this._root),u===void 0&&(u=1/0),this.haveItems(a)&&!(u<1))for(var r=this._childs[a],c=0;c<r.length;c++)t.call(this,r[c],c,r),this.haveItems(r[c].id)&&this.forEach(t,r[c].id,--u)},d.prototype.eachChild=function(t,a,u,r){if(u===void 0&&(u=!0),r===void 0&&(r=function(){return!0}),this.haveItems(t))for(var c=0;c<this._childs[t].length;c++)a.call(this,this._childs[t][c],c),u&&r(this._childs[t][c])&&this.eachChild(this._childs[t][c].id,a,u,r)},d.prototype.getNearId=function(t){return t},d.prototype.loadItems=function(t,a){var u=this;a===void 0&&(a=s.DataDriver.json);var r=this.config.autoload+"?id="+t;new o.DataProxy(r).load().then(function(c){c=(a=(0,h.toDataDriver)(a)).toJsonArray(c),u._parse_data(c,t),u.events.fire(s.DataEvents.change)})},d.prototype.refreshItems=function(t,a){a===void 0&&(a=s.DataDriver.json),this.removeAll(t),this.loadItems(t,a)},d.prototype.eachParent=function(t,a,u){u===void 0&&(u=!1);var r=this.getItem(t);if(r&&(u&&a.call(this,r),r.parent!==this._root)){var c=this.getItem(r.parent);a.call(this,c),this.eachParent(r.parent,a)}},d.prototype.haveItems=function(t){return t in this._childs},d.prototype.canCopy=function(t,a){if(t===a)return!1;var u=!0;return this.eachParent(a,function(r){return r.id===t?u=!1:null}),u},d.prototype.serialize=function(t,a){t===void 0&&(t=s.DataDriver.json);var u=this._serialize(this._root,a),r=(0,h.toDataDriver)(t);if(r)return r.serialize(u)},d.prototype.getId=function(t,a){if(a===void 0&&(a=this._root),this._childs[a]&&this._childs[a][t])return this._childs[a][t].id},d.prototype.map=function(t,a,u){a===void 0&&(a=this._root),u===void 0&&(u=!0);var r=[];if(!this.haveItems(a))return r;for(var c=0;c<this._childs[a].length;c++)if(r.push(t.call(this,this._childs[a][c],c,this._childs)),u){var v=this.map(t,this._childs[a][c].id,u);r=r.concat(v)}return r},d.prototype.getRawData=function(t,a,u,r,c){var v;return c=c||this._root,this._childs[c]?(v=c===this._root?g.prototype.getRawData.call(this,t,a,this._childs[c]):this._childs[c],r===2?this.flatten(v):v):[]},d.prototype.flatten=function(t){var a=this,u=[];return t.forEach(function(r){u.push(r);var c=a._childs[r.id];c&&r.$opened&&(u=u.concat(a.flatten(c)))}),u},d.prototype._add=function(t,a,u,r){a===void 0&&(a=-1),u===void 0&&(u=this._root),t.parent=t.parent?t.parent.toString():u,r>0&&a!==-1&&(a+=1);var c=g.prototype._add.call(this,t,a);if(Array.isArray(t.items))for(var v=0,x=t.items;v<x.length;v++){var w=x[v];this.add(w,-1,t.id)}return c},d.prototype._copy=function(t,a,u,r,c){if(u===void 0&&(u=this),r===void 0&&(r=this._root),!this.exists(t))return null;var v=this._childs[t];if(c&&(a=a===-1?-1:a+c),u===this&&!this.canCopy(t,r))return null;var x=(0,h.copyWithoutInner)(this.getItem(t),{items:!0});if(u.exists(t)&&(x.id=(0,i.uid)()),(0,h.isTreeCollection)(u)){if(this.exists(t)&&(x.parent=r,u!==this&&r===this._root&&(x.parent=u.getRoot()),u.add(x,a),t=x.id),v)for(var w=0,k=v;w<k.length;w++){var S=k[w].id,T=this.getIndex(S);typeof t=="string"&&this.copy(S,T,u,t)}return t}u.add(x,a)},d.prototype._move=function(t,a,u,r,c){if(u===void 0&&(u=this),r===void 0&&(r=this._root),!this.exists(t))return null;if(c&&(a=a===-1?-1:a+c),u!==this){if(!(0,h.isTreeCollection)(u))return u.add((0,h.copyWithoutInner)(this.getItem(t)),a),void this.remove(t);var v=this.copy(t,a,u,r);return this.remove(t),v}if(!this.canCopy(t,r))return null;var x=this.getParent(t),w=this.getIndex(t),k=this._childs[x].splice(w,1)[0];return k.parent=r,this._childs[x].length||delete this._childs[x],this.haveItems(r)||(this._childs[r]=[]),a===-1?a=this._childs[r].push(k):this._childs[r].splice(a,0,k),this.events.fire(s.DataEvents.change,[t,"update",this.getItem(t)]),t},d.prototype._reset=function(t){var a;if(t)for(var u=0,r=p([],this._childs[t],!0);u<r.length;u++){var c=r[u];this.remove(c.id)}else{g.prototype._reset.call(this);var v=this._root;this._initChilds=null,this._childs=((a={})[v]=[],a)}},d.prototype._removeCore=function(t){if(this._pull[t]){var a=this.getParent(t);this._childs[a]=this._childs[a].filter(function(u){return u.id!==t}),a===this._root||this._childs[a].length||delete this._childs[a],this._initChilds&&this._initChilds[a]&&(this._initChilds[a]=this._initChilds[a].filter(function(u){return u.id!==t}),a===this._root||this._initChilds[a].length||delete this._initChilds[a]),this._fastDeleteChilds(this._childs,t),this._initChilds&&this._fastDeleteChilds(this._initChilds,t)}},d.prototype._addToOrder=function(t,a,u){var r=this._childs,c=this._initChilds,v=a.parent;this._pull[a.id]=a,a.parent&&this._pull[a.parent]&&this._pull[a.parent].items&&!this._pull[a.parent].items.find(function(x){return x.id===a.id})&&this._pull[a.parent].items.push(a),g.prototype._addToOrder.call(this,t,a,u),f(r,a,v,u),c&&f(c,a,v,u)},d.prototype._parse_data=function(t,a){var u;a===void 0&&(a=this._root);for(var r=this._order.length,c=0,v=t;c<v.length;c++){var x=v[c];this.config.init&&(x=this.config.init(x)),x&&typeof x!="object"&&(x={value:x}),x.id=(u=x.id)!==null&&u!==void 0?u:(0,i.uid)(),x.parent=x.parent===void 0||x.parent===null||x.parent&&x.$items?a:x.parent,this._pull[x.id]&&(0,h.dhxError)("Item ".concat(x.id," already exist")),this._pull[x.id]=x,this._order[r++]=x,this._childs[x.parent]||(this._childs[x.parent]=[]),this._childs[x.parent].push(x),x.items&&x.items instanceof Object&&this._parse_data(x.items,x.id)}},d.prototype._fastDeleteChilds=function(t,a){if(this._pull[a]&&delete this._pull[a],t[a]){for(var u=0;u<t[a].length;u++)this._fastDeleteChilds(t,t[a][u].id);delete t[a]}},d.prototype._recursiveFilter=function(t,a,u,r,c){var v=this,x=this._childs[u];if(x){var w=function(O){switch(a.type){case s.TreeFilterType.all:return!0;case s.TreeFilterType.level:return r===a.level;case s.TreeFilterType.leafs:return!v.haveItems(O.id)}};if(typeof t=="function"){var k=function(O){return w(O)&&t(O)};(S=x.filter(k)).length&&(c[u]=S)}else{var S;k=function(O){var I=!0;for(var D in t)if(t[D].by&&t[D].match!==""&&(I=O[t[D].by]&&O[t[D].by].toString().toLocaleLowerCase().indexOf(t[D].match.toString().toLowerCase())!==-1),!I)break;return w(O)&&I},(S=x.filter(k)).length&&(c[u]=S)}for(var T=0,E=x;T<E.length;T++){var M=E[T];this._recursiveFilter(t,a,M.id,r+1,c)}}},d.prototype._serialize=function(t,a){var u=this;return t===void 0&&(t=this._root),this.map(function(r){var c={};for(var v in r)v==="parent"||v==="items"||v.startsWith("$")||(c[v]=r[v]);return a&&(c=a(c)),u.haveItems(r.id)&&(c.items=u._serialize(r.id,a)),c},t,!1)},d}(e.DataCollection);n.TreeCollection=l},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(l){for(var g,d=1,t=arguments.length;d<t;d++)for(var a in g=arguments[d])Object.prototype.hasOwnProperty.call(g,a)&&(l[a]=g[a]);return l},m.apply(this,arguments)},b=this&&this.__spreadArray||function(l,g,d){if(d||arguments.length===2)for(var t,a=0,u=g.length;a<u;a++)!t&&a in g||(t||(t=Array.prototype.slice.call(g,0,a)),t[a]=g[a]);return l.concat(t||Array.prototype.slice.call(g))};Object.defineProperty(n,"__esModule",{value:!0}),n.dragManager=void 0;var p=y(2),i=y(108),e=y(137),o=y(12),h=y(13),s=function(){function l(){var g=this;this._transferData={},this._canMove=!0,this._isDrag=!1,this._onMouseMove=function(d){if(g._transferData.start){var t=d.targetTouches?d.targetTouches[0].pageX:d.pageX,a=d.targetTouches?d.targetTouches[0].pageY:d.pageY,u=g._transferData,r=u.x,c=u.y,v=u.start,x=u.componentId;if(!g._transferData.ghost){if(Math.abs(r-t)<3&&Math.abs(c-a)<3)return;var w=g._onDragStart(v,x,d);if(!w)return void g._endDrop(d);g._transferData.ghost=w,document.body.appendChild(g._transferData.ghost)}g._moveGhost(t,a),g._onDrag(d)}},this._onMouseUp=function(d){g._transferData.x&&(g._transferData.ghost?(g._removeGhost(),g._onDrop(d)):g._endDrop(d),d.targetTouches?(document.removeEventListener("touchmove",g._onMouseMove),document.removeEventListener("touchend",g._onMouseUp)):(document.removeEventListener("mousemove",g._onMouseMove),document.removeEventListener("mouseup",g._onMouseUp)))}}return l.prototype.setItem=function(g,d){e.collectionStore.setItem(g,d)},l.prototype.onMouseDown=function(g,d,t){if(g.which===1||g.targetTouches){g.targetTouches?(document.addEventListener("touchmove",this._onMouseMove,!1),document.addEventListener("touchend",this._onMouseUp,!1)):(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp));var a=(0,p.locateNode)(g,"dhx_id"),u=a&&a.getAttribute("dhx_id"),r=(0,p.locate)(g,"dhx_widget_id");if(Array.isArray(d)&&d.includes(u)?(this._transferData.source=b([],d,!0),this._itemsForGhost=t):(this._transferData.source=[u],this._itemsForGhost=null),u&&r){var c=(0,p.getBox)(a),v=c.left,x=c.top,w=g.targetTouches?g.targetTouches[0].pageX:g.pageX,k=g.targetTouches?g.targetTouches[0].pageY:g.pageY;this._transferData.initXOffset=w-v,this._transferData.initYOffset=k-x,this._transferData.x=w,this._transferData.y=k,this._transferData.componentId=r,this._transferData.start=u,this._transferData.item=a}}},l.prototype.isDrag=function(){return this._isDrag},l.prototype.cancelCanDrop=function(g){this._canMove=!1,this._isDrag=!1;var d=this._transferData,t=d.start,a=d.source,u=d.target,r=d.dropComponentId,c={start:t,source:a,target:u},v=e.collectionStore.getItem(r);v&&u&&v.events.fire(o.DragEvents.cancelDrop,[c,g]),this._transferData.dropComponentId=null,this._transferData.target=null},l.prototype._moveGhost=function(g,d){this._transferData.ghost&&(this._transferData.ghost.style.left=g-this._transferData.initXOffset+"px",this._transferData.ghost.style.top=d-this._transferData.initYOffset+"px")},l.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},l.prototype._onDrop=function(g){if(this._canMove){var d=this._transferData,t=d.start,a=d.source,u=d.target,r=d.dropComponentId,c={start:t,source:a,target:u,dropPosition:d.dropPosition},v=e.collectionStore.getItem(r),x=v&&v.config;if(v&&x.dragMode!=="source"){if(v.events.fire(o.DragEvents.beforeDrop,[c,g])){var w={id:u,component:v},k={id:t,component:this._transferData.component};this._move(k,w),w.component.events.fire(o.DragEvents.afterDrop,[c,g])}this._endDrop(g)}else this._endDrop(g)}else this._endDrop(g)},l.prototype._onDragStart=function(g,d,t){var a=e.collectionStore.getItem(d),u=a.config,r=this._transferData,c={start:r.start,source:r.source,target:r.target};if(u.dragMode==="target"||a._pregroupData)return null;var v=function(x,w,k){k===void 0&&(k=!1);var S=x.getBoundingClientRect(),T=document.createElement("div"),E=x.cloneNode(!0);return E.style.width=S.width+"px",E.style.height=S.height+"px",E.style.maxHeight=S.height+"px",E.style.fontSize=window.getComputedStyle(x.parentElement).fontSize,E.style.opacity="0.8",E.style.fontSize=window.getComputedStyle(x.parentElement).fontSize,k&&w&&w.length||T.appendChild(E),w&&w.length&&w.forEach(function(M,O){var I=M.cloneNode(!0);I.style.width=S.width+"px",I.style.height=S.height+"px",I.style.maxHeight=S.height+"px",I.style.top=12*(O+1)-S.height-S.height*O+"px",I.style.left=12*(O+1)+"px",I.style.opacity="0.6",I.style.zIndex="".concat(-O-1),T.appendChild(I)}),T.className="dhx_drag-ghost",T}(this._transferData.item,this._itemsForGhost,u.dragItem==="column"||u.dragItem==="both");return a.events.fire(o.DragEvents.beforeDrag,[c,t,v])&&g?(a.events.fire(o.DragEvents.dragStart,[c,t]),this._isDrag=!0,this._toggleTextSelection(!0),this._transferData.component=a,this._transferData.dragConfig=u,v):null},l.prototype._onDrag=function(g){var d=g.targetTouches?g.targetTouches[0].clientX:g.clientX,t=g.targetTouches?g.targetTouches[0].clientY:g.clientY,a=document.elementFromPoint(d,t),u=(0,p.locate)(a,"dhx_widget_id");if(u){var r=e.collectionStore.getItem(u),c=!!(0,p.locateNodeByClassName)(a,"dhx_grid-header")||!!(0,p.locateNodeByClassName)(a,"dhx_grid-footer"),v=r&&r.config.columns?r.config:void 0,x=v&&(v.dragItem==="both"||v.dragItem==="column");if(!c||x){var w=(0,p.locate)(a,"dhx_id"),k=(0,p.locate)(a,"dhx_root_id");if(!w&&!k)return this.cancelCanDrop(g),this._transferData.dropComponentId=u,this._transferData.target=null,void this._canDrop(g);var S=this._transferData,T=S.dropComponentId,E=S.start,M=S.source,O=S.target,I=S.componentId,D=S.dropPosition;if(r.config.dropBehaviour==="complex"){var A=function(U){var j=U.clientY,$=(0,p.locateNode)(U);if(!$)return null;var q=$.childNodes[0];if(q){var X=q.getBoundingClientRect();return(j-X.top)/X.height}}(g);this._transferData.dropPosition=A<=.25?"top":A>=.75?"bottom":"in"}else if((O===w||O===k)&&T===u)return;var F={id:E,component:this._transferData.component};r.config.dragMode!=="source"&&(F.component.events.fire(o.DragEvents.dragOut,[{start:E,source:M,target:O},g]),u!==I||!(0,h.isTreeCollection)(F.component.data)||(0,h.isTreeCollection)(F.component.data)&&F.component.data.canCopy(F.id,w)?(this.cancelCanDrop(g),this._transferData.target=w||k,this._transferData.dropComponentId=u,F.component.events.fire(o.DragEvents.dragIn,[{start:E,source:M,target:O,dropPosition:D},g])&&this._canDrop(g)):this.cancelCanDrop(g))}else this._canMove&&this.cancelCanDrop(g)}else this._canMove&&this.cancelCanDrop(g)},l.prototype._move=function(g,d){var t=g.component.data,a=d.component.data,u=0,r=d.id,c=(0,h.isTreeCollection)(a)?d.component.config.dropBehaviour:void 0,v=g.component.config.columns?g.component.config:void 0,x=v&&(v.dragItem==="both"||v.dragItem==="column")&&v.columns.map(function(U){return U.id}).filter(function(U){return U===g.id||U===d.id}).length;if(x&&g.component===d.component){if(g.id===d.id)return;var w=(k=(S=g.component).config.columns.map(function(U){return m({},U)})).findIndex(function(U){return U.id===g.id});return(M=k.findIndex(function(U){return U.id===d.id}))===-1?void 0:(k.splice(M,0,k.splice(w,1)[0]),S.setColumns(k),void S.paint())}if(x&&g.component instanceof i.ProGrid&&d.component instanceof i.ProGrid){var k,S=g.component,T=d.component,E=(w=(k=S.config.columns.map(function(U){return m({},U)})).findIndex(function(U){return U.id===g.id}),T.config.columns.map(function(U){return m({},U)})),M=E.findIndex(function(U){return U.id===d.id}),O=E.findIndex(function(U){return U.id===g.id})>=0?"".concat(g.id,"_copy"):g.id,I=[];S.data.forEach(function(U){var j;I.push(((j={})[O]=U[g.id],j))}),T.data.forEach(function(U,j){T.data.update(U.id,m(m({},U),I[j]))});var D=k.splice(w,1)[0];return D.id=O,E.splice(M,0,D),T.setColumns(E),T.paint(),S.setColumns(k),void S.paint()}var A=d.id===d.component.config.rootParent;switch(c){case"child":break;case"sibling":r=a.getParent(r),u=a.getIndex(d.id)+1;break;case"complex":var F=this._transferData.dropPosition;A?(r=d.id,u=a.getLength()):F==="top"?(r=a.getParent(r),u=a.getIndex(d.id)):F==="bottom"&&(r=a.getParent(r),u=a.getIndex(d.id)+1);break;default:u=d.id?g.component===d.component&&a.getIndex(g.id)<a.getIndex(d.id)?a.getIndex(d.id)-1:a.getIndex(d.id):-1}this._transferData.dragConfig.dragCopy?this._transferData.source instanceof Array&&this._transferData.source.length>1?this._transferData.source.map(function(U){t.copy(U,u,a,r),u>-1&&u++}):t.copy(g.id,u,a,r):this._transferData.source instanceof Array&&this._transferData.source.length>1?this._transferData.source.map(function(U){t.move(U,u,a,r),u>-1&&u++}):t.move(g.id,u,a,r)},l.prototype._endDrop=function(g){if(this._toggleTextSelection(!1),this._transferData.component){var d=this._transferData,t={start:d.start,source:d.source,target:d.target};this._transferData.component.events.fire(o.DragEvents.afterDrag,[t,g])}this.cancelCanDrop(g),this._canMove=!0,this._transferData={},this._transferData.target=null,this._transferData.dropComponentId=null},l.prototype._canDrop=function(g){this._canMove=!0;var d=this._transferData,t={start:d.start,source:d.source,target:d.target,dropPosition:d.dropPosition},a=e.collectionStore.getItem(this._transferData.dropComponentId);a&&this._transferData.target&&a.events.fire(o.DragEvents.canDrop,[t,g])},l.prototype._toggleTextSelection=function(g){g?document.body.classList.add("dhx_no-select"):document.body.classList.remove("dhx_no-select")},l}(),f=window.dhxHelpers=window.dhxHelpers||{};f.dragManager=f.dragManager||new s,n.dragManager=f.dragManager},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(i,e,o,h){h===void 0&&(h=o);var s=Object.getOwnPropertyDescriptor(e,o);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(i,h,s)}:function(i,e,o,h){h===void 0&&(h=o),i[h]=e[o]}),b=this&&this.__exportStar||function(i,e){for(var o in i)o==="default"||Object.prototype.hasOwnProperty.call(e,o)||m(e,i,o)};Object.defineProperty(n,"__esModule",{value:!0}),n.getTreeCell=void 0,b(y(53),n),b(y(136),n),b(y(3),n),b(y(26),n);var p=y(35);Object.defineProperty(n,"getTreeCell",{enumerable:!0,get:function(){return p.getTreeCell}}),b(y(14),n),b(y(8),n)},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(h){for(var s,f=1,l=arguments.length;f<l;f++)for(var g in s=arguments[f])Object.prototype.hasOwnProperty.call(s,g)&&(h[g]=s[g]);return h},m.apply(this,arguments)},b=this&&this.__spreadArray||function(h,s,f){if(f||arguments.length===2)for(var l,g=0,d=s.length;g<d;g++)!l&&g in s||(l||(l=Array.prototype.slice.call(s,0,g)),l[g]=s[g]);return h.concat(l||Array.prototype.slice.call(s))};Object.defineProperty(n,"__esModule",{value:!0}),n.Exporter=void 0;var p=y(8),i=y(7),e=y(1),o=function(){function h(s){this._view=s}return h.prototype.xlsx=function(s){return this._export(s)},h.prototype.csv=function(s){var f;s===void 0&&(s={}),s=m({asFile:!0,rowDelimiter:`
`,columnDelimiter:",",skipHeader:0},s),f="getRoot"in this._view.data&&s.flat?this.getFlatCSV(s):this._getCSV(s);var l=s.name||"grid_export";return s.asFile&&(0,e.downloadFile)(f,"".concat(l,".csv"),"text/csv"),f},h.prototype._export=function(s){s===void 0&&(s={});for(var f=this._view.config.columns.filter(function(O){return!O.hidden}),l={},g=(0,p.transpose)(f.map(function(O){return O.header.map(function(I){return I.text||" "})})),d=[],t={default:{color:"#000000",background:"#FFFFFF",fontSize:14}},a=[],u={},r=this._view.data.serialize().map(function(O,I){l[O.id]=I;var D=f.map(function(A,F){return u[A.id]=F,(0,p.removeHTMLTags)(O[A.id])});return D}),c=[],v=this._view.content,x=function(O){if(O.footer){var I=O.id,D=w._view.data.serialize().reduce(function(ft,st){return st[I]===void 0||st[I]===""||isNaN(st[I])||ft.push(parseFloat(st[I])),ft},[]),A=D;if(w._view.config.type==="tree"){var F=w._view.data;A=F.serialize().reduce(function(ft,st){if(st.$level===0)if(st[I]===void 0||st[I]===""||isNaN(st[I])){var at=0;F.eachChild(st.id,function(dt){F.haveItems(dt.id)||(at+=parseFloat(dt[I]))}),ft.push(at)}else ft.push(parseFloat(st[I])||0);return ft},[])}if(O.footer[0].content){var U=v[O.footer[0].content].calculate(D,A);c.push(U)}else c.push(O.footer[0].css||O.footer[0].text||" ")}for(var j in d.push({width:O.width}),O.$cellCss){var $=O.$cellCss[j],q=$.split("").reduce(function(ft,st){var at=(ft<<5)-ft+st.charCodeAt(0);return Math.abs(0|at)},0).toString();if(!t[q]){var X=document.body,Q=(0,p.getStyleByClass)($,X,"dhx_grid-row",t.default);Q&&(t[q]=Q)}t[q]&&a.push([l[j],f.indexOf(O),q])}},w=this,k=0,S=f;k<S.length;k++)x(S[k]);c.length&&r.push(c);var T={name:s.name||"data",columns:d,header:g,data:r,styles:{cells:a,css:t}};if(s.url){var E=document.createElement("form");E.setAttribute("target","_blank"),E.setAttribute("action",s.url),E.setAttribute("method","POST"),E.style.visibility="hidden";var M=document.createElement("textarea");M.setAttribute("name","data"),M.value=JSON.stringify(T),E.appendChild(M),document.body.appendChild(E),E.submit(),setTimeout(function(){E.parentNode.removeChild(E)},100)}return T},h.prototype.getFlatCSV=function(s){var f=this._view.data,l=f.getRoot(),g=this._view.config.columns[0],d=f.getMaxLevel(),t="";f.eachChild(l,function(c){var v=function(x,w){for(var k=[],S=0;S<=d;S++)if(x&&x[g.id]){k[x.$level]=x[g.id];var T=w.getParent(x.id,!0);x=T&&T.id?T:null}else k[S]="";return k}(c,f).join(s.columnDelimiter);t+=v+Object.keys(c).reduce(function(x,w,k){return w==="id"||w==="parent"||w.startsWith("$")||k===0?x:x+s.columnDelimiter+(c[w]===null?"":c[w])},""),t+=s.rowDelimiter});var a=this._export(s),u=function(c,v){for(var x=0;x<c.length;x++)c[x]=v;return c}(new Array(d+1),""),r=a.header.map(function(c){return c.splice.apply(c,b([0,1],u,!1)),c});return new i.CsvDriver(s).serialize(r,!0)+s.rowDelimiter+t},h.prototype._getCSV=function(s){var f=this._export(s),l=f.header,g=new i.CsvDriver(s);return g.serialize(l,!0)+`
`+g.serialize(f.data,!0)},h}();n.Exporter=o},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var m=y(0),b=y(1),p=y(7),i=y(5),e=y(3),o=y(19),h=function(){function s(f,l,g,d){this._grid=f,this.config=l,this._gridId=d,this._selectedCell=void 0,this._oldSelectedCell=void 0,this._selectedCells=[],this._type=["cell","row","complex"].includes(this._grid.config.selection)?this._grid.config.selection:"complex",this._multiselection=f.config.multiselection&&this._type!=="complex",this.events=g||new i.EventSystem(this),this._init()}return s.prototype.setCell=function(f,l,g,d){var t=this;if(g===void 0&&(g=!1),d===void 0&&(d=!1),this._gridId&&o.focusManager.getFocusId()!==this._gridId&&o.focusManager.setFocusId(this._gridId),!(this.config.disabled||this._grid.config.$editable||!this._multiselection&&this._oldSelectedCell&&this._oldSelectedCell.row.id===(f&&f.id||f)&&this._oldSelectedCell.column.id===(l&&l.id||l)||this._multiselection&&this._selectedCells.length===1&&this._selectedCells[0].row.id===(f&&f.id||f)&&this._selectedCells[0].column.id===(l&&l.id||l)))if((!this._multiselection||g||d)&&this._multiselection||this._selectedCells.length&&this._removeCells(),this._multiselection&&this._type==="cell"&&this._selectedCells.find(function(E){return E.row.id===(f&&f.id||f)&&E.column.id===(l&&l.id||l)}))this.removeCell(f&&f.id||f,l&&l.id||l);else{var a=this._oldSelectedCell?this._oldSelectedCell:void 0;f=this._grid.data.getItem(f&&f.id||f);var u=this._grid.config.columns.filter(function(E){return!E.hidden});if(l||(l=u[0]),(l=this._grid.getColumn(l.id||l))&&f&&(l=l.id?l:this._grid.getColumn(l),this.events.fire(e.GridSelectionEvents.beforeSelect,[f,l]))){if(this._selectedCell={row:f,column:l},this.events.fire(e.GridSelectionEvents.afterSelect,[f,l]),this._multiselection&&d&&a?this._oldSelectedCell=a:this._oldSelectedCell=this._selectedCell,this._multiselection)if(d&&!g&&this._selectedCells.length>0){var r=this._grid.data.getIndex(this._oldSelectedCell.row.id),c=this._grid.data.getIndex(f.id);if(r>c){var v=r;r=c,c=v}if(this._selectedCells=[this._oldSelectedCell],this._type==="cell"){var x=u.map(function(E){return E.id}),w=x.indexOf(a.column.id),k=x.indexOf(l.id);if(w!==-1&&k!==-1){w>k&&(v=w,w=k,k=v);var S=u.slice(w,k+1);this._grid.data.mapRange(r,c,function(E){S.forEach(function(M){var O={row:E,column:M};t._findIndex(O)===-1&&t._selectedCells.push(O)})})}}else this._grid.data.mapRange(r,c,function(E){var M={row:E,column:l};t._findIndex(M)===-1&&t._selectedCells.push(M)})}else if(g&&!d){var T=this._findIndex();T===-1?this._selectedCells.push({row:this._selectedCell.row,column:this._selectedCell.column}):this._selectedCells.length>1&&this._selectedCells.splice(T,1)}else this._selectedCells=[this._selectedCell];else this._selectedCells=[this._selectedCell];(0,m.awaitRedraw)().then(function(){t._grid.paint(),t._setBrowserFocus()})}}},s.prototype.getCell=function(){return this._selectedCell},s.prototype.getCells=function(){return this._selectedCells},s.prototype.toHTML=function(){var f=this;if(!this._isUnselected()){if(this._multiselection){var l=[];return this._selectedCells.forEach(function(g,d,t){l.push(f._toHTML(g.row,g.column,d===t.length-1||f._type==="cell"))}),l}return this._toHTML(this._selectedCell.row,this._selectedCell.column,!0)}},s.prototype.disable=function(){this.removeCell(),this.config.disabled=!0,this._grid.paint()},s.prototype.enable=function(){this.config.disabled=!1,this._grid.paint()},s.prototype.removeCell=function(f,l){var g=this;if(f&&l&&this._type==="cell"){var d=this._selectedCells.find(function(t){var a=t.row,u=t.column;return a.id==f&&u.id==l});d&&this._removeCell(d.row,d.column)}else f?this._selectedCells.filter(function(t){return t.row.id==f}).forEach(function(t){var a=t.row,u=t.column;g._removeCell(a,u)}):this._removeCells();(0,m.awaitRedraw)().then(function(){g._grid.paint()})},s.prototype._removeCell=function(f,l){if(f&&l&&f.id&&l.id&&this.events.fire(e.GridSelectionEvents.beforeUnSelect,[f,l])){var g=this._selectedCells.findIndex(function(d){return d.row.id===f.id&&d.column.id===l.id});this._selectedCells.splice(g,1),this._selectedCell&&l.id===this._selectedCell.column.id&&f.id===this._selectedCell.row.id&&(this._selectedCell=this._selectedCells[this._selectedCells.length-1]||void 0),this.events.fire(e.GridSelectionEvents.afterUnSelect,[f,l])}},s.prototype._removeCells=function(){var f=this;this._selectedCells.forEach(function(l){f._removeCell(l&&l.row,l&&l.column)}),this._selectedCells.length&&this._removeCells()},s.prototype._init=function(){var f=this;this._grid.events.on(e.GridEvents.cellClick,function(l,g,d){f.setCell(l,g,d.ctrlKey||d.metaKey,d.shiftKey)}),this._grid.data.events.on(p.DataEvents.beforeRemove,function(l){if(l&&f._selectedCell&&f._selectedCell.row){var g=f._grid.data.getIndex(String(f._selectedCell.row.id)),d=f._grid.data.getId(g+1);if(d)f.setCell(d);else{var t=f._grid.data.getId(g-1);t&&f.setCell(t)}f._grid.paint()}})},s.prototype._toHTML=function(f,l,g){g===void 0&&(g=!1);var d=this._grid.data.getRawData(0,-1,null,2);if((0,b.findIndex)(d,function(T){return T.id==f.id})===-1)return null;var t,a=this._grid.config.columns.filter(function(T){return!T.hidden}),u=this._grid.config.leftSplit?a.slice(0,this._grid.config.leftSplit):[],r=u.map(function(T){return T.id}),c=u.reduce(function(T,E){return T+E.$width},0),v=this._grid.getCellRect(f.id,l.id),x=this._grid.getScrollState();r.includes(l.id)&&g&&(t=(0,m.el)(".dhx_grid-selected-cell",{style:{width:this._grid.config.leftSplit===r.indexOf(l.id)+1?v.width-1:v.width,height:v.height,top:v.y,left:v.x+x.x,position:"absolute",zIndex:10}}));var w=u.length&&c>v.x-x.x,k=v.width;w&&(k-=c-(v.x-x.x));var S=this._grid.config.$totalWidth;return(0,m.el)(".dhx_grid-selection",{style:{zIndex:t||this._grid.config.selection==="row"||this._grid.config.selection==="complex"?20:10}},[(this._type==="row"||this._type==="complex")&&(0,m.el)(".dhx_grid-selected-row",{style:{width:u.length?S-x.x:S,height:v.height-1,top:v.y,left:u.length?x.x:0,position:"absolute"}}),(this._type==="cell"||this._type==="complex")&&t||(this._type==="cell"||this._type==="complex")&&g&&(0,m.el)(".dhx_grid-selected-cell",{style:{width:k,height:v.height-1,top:v.y,left:w?c+x.x:v.x,position:"absolute",display:k>0?"flex":"none",borderLeft:w?"none":null}})])},s.prototype._isUnselected=function(){return!this._selectedCell||!this._selectedCell.row||!this._selectedCell.column||this._selectedCells.length===0},s.prototype._findIndex=function(f){var l=this;f===void 0&&(f=this._selectedCell);var g=-1;return this._selectedCells.some(function(d,t){if(l._type==="cell"){if((0,b.compare)(d.row,f.row)&&(0,b.compare)(d.column,f.column))return g=t,!0}else if(l._type==="row"&&(0,b.compare)(d.row,f.row))return g=t,!0}),g},s.prototype._setBrowserFocus=function(){var f=this._grid.getRootView().data.getRootNode();if(f){var l=f.querySelector(".dhx_grid_data");if(l&&this._selectedCell&&this._selectedCell.row&&this._selectedCell.column){var g=l.querySelector('[dhx_id="'.concat(this._selectedCell.row.id,'"]')),d=this._grid.getSpan(this._selectedCell.row.id,this._selectedCell.column.id);if(g){var t=d?f.querySelector(".dhx_span-spans"):null,a=t?t.querySelector('[dhx_col_id="'.concat(d.column,'"][dhx_id="').concat(d.row,'"]')):g.querySelector('[dhx_col_id="'.concat(this._selectedCell.column.id,'"]'));a&&(a.tabIndex=0,a.focus({preventScroll:!0}))}}}},s}();n.Selection=h},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.getEditor=void 0;var m,b=y(3),p=y(112),i=y(113),e=y(114),o=y(123),h=y(124),s=y(131),f={cell:{row:null,col:null},editor:null,gridId:null};n.getEditor=function(l,g,d){var t=g.type==="boolean"?"checkbox":d.$editable.editorType;if(t===void 0&&(t=d.autoHeight?"textarea":"input"),f.cell.row===l.id&&f.cell.col===g.id&&f.gridId===d.gridId&&d.$editable.editor)return f.editor;switch(t!=="checkbox"&&(f={cell:{row:l.id,col:g.id},editor:f.editor,gridId:d.gridId}),m||(m=function(){f={cell:{row:null,col:null},editor:null,gridId:null}},d.events.on(b.GridEvents.afterEditEnd,m)),t){case"input":default:return f.editor=new p.InputEditor(l,g,d);case"textarea":return f.editor=new s.TextAreaEditor(l,g,d);case"select":return f.editor=new i.SelectEditor(l,g,d);case"datePicker":return f.editor=new e.DateEditor(l,g,d);case"checkbox":return new o.CheckboxEditor(l,g,d);case"multiselect":case"combobox":return f.editor=new h.ComboboxEditor(l,g,d)}}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.InputEditor=void 0;var m=y(0),b=y(3),p=y(1),i=function(){function e(o,h,s){this._config=s,this._cell={row:o,col:h},this._initHandlers()}return e.prototype.endEdit=function(o){var h;o||(h=this._input.value),this._config.events.fire(b.GridEvents.beforeEditEnd,[h,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._cell.col.type!=="string"&&(0,p.isNumeric)(h)&&(h=parseFloat(h)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(b.GridEvents.afterEditEnd,[h,this._cell.row,this._cell.col])):this._input.focus()},e.prototype.toHTML=function(){var o=this._cell.row[this._cell.col.id];return this._input&&(o=this._input.value),this._config.$editable.editor=this,(0,m.el)("input.dhx_cell-editor.dhx_cell-editor__input",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",value:o})},e.prototype._initHandlers=function(){var o=this;this._handlers={onBlur:function(){o.endEdit()},onChange:function(){o.endEdit()},didInsert:function(h){var s=h.el;o._input=s,s.focus(),s.setSelectionRange(0,s.value.length),s.addEventListener("change",o._handlers.onChange),s.addEventListener("blur",o._handlers.onBlur)}}},e}();n.InputEditor=i},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.SelectEditor=void 0;var m=y(0),b=y(3),p=function(){function i(e,o,h){this._config=h,this._cell={row:e,col:o},this._initHandlers()}return i.prototype.endEdit=function(e){var o;e||(o=this._input.value),this._config.events.fire(b.GridEvents.beforeEditEnd,[o,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("keydown",this._handlers.onkeydown),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(b.GridEvents.afterEditEnd,[o,this._cell.row,this._cell.col])):this._input.focus()},i.prototype.toHTML=function(){var e=this._cell.col.options||[],o=this._cell.row[this._cell.col.id];this._input&&(o=this._input.options[this._input.selectedIndex].value);var h=e.map(function(s){return(0,m.el)("option",{selected:s===o},s)});return this._config.$editable.editor=this,(0,m.el)("select.dhx_cell-editor.dhx_cell-editor__select",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor"},h)},i.prototype._initHandlers=function(){var e=this;this._handlers={onBlur:function(){e.endEdit()},onkeydown:function(o){o.key==="Escape"&&e.endEdit()},didInsert:function(o){var h=o.el;e._input=h,h.focus(),h.addEventListener("blur",e._handlers.onBlur),h.addEventListener("keydown",e._handlers.onkeydown)}}},i}();n.SelectEditor=p},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.DateEditor=void 0;var m=y(0),b=y(3),p=y(55),i=y(25),e=y(15),o=function(){function h(s,f,l){var g=this;this._config=l,this._cell={row:s,col:f},this._calendar=new p.Calendar(null,{dateFormat:f.format});var d=this._cell.row[this._cell.col.id],t=this._calendar.config.dateFormat;((0,i.stringToDate)(d,t,!0)||d instanceof Date)&&(this._calendar.setValue(d),this._value=this._calendar.getValue(),this._cell.row[this._cell.col.id]=this._value),this._popup=new e.Popup({css:"dhx_widget--bordered"}),this._popup.attach(this._calendar),this._calendar.events.on(p.CalendarEvents.change,function(){g.endEdit(!1,!0)}),this._popup.events.on(e.PopupEvents.afterHide,function(){g.endEdit()}),this._initHandlers()}return h.prototype.endEdit=function(s,f){var l=this;if(this._handlers){var g=this._calendar.config.dateFormat,d=this._cell.row[this._cell.col.id];if(!s){if(d instanceof Date||f)return this._value=this._calendar.getValue(),this._input.value=this._value,void this._popup.hide();(0,i.stringToDate)(this._input.value,g,!0)&&(d&&this._input.value.length===d.length||!d)&&(this._value=this._input.value)}this._config.events.fire(b.GridEvents.beforeEditEnd,[this._value,this._cell.row,this._cell.col])?(this._input.removeEventListener("focus",this._handlers.onFocus),this._input.removeEventListener("change",this._handlers.onChange),document.removeEventListener("mousedown",this._handlers.onOuterClick),(0,m.awaitRedraw)().then(function(){l._popup.destructor(),l._calendar.destructor()}),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(b.GridEvents.afterEditEnd,[this._value,this._cell.row,this._cell.col])):this._input.focus()}},h.prototype.toHTML=function(){var s=this._cell.row[this._cell.col.id];return this._config.$editable.editor=this,document.addEventListener("mousedown",this._handlers.onOuterClick),(0,m.el)("input.dhx_cell-editor.dhx_cell-editor__input.dhx_cell-editor__datepicker",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",value:s})},h.prototype._initHandlers=function(){var s=this;this._handlers={onFocus:function(){(0,m.awaitRedraw)().then(function(){s._popup.show(s._input,{centering:!0,mode:"bottom"})})},onChange:function(){s.endEdit()},onOuterClick:function(f){if(f.target instanceof Node){var l=s._input&&s._input.contains(f.target),g=s._popup&&s._popup.getRootNode()&&s._popup.getRootNode().contains(f.target);l||g||s._popup.hide()}},didInsert:function(f){var l=f.el;s._input=l,s._input.addEventListener("focus",s._handlers.onFocus),s._input.addEventListener("change",s._handlers.onChange),l.focus(),l.setSelectionRange(l.value.length,l.value.length)}}},h}();n.DateEditor=o},function(P,n,y){var m,b=this&&this.__extends||(m=function(u,r){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,v){c.__proto__=v}||function(c,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(c[x]=v[x])},m(u,r)},function(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function c(){this.constructor=u}m(u,r),u.prototype=r===null?Object.create(r):(c.prototype=r.prototype,new c)}),p=this&&this.__assign||function(){return p=Object.assign||function(u){for(var r,c=1,v=arguments.length;c<v;c++)for(var x in r=arguments[c])Object.prototype.hasOwnProperty.call(r,x)&&(u[x]=r[x]);return u},p.apply(this,arguments)},i=this&&this.__spreadArray||function(u,r,c){if(c||arguments.length===2)for(var v,x=0,w=r.length;x<w;x++)!v&&x in r||(v||(v=Array.prototype.slice.call(r,0,x)),v[x]=r[x]);return u.concat(v||Array.prototype.slice.call(r))};Object.defineProperty(n,"__esModule",{value:!0}),n.Calendar=void 0;var e=y(1),o=y(0),h=y(5),s=y(6),f=y(116),l=y(122),g=y(25),d=y(58),t=y(2),a=function(u){function r(c,v){v===void 0&&(v={});var x=u.call(this,c,(0,e.extend)({weekStart:"sunday",thisMonthOnly:!1,dateFormat:window&&window.dhx&&window.dhx.dateFormat,width:"250px"},v))||this;switch(x._selected=[],x.events=new h.EventSystem,x.config.disabledDates=x.config.disabledDates||x.config.block,x.config.mode=x.config.mode||x.config.view,x.config.dateFormat||(x.config.timePicker?x.config.timeFormat===12?x.config.dateFormat="%d/%m/%y %h:%i %A":x.config.dateFormat="%d/%m/%y %H:%i":x.config.dateFormat="%d/%m/%y"),x.config.value&&x._setSelected(x.config.value),x.config.date?x._currentDate=g.DateHelper.toDateObject(x.config.date,x.config.dateFormat):x._getSelected()?x._currentDate=g.DateHelper.copy(x._getSelected()):x._currentDate=new Date,x.config.mode){case"month":x._currentViewMode="month";break;case"year":x._currentViewMode="year";break;default:x._currentViewMode="calendar"}if(x._initHandlers(),x.config.timePicker){x._timepicker=new f.Timepicker(null,{timeFormat:x.config.timeFormat,controls:!0});var w=x._getSelected()||new Date;x._timepicker.setValue(w),x._time=x._timepicker.getValue(),x._timepicker.events.on(f.TimepickerEvents.afterClose,function(){x._timepicker.setValue(x._time),x.showDate(null,"calendar")}),x._timepicker.events.on(f.TimepickerEvents.afterApply,function(){var k=x._timepicker.getValue(!0),S=k.hour,T=k.minute,E=k.AM,M=x._getSelected(),O=g.DateHelper.withHoursAndMinutes(x._getSelected()||new Date,S,T,E);x.events.fire(d.CalendarEvents.beforeChange,[O,M,!0])&&(x._selected[x._selected.length-1]=O,x.events.fire(d.CalendarEvents.change,[O,M,!0])),x._time=x._timepicker.getValue(),x.showDate(null,"calendar")})}return x.mount(c,(0,o.create)({render:function(){return x._draw()}})),x}return b(r,u),r.prototype.setValue=function(c){if(!c||c instanceof Array&&c.length===0)return!1;this._selected=[];var v=c instanceof Array?c[0]:c,x=g.DateHelper.toDateObject(v,this.config.dateFormat),w=g.DateHelper.copy(this._getSelected());return!!this.events.fire(d.CalendarEvents.beforeChange,[x,w,!1])&&(this._setSelected(c),this._timepicker&&(this._timepicker.setValue(x),this._time=this._timepicker.getValue()),this.showDate(this._getSelected()),this.events.fire(d.CalendarEvents.change,[x,w,!1]),this.paint(),!0)},r.prototype.getValue=function(c){var v=this;return c===void 0&&(c=!1),this._selected[0]?this.config.range?c?this._selected.map(function(x){return g.DateHelper.copy(x)}):this._selected.map(function(x){return(0,g.getFormattedDate)(v.config.dateFormat,x)}):c?g.DateHelper.copy(this._selected[0]):(0,g.getFormattedDate)(this.config.dateFormat,this._selected[0]):""},r.prototype.getCurrentMode=function(){return this._currentViewMode},r.prototype.showDate=function(c,v){c&&(this._currentDate=g.DateHelper.copy(c)),v&&(this._currentViewMode=v),this.paint()},r.prototype.destructor=function(){this._linkedCalendar&&this._unlink(),this._timepicker&&this._timepicker.destructor(),this.events&&this.events.clear(),this.config=this.events=null,this._uid=this._selected=this._currentDate=this._currentViewMode=this._handlers=this._timepicker=this._time=null,this.unmount()},r.prototype.clear=function(){var c=this.getValue(!0);this.config.timePicker&&(this._timepicker.clear(),this._time=this._timepicker.getValue()),this._selected=[],this.showDate(null,this.config.mode),this.events.fire(d.CalendarEvents.change,[this.getValue(!0),c,!1])},r.prototype.link=function(c){var v=this;this._linkedCalendar&&this._unlink(),this._linkedCalendar=c;var x=this.getValue(!0),w=c.getValue(!0),k=x&&g.DateHelper.dayStart(x),S=w&&g.DateHelper.dayStart(w);this.config.$rangeMark&&this._linkedCalendar.config.$rangeMark||(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=function(T){if(k&&S)return T>=k&&T<=S&&function(E){if(g.DateHelper.isSameDay(S,k))return null;var M="dhx_calendar-day--in-range";return g.DateHelper.isSameDay(E,k)&&(M+=" dhx_calendar-day--first-date"),g.DateHelper.isSameDay(E,S)&&(M+=" dhx_calendar-day--last-date"),M}(T)}),this.config.disabledDates&&this._linkedCalendar.config.disabledDates||(this.config.disabledDates=function(T){if(S)return T>S},this._linkedCalendar.config.disabledDates=function(T){if(k)return T<k}),this.config.thisMonthOnly=!0,c.config.thisMonthOnly=!0,this.events.on(d.CalendarEvents.change,function(T){k=g.DateHelper.dayStart(T),v._linkedCalendar.paint()},"link"),this._linkedCalendar.events.on(d.CalendarEvents.change,function(T){S=g.DateHelper.dayStart(T),v.paint()},"link"),this._linkedCalendar.paint(),this.paint()},r.prototype._unlink=function(){this._linkedCalendar&&(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=null,this.config.disabledDates=this._linkedCalendar.config.disabledDates=null,this.events.detach(d.CalendarEvents.change,"link"),this._linkedCalendar.events.detach(d.CalendarEvents.change,"link"),this._linkedCalendar.paint(),this._linkedCalendar=null)},r.prototype._setSelected=function(c){var v=this,x=c instanceof Array?c[0]:c,w=g.DateHelper.toDateObject(x,this.config.dateFormat);if(c instanceof Array&&this.config.range){var k=[];c.forEach(function(S,T){T<2&&k.push(g.DateHelper.toDateObject(S,v.config.dateFormat))}),k.length===2&&k[0]<k[1]?k.forEach(function(S){return v._selected.push(S)}):this._selected[0]=k[0]}else this._selected[0]=w},r.prototype._getSelected=function(){return this._selected[this._selected.length-1]},r.prototype._draw=function(){switch(this._currentViewMode){case"calendar":return this.events.fire(d.CalendarEvents.modeChange,["calendar"]),this._drawCalendar();case"month":return this.events.fire(d.CalendarEvents.modeChange,["month"]),this._drawMonthSelector();case"year":return this.events.fire(d.CalendarEvents.modeChange,["year"]),this._drawYearSelector();case"timepicker":return this.events.fire(d.CalendarEvents.modeChange,["timepicker"]),this._drawTimepicker()}},r.prototype._initHandlers=function(){var c=this,v={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Esc:"Escape",Spacebar:"Space"},x=function(w){w===void 0&&(w=!1);var k=0;switch(c._currentViewMode){case"calendar":k=w?-7:7;break;case"month":case"year":k=w?-4:4}return k};this._handlers={onkeydown:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(w,k){switch(function(S){var T;if(S.which>=48&&S.which<=57||S.which>=65&&S.which<=90)T=String.fromCharCode(S.which);else{var E=S.which===32?S.code:S.key;T=(0,t.isIE)()&&v[E]||E}return T}(w)){case"Enter":c._selectDate(w,k);break;case"ArrowLeft":c._moveBrowseFocus(w,k,-1);break;case"ArrowRight":c._moveBrowseFocus(w,k,1);break;case"ArrowUp":c._moveBrowseFocus(w,k,x(!0));break;case"ArrowDown":c._moveBrowseFocus(w,k,x())}}},onclick:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(w,k){c._selectDate(w,k)},".dhx_calendar-action__cancel":function(){c.showDate(c._getSelected(),"calendar"),c.events.fire(d.CalendarEvents.cancelClick,[])},".dhx_calendar-action__show-month":function(){return c.showDate(null,"month")},".dhx_calendar-action__show-year":function(){return c.showDate(null,"year")},".dhx_calendar-action__next":function(){var w;switch(c._currentViewMode){case"calendar":w=g.DateHelper.addMonth(c._currentDate,1);break;case"month":w=g.DateHelper.addYear(c._currentDate,1);break;case"year":w=g.DateHelper.addYear(c._currentDate,12)}c.showDate(w)},".dhx_calendar-action__prev":function(){var w;switch(c._currentViewMode){case"calendar":w=g.DateHelper.addMonth(c._currentDate,-1);break;case"month":w=g.DateHelper.addYear(c._currentDate,-1);break;case"year":w=g.DateHelper.addYear(c._currentDate,-12)}c.showDate(w)},".dhx_calendar-action__show-timepicker":function(){c._currentViewMode="timepicker",c.paint()}},onmouseover:{".dhx_calendar-day":function(w,k){c.events.fire(d.CalendarEvents.dateMouseOver,[new Date(k.attrs._date),w]),c.events.fire(d.CalendarEvents.dateHover,[new Date(k.attrs._date),w])}}}},r.prototype._getData=function(c){var v=this;this._isSelectedInCurrentRange=!1;for(var x=this.config.weekStart==="monday"?1:0,w=[],k=6,S=g.DateHelper.weekStart(g.DateHelper.monthStart(c),x);k--;){for(var T=g.DateHelper.getWeekNumber(S),E=0,M=7,O=[],I=function(){var A=g.DateHelper.isWeekEnd(S),F=c.getMonth()===S.getMonth(),U=D.config.disabledDates&&D.config.disabledDates(S),j=[];if(D.config.range&&D._selected[0]&&D._selected[1]){var $=function(){if(v._selected[0]&&v._selected[1]){var X=g.DateHelper.dayStart(v._selected[0]),Q=g.DateHelper.dayStart(v._selected[1]);return S>=X&&S<=Q&&(g.DateHelper.isSameDay(v._selected[0],v._selected[1])?null:"dhx_calendar-day--in-range")}};D.config.$rangeMark=$}if(A&&F&&j.push("dhx_calendar-day--weekend"),F||(D.config.thisMonthOnly?(E++,j.push("dhx_calendar-day--hidden")):j.push("dhx_calendar-day--muffled")),D.config.mark){var q=D.config.mark(S);q&&j.push(q)}D.config.$rangeMark&&($=D.config.$rangeMark(S))&&j.push($),U&&(A?j.push("dhx_calendar-day--weekend-disabled"):j.push("dhx_calendar-day--disabled")),D._selected.forEach(function(X,Q){if(X&&g.DateHelper.isSameDay(X,S)){v._isSelectedInCurrentRange=!0;var ft="dhx_calendar-day--selected";v.config.range&&(ft+=" dhx_calendar-day--selected-".concat(Q===0?"first ":"last")),j.push(ft)}}),O.push({date:S,day:S.getDate(),css:j.join(" ")}),S=g.DateHelper.addDay(S)},D=this;M--;)I();w.push({weekNumber:T,days:O,disabledWeekNumber:E===7})}return w},r.prototype._drawCalendar=function(){for(var c,v=this,x=this._currentDate,w=this.config,k=w.weekStart,S=w.thisMonthOnly,T=w.css,E=w.timePicker,M=w.width,O=(k==="monday"?i(i([],g.locale.daysShort.slice(1),!0),[g.locale.daysShort[0]],!1):g.locale.daysShort).map(function(st){return(0,o.el)(".dhx_calendar-weekday",st)}),I=this._getData(x),D=!0,A=this._getSelected(),F=function(st){var at={role:"button",tabindex:-1,"aria-pressed":"false"};return st&&(v._isSelectedInCurrentRange?function(dt){return dt&&A&&dt.getTime()===A.getTime()}(st.date)&&(at.tabindex=0,at["aria-pressed"]="true"):D&&(at.tabindex=0),D=!1),at},U=[],j=[],$=0,q=I;$<q.length;$++){var X=q[$],Q=X.days.map(function(st){return(0,o.el)("div.dhx_calendar-day",p({class:st.css,_date:st.date},F(st)),st.day)});!this.config.weekNumbers||X.disabledWeekNumber&&S||j.push((0,o.el)("div",{class:"dhx_calendar-week-number"},X.weekNumber)),U=U.concat(Q)}this.config.weekNumbers&&(c=(0,o.el)(".dhx_calendar__week-numbers",j));var ft="dhx_calendar dhx_widget"+(T?" "+T:"")+(E?" dhx_calendar--with_timepicker":"")+(this.config.weekNumbers?" dhx_calendar--with_week-numbers":"");return(0,o.el)("div",p({class:ft,style:{width:this.config.weekNumbers?"calc(".concat(M," + 48px )"):M}},this._handlers),[(0,o.el)(".dhx_calendar__wrapper",[this._drawHeader((0,o.el)("button.dhx_calendar-action__show-month.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},g.locale.months[x.getMonth()]+" "+x.getFullYear())),this.config.weekNumbers&&(0,o.el)(".dhx_calendar__dates-wrapper",[(0,o.el)(".dhx_calendar__weekdays",O),(0,o.el)(".dhx_calendar__days",U),c]),!this.config.weekNumbers&&(0,o.el)(".dhx_calendar__weekdays",O),!this.config.weekNumbers&&(0,o.el)(".dhx_calendar__days",U),E?(0,o.el)(".dhx_timepicker__actions",[(0,o.el)("button.dhx_calendar__timepicker-button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__show-timepicker",{type:"button"},[(0,o.el)("span.dhx_button__icon.dxi.dxi-clock-outline"),(0,o.el)("span.dhx_button__text",this._time)])]):null])])},r.prototype._drawMonthSelector=function(){var c=this._currentDate,v=c.getMonth(),x=this._getSelected()?this._getSelected().getFullYear():null,w=this.config,k=w.css,S=w.timePicker,T=w.weekNumbers,E=w.width,M=w.mode,O="dhx_calendar dhx_widget"+(k?" "+k:"")+(S?" dhx_calendar--with_timepicker":"")+(T?" dhx_calendar--with_week-numbers":""),I=!0,D=x===c.getFullYear(),A=function(F){return D&&v===F};return(0,o.el)("div",p({class:O,style:{width:T?"calc(".concat(E," + 48px)"):E}},this._handlers),[(0,o.el)(".dhx_calendar__wrapper",[this._drawHeader((0,o.el)("button.dhx_calendar-action__show-year.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},c.getFullYear())),(0,o.el)(".dhx_calendar__months",g.locale.monthsShort.map(function(F,U){return(0,o.el)("div",p(p({class:"dhx_calendar-month"+(A(U)?" dhx_calendar-month--selected":"")},function(j,$){var q={role:"button",tabindex:-1,"aria-pressed":"false"};return j&&(D?A($)&&(q.tabindex=0,q["aria-pressed"]="true"):I&&(q.tabindex=0),I=!1),q}(F,U)),{_date:U}),F)})),M!=="month"?(0,o.el)(".dhx_calendar__actions",[(0,o.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},g.locale.cancel)]):null])])},r.prototype._drawYearSelector=function(){var c=this,v=this._currentDate,x=g.DateHelper.getTwelweYears(v),w=this.config,k=w.css,S=w.timePicker,T=w.weekNumbers,E=w.width,M=w.mode,O="dhx_calendar dhx_widget"+(k?" "+k:"")+(S?" dhx_calendar--with_timepicker":"")+(T?" dhx_calendar--with_week-numbers":""),I=!0,D=this._getSelected()&&x.includes(this._getSelected().getFullYear()),A=function(F){return c._getSelected()&&F===c._getSelected().getFullYear()};return(0,o.el)("div",p({class:O,style:{width:T?"calc(".concat(E," + 48px)"):E}},this._handlers),[(0,o.el)(".dhx_calendar__wrapper",[this._drawHeader((0,o.el)("button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},x[0]+"-"+x[x.length-1])),(0,o.el)(".dhx_calendar__years",x.map(function(F){return(0,o.el)("div",p({class:"dhx_calendar-year"+(A(F)?" dhx_calendar-year--selected":""),_date:F},function(U){var j={role:"button",tabindex:-1,"aria-pressed":"false"};return U&&(D?A(U)&&(j.tabindex=0,j["aria-pressed"]="true"):I&&(j.tabindex=0),I=!1),j}(F)),F)})),M!=="year"&&M!=="month"?(0,o.el)(".dhx_calendar__actions",[(0,o.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},g.locale.cancel)]):null])])},r.prototype._drawHeader=function(c){return(0,o.el)(".dhx_calendar__navigation",[(0,o.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__prev"+l.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"prev",type:"button"},[(0,o.el)(".dhx_button__icon.dxi.dxi-chevron-left")]),c,(0,o.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__next"+l.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"next",type:"button"},[(0,o.el)(".dhx_button__icon.dxi.dxi-chevron-right")])])},r.prototype._drawTimepicker=function(){var c=this.config,v=c.css,x=c.weekNumbers,w=c.width;return(0,o.el)(".dhx_widget.dhx-calendar",{class:v?" "+v:"",style:{width:x?"calc(".concat(w," + 48px)"):w}},[(0,o.inject)(this._timepicker.getRootView())])},r.prototype._selectDate=function(c,v){var x=v.attrs._date,w=g.DateHelper.copy(this._getSelected());switch(this._currentViewMode){case"calendar":var k=this.config.timePicker?g.DateHelper.mergeHoursAndMinutes(x,this._getSelected()||this._currentDate):x;if(!this.events.fire(d.CalendarEvents.beforeChange,[k,w,!0]))return;this.config.range&&this._selected.length===1&&this._selected[0]<k?this._selected.push(k):(this._selected=[],this._selected[0]=k),v.el.blur(),this.showDate(this._getSelected()),this.events.fire(d.CalendarEvents.change,[x,w,!0]);break;case"month":if(this.config.mode!=="month")g.DateHelper.setMonth(this._currentDate,x),this.showDate(null,"calendar"),this.events.fire(d.CalendarEvents.monthSelected,[x]);else{var S=g.DateHelper.fromYearAndMonth(this._currentDate.getFullYear()||this._getSelected().getFullYear(),x);if(!this.events.fire(d.CalendarEvents.beforeChange,[S,w,!0]))return;this._currentDate=S,this._selected[0]=S,this.events.fire(d.CalendarEvents.change,[this._getSelected(),w,!0]),this.events.fire(d.CalendarEvents.monthSelected,[x]),this.paint()}break;case"year":if(this.config.mode!=="year")g.DateHelper.setYear(this._currentDate,x),this.showDate(null,"month"),this.events.fire(d.CalendarEvents.yearSelected,[x]);else{if(S=g.DateHelper.fromYear(x),!this.events.fire(d.CalendarEvents.beforeChange,[S,w,!0]))return;this._currentDate=S,this._selected[0]=S,this.events.fire(d.CalendarEvents.change,[this._getSelected(),w,!0]),this.events.fire(d.CalendarEvents.yearSelected,[x]),this.paint()}}},r.prototype._moveBrowseFocus=function(c,v,x){if(v){var w=v.parent.body[v.idx+x];if(w){var k=w.el;k&&(c.target.tabIndex=-1,k.tabIndex=0,k.focus({preventScroll:!0}))}}},r}(s.View);n.Calendar=a},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(117),n),b(y(57),n)},function(P,n,y){var m,b=this&&this.__extends||(m=function(r,c){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(v[w]=x[w])},m(r,c)},function(r,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function v(){this.constructor=r}m(r,c),r.prototype=c===null?Object.create(c):(v.prototype=c.prototype,new v)}),p=this&&this.__assign||function(){return p=Object.assign||function(r){for(var c,v=1,x=arguments.length;v<x;v++)for(var w in c=arguments[v])Object.prototype.hasOwnProperty.call(c,w)&&(r[w]=c[w]);return r},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Timepicker=void 0;var i=y(1),e=y(0),o=y(5),h=y(6),s=y(23),f=y(118),l=y(120),g=y(121),d=y(57),t=y(2);function a(r,c){return isNaN(r)?0:Math.min(c,Math.max(0,r))}var u=function(r){function c(v,x){x===void 0&&(x={});var w=r.call(this,v,(0,i.extend)({timeFormat:24,controls:!1,valueFormat:"string",actions:!1},x))||this;return w.events=new o.EventSystem(w),w._time={hour:0,minute:0,AM:!0},w.config.timeFormat===12&&(w._time.hour=12),w.config.controls=w.config.controls||w.config.actions,w.config.value&&w._setValue(w.config.value),w._initUI(v),w._initHandlers(),w._initEvents(),w}return b(c,r),c.prototype.getValue=function(v){this.config.timeFormat===12&&(this._time.hour=this._time.hour%12||12);var x=this._time,w=x.hour,k=x.minute,S=x.AM;if(v){var T={hour:w,minute:k};return this.config.timeFormat===12&&(T.AM=S),T}return(w<10?"0"+w:w)+":"+(k<10?"0"+k:k)+(this.config.timeFormat===12?S?"AM":"PM":"")},c.prototype.setValue=function(v){this._setValue(v),this._hoursSlider.setValue(this._time.hour),this._minutesSlider.setValue(this._time.minute),this._inputsView.paint()},c.prototype.clear=function(){this.config.timeFormat===24?this.setValue("00:00"):this.setValue("12:00AM")},c.prototype.destructor=function(){this._minutesSlider&&this._minutesSlider.destructor(),this._hoursSlider&&this._hoursSlider.destructor(),this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this.events=null,this._handlers=this._time=this._inputsView=this._minutesSlider=this._hoursSlider=null,this.unmount()},c.prototype.getRootView=function(){return this.layout.getRootView()},c.prototype._setValue=function(v){var x,w=0,k=0;if(typeof v=="number"&&(v=new Date(v)),v instanceof Date)w=v.getMinutes(),k=v.getHours();else if(Array.isArray(v))k=a(v[0],23),w=a(v[1],59),v[2]&&v[2].toLowerCase()==="pm"&&(x=!0);else if(typeof v=="string"){var S=v.match(/\d+/g);k=a(+S[0],23),w=a(+S[1],59),v.toLowerCase().includes("pm")&&(x=!0)}else typeof v=="object"&&v.hasOwnProperty("hour")&&v.hasOwnProperty("minute")&&(k=v.hour,w=v.minute,x=!v.AM);return x&&k<12&&(k+=12),this.config.timeFormat===12&&!(0,g.isTimeCheck)(v)&&k>=12&&(x=!0),this._time={hour:k,minute:w,AM:!x}},c.prototype._initUI=function(v){var x=this,w={gravity:!1,css:"dhx_widget dhx_timepicker "+(this.config.css?this.config.css:"")+(this.config.controls?" dhx_timepicker--with-controls":""),rows:[{id:"timepicker",css:"dhx_timepicker__inputs"},{id:"hour-slider",css:"dhx_timepicker__hour"},{id:"minute-slider",css:"dhx_timepicker__minute"}]};this.config.controls&&(w.rows.unshift({id:"close-action",css:"dhx_timepicker__close"}),w.rows.push({id:"save-action",css:"dhx_timepicker__save"}));var k=this.layout=new s.Layout(v,w),S=(0,e.create)({render:function(){return x._draw()}}),T=this._inputsView=(0,h.toViewLike)(S),E=this._minutesSlider=new f.Slider(null,{min:0,max:59,step:1,tooltip:!1,labelPosition:"top",label:l.default.minutes,value:this.config.value?this._time.minute:0}),M=this._hoursSlider=new f.Slider(null,{min:0,max:23,step:1,tooltip:!1,labelPosition:"top",label:l.default.hours,value:this.config.value?this._time.hour===12&&this._time.AM?0:this._time.hour:0});k.getCell("timepicker").attach(T),k.getCell("hour-slider").attach(M),k.getCell("minute-slider").attach(E),this.config.controls&&(k.getCell("save-action").attach(function(){return(0,e.el)("button.dhx_timepicker__button-save.dhx_button.dhx_button--view_flat.dhx_button--color_primary.dhx_button--size_small.dhx_button--circle.dhx_button--width_full",{onclick:x._outerHandlers.save,type:"button"},l.default.save)}),k.getCell("close-action").attach(function(){return(0,e.el)("button.dhx_timepicker__button-close.dhx_button.dhx_button--view_link.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary.dhx_button--icon.dhx_button--circle",{_ref:"close",onclick:x._outerHandlers.close,type:"button","aria-label":"close timepicker"},[(0,e.el)("span.dhx_button__icon.dxi.dxi-close")])}))},c.prototype._initHandlers=function(){var v=this,x=function(k){var S=a(parseInt(k.value,10),59);k.value=S.toString(),v._minutesSlider.setValue(S)},w=function(k){var S=a(parseInt(k.value,10),23);k.value=S.toString(),v._minutesSlider.setValue(S)};this._handlers={onchange:{".dhx_timepicker-input--hour":function(k){return w(k.target)},".dhx_timepicker-input--minutes":function(k){return x(k.target)}},oninput:{".dhx_timepicker-input--hour":function(k){((0,t.isSafari)()||(0,t.isFirefox)())&&w(k.target)},".dhx_timepicker-input--minutes":function(k){((0,t.isSafari)()||(0,t.isFirefox)())&&x(k.target)}}},this._outerHandlers={close:function(){v.events.fire(d.TimepickerEvents.beforeClose,[v.getValue(v.config.valueFormat==="timeObject")])&&(v.events.fire(d.TimepickerEvents.afterClose,[v.getValue(v.config.valueFormat==="timeObject")]),v.events.fire(d.TimepickerEvents.close,[]))},save:function(){v.events.fire(d.TimepickerEvents.beforeApply,[v.getValue(v.config.valueFormat==="timeObject")])&&(v.events.fire(d.TimepickerEvents.afterApply,[v.getValue(v.config.valueFormat==="timeObject")]),v.events.fire(d.TimepickerEvents.apply,[v.getValue()]),v.events.fire(d.TimepickerEvents.save,[v._time]))}}},c.prototype._initEvents=function(){var v=this;this._hoursSlider.events.on(f.SliderEvents.change,function(x){x<v._hoursSlider.config.min||x>v._hoursSlider.config.max||(v.config.timeFormat===12?(v._time.AM=x<12,v._time.hour=x%12||12):v._time.hour=x,v.events.fire(d.TimepickerEvents.change,[v.getValue(v.config.valueFormat==="timeObject")]),v._inputsView.paint())}),this._minutesSlider.events.on(f.SliderEvents.change,function(x){x<v._minutesSlider.config.min||x>v._minutesSlider.config.max||(v._time.minute=x,v.events.fire(d.TimepickerEvents.change,[v.getValue(v.config.valueFormat==="timeObject")]),v._inputsView.paint())})},c.prototype._draw=function(){return(0,e.el)(".dhx_timepicker-inputs",p({},this._handlers),[(0,e.el)("input.dhx_timepicker-input.dhx_timepicker-input--hour",{_key:"hour",_ref:"hour",value:this.getValue(!0).hour.toString().length>1?this.getValue(!0).hour:"0"+this.getValue(!0).hour,"aria-label":"hours"}),(0,e.el)("span.dhx_timepicker-delimer",":"),(0,e.el)("input.dhx_timepicker-input.dhx_timepicker-input--minutes",{_key:"minute",value:this.getValue(!0).minute.toString().length>1?this.getValue(!0).minute:"0"+this.getValue(!0).minute,"aria-label":"minutes"}),this.config.timeFormat===12?(0,e.el)(".dhx_timepicker-ampm",this._time.AM?"AM":"PM"):null])},c}(h.View);n.Timepicker=u},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(119),n),b(y(56),n)},function(P,n,y){var m,b=this&&this.__extends||(m=function(a,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,c){r.__proto__=c}||function(r,c){for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&(r[v]=c[v])},m(a,u)},function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function r(){this.constructor=a}m(a,u),a.prototype=u===null?Object.create(u):(r.prototype=u.prototype,new r)}),p=this&&this.__assign||function(){return p=Object.assign||function(a){for(var u,r=1,c=arguments.length;r<c;r++)for(var v in u=arguments[r])Object.prototype.hasOwnProperty.call(u,v)&&(a[v]=u[v]);return a},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Slider=void 0;var i=y(1),e=y(0),o=y(5),h=y(18),s=y(6),f=y(15),l=y(56),g=y(2);function d(a,u,r){return a<u?u:a>r?r:a}var t=function(a){function u(r,c){var v=a.call(this,r,(0,i.extend)({mode:"horizontal",min:0,max:100,step:1,tooltip:!0},c))||this;v._disabled=!1,v.config.helpMessage=v.config.helpMessage||v.config.help,v.config.thumbLabel!==void 0&&(v.config.tooltip=v.config.thumbLabel),v.config.labelInline&&(v.config.labelPosition="left"),v.events=new o.EventSystem(v),v._axis=v.config.mode==="horizontal"?"clientX":"clientY",v._initStartPosition(),v._keyManager=new h.KeyManager(function(){var w;return document.activeElement===((w=v.getRootView().refs[v._isExtraActive?"extraRunner":"runner"])===null||w===void 0?void 0:w.el)}),v._initHotkeys();var x=(0,e.create)({render:function(){return v._draw()},hooks:{didMount:function(){return v._calcSliderPosition()},didRedraw:function(){return v._calcSliderPosition()}}});return v._initHandlers(),v.mount(r,x),v}return b(u,a),u.prototype.disable=function(){this._disabled=!0,this.paint()},u.prototype.enable=function(){this._disabled=!1,this.paint()},u.prototype.isDisabled=function(){return this._disabled},u.prototype.focus=function(r){this.getRootView().refs[r?"extraRunner":"runner"].el.focus()},u.prototype.blur=function(){this.getRootView().refs[this._isExtraActive?"extraRunner":"runner"].el.blur()},u.prototype.getValue=function(){var r;if(this.config.range){var c=this._getValue(this._currentPosition),v=this._getValue(this._extraCurrentPosition);r=c<v?[c,v]:[v,c]}else r=[this._getValue(this._currentPosition)];return r},u.prototype.setValue=function(r){var c=this._getValue(this._currentPosition);if(Array.isArray(r)&&r.length>1){var v=this._getValue(this._extraCurrentPosition);this._setValue(r[0],!1),this.events.fire(l.SliderEvents.change,[r[0],c,!1]),this._setValue(r[1],!0),this.events.fire(l.SliderEvents.change,[r[1],v,!0])}else{if(r=parseFloat(r),isNaN(r))throw new Error("Wrong value type, for more info check documentation https://docs.dhtmlx.com/suite/slider__api__slider_setvalue_method.html");this._setValue(r),this.events.fire(l.SliderEvents.change,[r,c,!1])}this.paint()},u.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),this._tooltip=null,this.unmount()},u.prototype._calcSliderPosition=function(){var r=this.getRootView();if(r){var c=r.refs.track.el.getBoundingClientRect();this._offsets={left:c.left+window.pageXOffset,top:c.top+window.pageYOffset},this._length=this.config.mode==="horizontal"?c.width:c.height}},u.prototype._initHotkeys=function(){var r=this,c={arrowLeft:function(x){x.preventDefault(),r._move(-r.config.step,x.target.classList.contains("dhx_slider__thumb--extra"))},arrowRight:function(x){x.preventDefault(),r._move(r.config.step,x.target.classList.contains("dhx_slider__thumb--extra"))},arrowUp:function(x){x.preventDefault(),r._move(r.config.step,x.target.classList.contains("dhx_slider__thumb--extra"))},arrowDown:function(x){x.preventDefault(),r._move(-r.config.step,x.target.classList.contains("dhx_slider__thumb--extra"))}};for(var v in c)this._keyManager.addHotKey(v,c[v])},u.prototype._move=function(r,c){this.config.inverse&&(r=-r);var v=this.config,x=v.max,w=v.min,k=c?this._getValue(this._extraCurrentPosition):this._getValue(this._currentPosition),S=k+r;this._setValue(k+r,c),(S>x||S<w)&&(S=k),this.events.fire(l.SliderEvents.change,[S,k,c]),this.paint()},u.prototype._initStartPosition=function(){var r=this.config,c=r.max,v=r.min,x=r.range,w=function(T,E,M){var O;return(O=T===void 0?[]:Array.isArray(T)?T:typeof T=="string"?T.split(",").map(function(I){return parseInt(I,10)}):[T])[0]=O[0]===void 0?E:d(O[0],E,M),O[1]=O[1]===void 0?M:d(O[1],E,M),O}(this.config.value,this.config.min,this.config.max),k=w[0],S=w[1];this._currentPosition=(k-v)/(c-v)*100,x&&(this._extraCurrentPosition=(c-S)/(c-v)*100),this._currentPosition=(k-v)/(c-v)*100,x&&(this._extraCurrentPosition=(S-v)/(c-v)*100),this._isInverse()&&(this._currentPosition=100-this._currentPosition,x&&(this._extraCurrentPosition=100-this._extraCurrentPosition))},u.prototype._getValue=function(r){this._isInverse()&&(r=100-r);var c=this.config,v=c.min,x=c.max,w=c.step;if(r===100)return x;if(r===0)return v;var k=r*(x-v)/100,S=k%w,T=S>=w/2?w:0;return+(Number(v)+Number(k)-S+T).toFixed(5)},u.prototype._setValue=function(r,c){c===void 0&&(c=!1);var v=this.config,x=v.max,w=v.min;if(r>x||r<w)return!1;var k=(r-w)/(x-w)*100,S=this._isInverse()?100-k:k;c?this._extraCurrentPosition=S:this._currentPosition=S},u.prototype._initHandlers=function(){var r=this,c=function(w){!w.targetTouches&&w.preventDefault();var k=((w.targetTouches?w.targetTouches[0][r._axis]:w[r._axis])-r._getBegining())/r._length*100;if(r._findNewDirection){if(Math.abs(r._currentPosition-k)<1)return;k>r._currentPosition?r._possibleRange=[r._currentPosition,100]:r._possibleRange=[0,r._currentPosition],r._findNewDirection=null}r._inSide(k)&&r._updatePosition(k,r._isExtraActive),r.paint()},v=function(w){r.events.fire(l.SliderEvents.mouseup,[w]),setTimeout(function(){r._isMouseMoving=!1,r.paint()},4),w.targetTouches?(document.removeEventListener("touchend",v),document.removeEventListener("touchmove",c)):(document.removeEventListener("mouseup",v),document.removeEventListener("mousemove",c))},x=function(w){var k;if(!r._disabled&&w.which!==3)if(r.events.fire(l.SliderEvents.mousedown,[w]),r._isMouseMoving=!0,w.target.classList.contains("dhx_slider__thumb--extra")?(r._isExtraActive=!0,k=r._extraCurrentPosition):(r._isExtraActive=!1,k=r._currentPosition),r._findNewDirection=null,r.config.range){var S=r._currentPosition>r._extraCurrentPosition?[r._currentPosition,r._extraCurrentPosition]:[r._extraCurrentPosition,r._currentPosition],T=S[0],E=S[1];r._currentPosition===r._extraCurrentPosition?(r._findNewDirection=k,r._possibleRange=[0,100]):r._possibleRange=k<T?[0,T]:[E,100]}else r._possibleRange=[0,100]};this.config.helpMessage&&(this._helper=new f.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(w){w.preventDefault(),w.stopPropagation(),r._helper.show(w.target)},onmousedown:function(w){x(w),document.addEventListener("mousemove",c),document.addEventListener("mouseup",v)},ontouchstart:function(w){r._setTooltip(w),r._mouseIn=!1,x(w),document.addEventListener("touchmove",c),document.addEventListener("touchend",v),r.paint()},ontouchend:function(w){r._setTooltip(w),r._mouseIn=!1,r.paint()},onlabelClick:function(){r.getRootView().refs.runner.el.focus()},onclick:function(w){if(!r._disabled&&!r._isMouseMoving&&w.which!==3){var k=(w[r._axis]-r._getBegining())/r._length*100,S=r.getRootView().refs;r.config.range?Math.abs(r._currentPosition-k)<Math.abs(r._extraCurrentPosition-k)?(r._updatePosition(k,!1),S.runner.el.focus()):(r._updatePosition(k,!0),S.extraRunner.el.focus()):(r._updatePosition(k,!1),S.runner.el.focus()),r.paint()}},onmouseover:function(w){r._setTooltip(w),r._mouseIn=!0,r.paint()},onmouseout:function(w){r._setTooltip(w),r._mouseIn=!1,r.paint()},onfocus:function(w){r._setTooltip(w),r._focusIn=!0,r.events.fire(l.SliderEvents.focus,[]),r.paint()},onblur:function(w){r._setTooltip(w),r._focusIn=!1,r.events.fire(l.SliderEvents.blur,[]),r.paint()},onkeydown:function(w){r.events.fire(l.SliderEvents.keydown,[w])}}},u.prototype._getBegining=function(){return this.config.mode==="horizontal"?this._offsets.left-window.pageXOffset:this._offsets.top-window.pageYOffset},u.prototype._inSide=function(r){var c=this._possibleRange;return r<c[0]?(this._updatePosition(c[0],this._isExtraActive),!1):!(r>c[1])||(this._updatePosition(c[1],this._isExtraActive),!1)},u.prototype._updatePosition=function(r,c){c===void 0&&(c=!1),r>100&&(r=100),r<0&&(r=0);var v=this.config,x=v.max,w=v.min,k=c?this._extraCurrentPosition:this._currentPosition,S=this._getValue(k),T=this._getValue(r);if(S!==T){var E=(T-w)/(x-w)*100,M=this._isInverse()?100-E:E;c?this._extraCurrentPosition=M:this._currentPosition=M,this.events.fire(l.SliderEvents.change,[T,S,c])}},u.prototype._getRunnerStyle=function(r){var c;r===void 0&&(r=!1);var v=this.config.mode==="horizontal"?"left":"top",x=r?this._extraCurrentPosition:this._currentPosition;return(c={})[v]=x+"%",c},u.prototype._isInverse=function(){return this.config.inverse&&this.config.mode==="horizontal"||!this.config.inverse&&this.config.mode==="vertical"},u.prototype._getRunnerCss=function(r){return r===void 0&&(r=!1),"dhx_slider__thumb"+(r?" dhx_slider__thumb--extra":"")+(this._isMouseMoving&&(r&&this._isExtraActive||!r&&!this._isExtraActive)?" dhx_slider__thumb--active":"")+(this._disabled?" dhx_slider__thumb--disabled":"")+(this._isNullable(r?this._extraCurrentPosition:this._currentPosition)&&!this.config.range?" dhx_slider__thumb--nullable":"")},u.prototype._draw=function(){var r=this.config,c=r.labelPosition,v=r.mode,x=r.hiddenLabel,w=r.tick,k=r.majorTick,S=r.css,T=r.helpMessage,E=(0,g.getLabelStyle)(p(p({},this.config),{required:!1}));return!this._tooltip||this._mouseIn&&this._focusIn&&this._isMouseMoving||document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),(0,e.el)("div",{class:"dhx_slider dhx_slider--mode_"+v+(c==="left"?" dhx_slider--label-inline":"")+(x?" dhx_slider--label_sr":"")+(w?" dhx_slider--ticks":"")+(k?" dhx_slider--major-ticks":"")+(S?" "+S:"")+(this._disabled?" dhx_slider--disabled":"")},[E?(0,e.el)("label.dhx_label.dhx_slider__label",{style:E.style,class:T?"dhx_label--with-help":"",onclick:this._handlers.onlabelClick},T?[E.label&&(0,e.el)("span.dhx_label__holder",E.label),(0,e.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper})]:E.label):null,this._drawSlider()])},u.prototype._drawSlider=function(){return(0,e.el)(".dhx_widget.dhx_slider__track-holder",{dhx_widget_id:this._uid},[(0,e.el)(".dhx_slider__track",{_ref:"track",onmouseover:this._handlers.onmouseover,onmouseout:this._handlers.onmouseout,onclick:this._handlers.onclick},[this._getDetector(),(0,e.el)("div",{_ref:"runner",class:this._getRunnerCss(),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(),tabindex:0}),this.config.tooltip&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip():null,this.config.tooltip&&this.config.range&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip(!0):null,this.config.range?(0,e.el)("div",{_ref:"extraRunner",class:this._getRunnerCss(!0),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(!0),tabindex:0}):null]),this.config.tick?this._drawTicks():null])},u.prototype._getDetector=function(){var r,c,v;if(this._disabled)return(0,e.el)(".dhx_slider__range");var x=this.config.mode==="horizontal"?"left":"top",w=this.config.mode==="horizontal"?"width":"height";if(this.config.range){var k=this._currentPosition>this._extraCurrentPosition?[this._currentPosition,this._extraCurrentPosition]:[this._extraCurrentPosition,this._currentPosition],S=k[0],T=k[1];return(0,e.el)(".dhx_slider__range",{style:(r={},r[x]=T+"%",r[w]=S-T+"%",r)})}return this._isInverse()?(0,e.el)(".dhx_slider__range",{style:(c={},c[x]=this._currentPosition+"%",c[w]=100-this._currentPosition+"%",c)}):(0,e.el)(".dhx_slider__range",{style:(v={},v[x]=0,v[w]=this._currentPosition+"%",v)})},u.prototype._drawTooltip=function(r){if(r===void 0&&(r=!1),this._activeTooltip!=="none"&&this.getRootView()){var c=this._activeTooltip==="extraTooltip"?this._extraCurrentPosition:this._currentPosition,v=this.config.mode==="horizontal"?"left":"top",x="";(r&&this._isExtraActive||!r&&!this._isExtraActive)&&(x+=" dhx_slider__thumb-label--active"),this._tooltip||(this._tooltip=document.createElement("div"));var w=this._activeTooltip==="tooltip"?this.getRootView().refs.runner.el.getBoundingClientRect():this.getRootView().refs.extraRunner.el.getBoundingClientRect();this._tooltip.className="dhx_slider__thumb-label"+x,this._tooltip.style.left=w.x+(v==="left"?6:-30)+window.pageXOffset+"px",this._tooltip.style.top=w.y+(v==="left"?-30:6)+window.pageYOffset+"px",this._tooltip.innerText=this._getValue(c).toString(),document.body.appendChild(this._tooltip)}},u.prototype._getTicks=function(){for(var r=this.config,c=r.max,v=r.min,x=r.step,w=r.tick,k=r.majorTick,S=c-v,T=x*w/S,E=[],M=0,O=0;M<1;){var I=+(Number(v)+M*S).toFixed(5),D=O%k==0;E.push({position:(this._isInverse()?100*(1-M):100*M)+"%",isMultiple:D,label:D&&typeof this.config.tickTemplate=="function"?this.config.tickTemplate(I):null}),M+=T,O++}return E.push({position:(this._isInverse()?0:100)+"%",isMultiple:!0,label:typeof this.config.tickTemplate=="function"?this.config.tickTemplate(c):null}),E},u.prototype._drawTicks=function(){var r=this.config.mode==="horizontal"?"left":"top";return(0,e.el)(".dhx_slider__ticks-holder",this._getTicks().map(function(c){var v;return(0,e.el)("div",{class:"dhx_slider__tick"+(c.isMultiple?" dhx_slider__tick--major":""),style:(v={},v[r]=c.position,v)},c.label!==void 0?[(0,e.el)(".dhx_slider__tick-label",c.label)]:null)}))},u.prototype._isNullable=function(r){return this._isInverse()?r===100:r===0},u.prototype._setTooltip=function(r){r.target.classList.contains("dhx_slider__thumb--extra")?this._activeTooltip="extraTooltip":r.target.classList.contains("dhx_slider__thumb")?this._activeTooltip="tooltip":this._activeTooltip="none"},u}(s.View);n.Slider=t},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.default={hours:"Hours",minutes:"Minutes",save:"Save"}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.isTimeCheck=void 0,n.isTimeCheck=function(m){return/(^12:[0-5][0-9]?AM$)/i.test(m)}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.linkButtonClasses=void 0,n.linkButtonClasses=".dhx_button.dhx_button--view_link.dhx_button--icon.dhx_button--size_medium.dhx_button--color_secondary"},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.CheckboxEditor=void 0;var m=y(1),b=y(0),p=y(3),i=function(){function e(o,h,s){this._config=s,this._cell={row:o,col:h},this._initHandlers()}return e.prototype.endEdit=function(){var o=this._checked;this._config.events.fire(p.GridEvents.beforeEditEnd,[o,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(p.GridEvents.afterEditEnd,[o,this._cell.row,this._cell.col])):this._input.checked=!o},e.prototype.toHTML=function(){this._checked===void 0&&(this._checked=this._cell.row[this._cell.col.id]);var o=(0,m.uid)();return(0,b.el)("div.dhx_checkbox.dhx_cell-editor__checkbox",[(0,b.el)("label",{style:{display:"none"},for:o},this._checked||"false"),(0,b.el)("input.dhx_checkbox__input",{type:"checkbox",_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor",dhx_id:"cell_editor",checked:this._checked,id:o,style:{userSelect:"none"}}),(0,b.el)("span.dhx_checkbox__visual-input")])},e.prototype._initHandlers=function(){var o=this;this._handlers={onClick:function(){var h=!o._input.checked;o._config.events.fire(p.GridEvents.beforeEditStart,[o._cell.row,o._cell.col,"checkbox"])?(o._checked=h,o._config.events.fire(p.GridEvents.afterEditStart,[o._cell.row,o._cell.col,"checkbox"]),o.endEdit()):o._input.checked=!h},didInsert:function(h){o._checkbox=h.el.parentNode.lastChild,o._input=h.el.parentNode.querySelector("input"),h.el.parentNode.addEventListener("click",o._handlers.onClick)}}},e}();n.CheckboxEditor=i},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.ComboboxEditor=void 0;var m=y(0),b=y(3),p=y(59),i=y(19),e=function(){function o(h,s,f){this._config=f,this._cell={row:h,col:s},this._initHandlers()}return o.prototype.endEdit=function(h){var s;if(!h){var f=this._input.getValue();s=this._cell.col.editorType==="multiselect"?f.split(",").join(", "):f}this._config.events.fire(b.GridEvents.beforeEditEnd,[s,this._cell.row,this._cell.col])?(this._input.popup.hide(),document.removeEventListener("mousedown",this._handlers.onOuterClick),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),i.focusManager.setFocusId(this._config.gridId),this._config.events.fire(b.GridEvents.afterEditEnd,[s,this._cell.row,this._cell.col])):this._input.focus()},o.prototype.toHTML=function(){var h=this,s=this._cell.col.options.map(function(g){return typeof g=="string"?{id:"".concat(g),value:g}:g})||[];if(!this._input){this._input=new p.Combobox(null,{cellHeight:37,css:"dhx_cell-editor__combobox",multiselection:this._cell.col.editorType==="multiselect"}),this._input.data.parse(s);var f=this._cell.row[this._cell.col.id],l=this._cell.col.editorType==="multiselect"?(f||"").split(", "):f;this._input.setValue(l),this._input.events.on("keydown",this._handlers.onkeydown)}return document.addEventListener("mousedown",this._handlers.onOuterClick),this._config.$editable.editor=this,(0,m.awaitRedraw)().then(function(){var g=h._input.getRootView().refs.holder.el;h._input.popup.getContainer().style.width=g.offsetWidth+"px",h._input.popup.show(g)}),i.focusManager.setFocusId(this._input._uid),(0,m.inject)(this._input.getRootView())},o.prototype._initHandlers=function(){var h=this;this._handlers={onOuterClick:function(s){if(s.target instanceof Node){var f=h._input&&h._input.getRootNode()&&h._input.getRootNode().contains(s.target),l=h._input.popup&&h._input.popup.getRootNode()&&h._input.popup.getRootNode().contains(s.target);f||l||h.endEdit()}},onkeydown:function(s){s.key!=="Escape"&&s.key!=="Tab"||h.endEdit()}}},o}();n.ComboboxEditor=e},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.KEY_CODES=void 0,n.KEY_CODES={BACKSPACE:8,ENTER:13,ESC:27,DOWN_ARROW:40,UP_ARROW:38,LEFT_ARROW:37,RIGHT_ARROW:39}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.getEditor=void 0;var m=y(127);n.getEditor=function(b,p){return new m.InputEditor(b,p)}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.InputEditor=void 0;var m=y(0),b=y(36),p=function(){function i(e,o){var h=this;this._list=o,this._config=o.config,this._item=e,this._list.events.on(b.ListEvents.focusChange,function(s,f){h._mode&&f!==h._item.id&&h.endEdit()}),this._initHandlers()}return i.prototype.endEdit=function(){if(this._input){var e=this._input.value;this._list.events.fire(b.ListEvents.beforeEditEnd,[e,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._handlers={},this._mode=!1,this._list.events.fire(b.ListEvents.afterEditEnd,[e,this._item.id])):this._input.focus()}},i.prototype.toHTML=function(){this._mode=!0;var e=this._config.itemHeight;return(0,m.el)(".dhx_input__wrapper",{role:"presentation"},[(0,m.el)("div.dhx_input__container",{role:"presentation"},[(0,m.el)("input.dhx_input",{class:this._item.css?" "+this._item.css:"",style:{height:e,width:"100%",padding:"8px 12px"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,dhx_id:this._item.id})])])},i.prototype._initHandlers=function(){var e=this;this._handlers={onBlur:function(){e.endEdit()},onChange:function(){e.endEdit()},didInsert:function(o){var h=o.el;e._input=h,h.focus(),h.value=e._item.value,h.setSelectionRange(0,h.value.length),h.addEventListener("change",e._handlers.onChange),h.addEventListener("blur",e._handlers.onBlur)}}},i}();n.InputEditor=p},function(P,n,y){var m,b=this&&this.__extends||(m=function(s,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(l[d]=g[d])},m(s,f)},function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=s}m(s,f),s.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)}),p=this&&this.__assign||function(){return p=Object.assign||function(s){for(var f,l=1,g=arguments.length;l<g;l++)for(var d in f=arguments[l])Object.prototype.hasOwnProperty.call(f,d)&&(s[d]=f[d]);return s},p.apply(this,arguments)},i=this&&this.__spreadArray||function(s,f,l){if(l||arguments.length===2)for(var g,d=0,t=f.length;d<t;d++)!g&&d in f||(g||(g=Array.prototype.slice.call(f,0,d)),g[d]=f[d]);return s.concat(g||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.ProList=void 0;var e=y(0),o=y(24),h=function(s){function f(l,g){var d=s.call(this,l,g)||this;return d.scrollView=new o.ScrollView(function(){return d.getRootView()}),d.paint(),d}return b(f,s),f.prototype.destructor=function(){s.prototype.destructor.call(this),this.scrollView=null},f.prototype.showItem=function(l){var g=this.getRootView();if(g&&g.node&&g.node.el&&l!==void 0){var d=this.getRootNode();if(d){var t=this.config.virtual,a=this.data.getIndex(l),u=Math.floor(a/d.children.length)||0,r=d.children[a-d.children.length*u];if(t||r){var c=t?parseInt(this.config.itemHeight):r.clientHeight,v=t?a*c:r.offsetTop;v>=d.scrollTop+d.clientHeight-c?d.scrollTo(0,v-d.clientHeight+c):v<d.scrollTop&&d.scrollTo(0,v)}}}},f.prototype._renderList=function(){var l=this,g=this._getRange(),d=this.data.getRawData(g[0],g[1]).map(function(u,r){return l._renderItem(u,r)});this.config.virtual&&(d=i(i([(0,e.el)(".div",{style:{height:g[2]+"px"}})],d,!0),[(0,e.el)(".div",{style:{height:g[3]+"px"}})],!1));var t=this.scrollView&&this.scrollView.config.enable,a=(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(t?" dhx_list--scroll-view":"");return(0,e.el)("ul.dhx_widget.dhx_list",p(p({style:{"max-height":this.config.height,position:"relative"},class:a,dhx_widget_id:this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),t?[].concat(this.scrollView.render(d)):d)},f}(y(62).List);n.ProList=h},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.KeyListener=void 0;var m=function(){function b(){var p=this;this._sequence="",document.addEventListener("keydown",function(i){if(p._isActive){var e=i.key;e==="Backspace"&&p._sequence.length>0&&(p._sequence=p._sequence.slice(0,p._sequence.length-1),p._change()),e.length<2&&(p._sequence+=e,p._change())}})}return b.prototype.startNewListen=function(p){this._isActive=!0,this._sequence="",this._currentAction=p},b.prototype.endListen=function(){this._currentAction=null,this.reset(),this._isActive=!1},b.prototype.reset=function(){this._sequence=""},b.prototype._change=function(){this._currentAction(this._sequence),this._addClearTimeout()},b.prototype._addClearTimeout=function(){var p=this;this._clearTimeout&&clearTimeout(this._clearTimeout),this._clearTimeout=setTimeout(function(){p.reset(),p._clearTimeout=null},2e3)},b}();n.KeyListener=m},function(P,n,y){var m,b=this&&this.__extends||(m=function(s,f){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(l[d]=g[d])},m(s,f)},function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=s}m(s,f),s.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)});Object.defineProperty(n,"__esModule",{value:!0}),n.ProCombobox=void 0;var p=y(60),i=y(61),e=y(23),o=y(65),h=function(s){function f(l,g){return s.call(this,l,g)||this}return b(f,s),f.prototype._createLayout=function(){var l=this.list=new i.ProList(null,{template:this.config.template,virtual:this.config.virtual,keyNavigation:!1,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),g=this._layout=new e.ProLayout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll}}});g.getCell("list").attach(l),this.config.multiselection&&this.config.selectAllButton&&g.getCell("select-unselect-all").attach(o.selectAllView)},f}(p.Combobox);n.ProCombobox=h},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(h){for(var s,f=1,l=arguments.length;f<l;f++)for(var g in s=arguments[f])Object.prototype.hasOwnProperty.call(s,g)&&(h[g]=s[g]);return h},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.TextAreaEditor=void 0;var b=y(0),p=y(3),i=y(1),e=y(14),o=function(){function h(s,f,l){this._config=l,this._cell={row:s,col:f},this._width=this._cell.col.$width;var g=0;this._config.firstColId===this._cell.col.id&&this._cell.row.hasOwnProperty("$level")&&(g=(0,e.getTreeCellWidthOffset)(this._cell.row)),this._width-=g-4,this._initHandlers()}return h.prototype.endEdit=function(s){var f;s||(f=this._editor.value),this._config.events.fire(p.GridEvents.beforeEditEnd,[f,this._cell.row,this._cell.col])?(this._editor.removeEventListener("blur",this._handlers.onBlur),this._editor.removeEventListener("change",this._handlers.onChange),this._editor.removeEventListener("input",this._handlers.onInput),this._cell.col.type!=="string"&&(0,i.isNumeric)(f)&&(f=parseFloat(f)),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(p.GridEvents.afterEditEnd,[f,this._cell.row,this._cell.col])):this._editor.focus()},h.prototype.toHTML=function(){var s=this._cell.row[this._cell.col.id];this._editor&&(s=this._editor.value),this._config.$editable.editor=this;var f=this._cell.row.height!==void 0||this._cell.col.htmlEnable?"dhx_cell-editor dhx_cell-editor__textarea_constant-height":"dhx_cell-editor dhx_cell-editor__textarea";return(0,b.el)("textarea",{_hooks:{didInsert:this._handlers.didInsert},_ref:"textarea",_key:"cell_editor",dhx_id:"cell_editor",value:s,class:f,style:{width:this._width}})},h.prototype._initHandlers=function(){var s=this;this._handlers={onBlur:function(){s.endEdit()},onChange:function(){s.endEdit()},onInput:function(f){var l;if(s._cell.row.height===void 0&&!s._cell.col.htmlEnable){var g=s._getCurrentHeight(s._editor.value,{width:s._cell.col.$width-2,maxHeight:s._config.rowHeight});s._cell.row[s._cell.col.id]=s._editor.value;var d=(0,e.getCalculatedRowHeight)((0,e.getMaxRowHeight)(s._cell.row,s._config.columns)),t=(0,e.getCalculatedRowHeight)((0,e.getMaxRowHeight)(((l={})[s._cell.col.id]=s._cell.row[s._cell.col.id],l),s._config.columns));if(s._minHeight=d===t?s._config.rowHeight:d,g>=s._minHeight&&g!==s._prevHeight){if(!s._config.events.fire(p.GridEvents.beforeRowResize,[s._cell.row,f,g]))return;s._config.events.fire(p.GridEvents.afterRowResize,[s._cell.row,f,g])}s._prevHeight=g}},didInsert:function(f){s._editor=f.el,s._editor.focus(),s._editor.setSelectionRange(0,s._editor.value.length),s._editor.addEventListener("change",s._handlers.onChange),s._editor.addEventListener("blur",s._handlers.onBlur),s._editor.addEventListener("input",s._handlers.onInput)}}},h.prototype._getCurrentHeight=function(s,f){f=m({width:100,maxHeight:40,lineHeight:20},f);var l=document.createElement("textarea");l.className="dhx_cell-editor dhx_cell-editor__textarea",l.value=s,l.style.width="".concat(f.width,"px"),l.style.lineHeight="".concat(f.lineHeight,"px"),l.style.maxHeight="".concat(f.maxHeight,"px"),l.style.boxSizing="border-box",document.body.appendChild(l);var g=this._getElementHeight(l),d=l.value.split(`
`).length,t=Math.round(g/f.lineHeight),a=g<f.maxHeight?f.maxHeight:g;return document.body.removeChild(l),d===1&&d===t?f.maxHeight:a},h.prototype._getElementHeight=function(s){return s.scrollHeight},h}();n.TextAreaEditor=o},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(s){for(var f,l=1,g=arguments.length;l<g;l++)for(var d in f=arguments[l])Object.prototype.hasOwnProperty.call(f,d)&&(s[d]=f[d]);return s},m.apply(this,arguments)},b=this&&this.__spreadArray||function(s,f,l){if(l||arguments.length===2)for(var g,d=0,t=f.length;d<t;d++)!g&&d in f||(g||(g=Array.prototype.slice.call(f,0,d)),g[d]=f[d]);return s.concat(g||Array.prototype.slice.call(f))};Object.defineProperty(n,"__esModule",{value:!0}),n.getFixedCols=n.getFixedColsHeader=void 0;var p=y(0),i=y(2),e=y(35),o=y(67),h=y(8);n.getFixedColsHeader=function(s,f){if(typeof s.leftSplit=="number"){for(var l=0,g=0;g<s.leftSplit;g++)s.columns[g].hidden&&l++;if(l!==s.leftSplit){for(var d=s.columns.slice(0,s.leftSplit-l),t=0,a=0,u=d;a<u.length;a++)t+=u[a].$width;var r=s.leftSplit>=0&&(0,o.getFixedRows)(m(m({},s),{currentColumns:d,$positions:m(m({},s.$positions),{xStart:0,xEnd:s.leftSplit}),scroll:{top:0,left:0},columns:d}),m(m({},f),{name:"header",position:"top",shifts:{x:0,y:0}})),c=m(m({},f),{name:"header",position:"top"});return r&&(0,p.el)(".dhx_".concat(c.name,"-fixed-cols"),m({style:{position:"absolute",top:0,left:0,maxWidth:t,overflow:"hidden"}},{role:"rowgroup","aria-rowcount":r.length}),r.body)}}},n.getFixedCols=function(s,f){if(typeof s.leftSplit=="number"){for(var l=0,g=0;g<s.leftSplit;g++)s.columns[g].hidden&&l++;if(l!==s.leftSplit){var d=s.$totalWidth<=f.wrapper.width?0:(0,i.getScrollbarWidth)(),t=s.$totalHeight+s.headerHeight+s.footerHeight,a=t>f.gridBodyHeight?t-d:t<f.gridBodyHeight-d?t:f.gridBodyHeight,u=s.columns.slice(0,s.leftSplit-l);s.fixedColumnsWidth=(0,h.getTotalWidth)(u);var r=(0,e.getCells)(m(m({},s),{columns:u,$positions:m(m({},s.$positions),{xStart:0,xEnd:s.leftSplit})})),c=f.sticky,v=m(m({},f),{name:"footer",position:"bottom"}),x=s.leftSplit>=0&&(0,o.getRows)(m(m({},s),{currentColumns:u,$positions:m(m({},s.$positions),{xStart:0,xEnd:s.leftSplit})}),m(m({},f),{name:"footer",position:"bottom"})),w=0;x&&x.forEach(function(M){return w+=M.attrs.style.height});var k=function(M){return{role:"rowgroup","aria-rowcount":M}},S=c?x&&(0,p.el)(".dhx_".concat(v.name,"-fixed-cols"),m({style:{position:"absolute",top:a<f.gridBodyHeight?a-w:null,left:0,bottom:a>=f.gridBodyHeight?"".concat(0+(c?d:0),"px"):null}},k(x.length)),x):null,T=s.$positions,E=(0,e.getSpans)(s,!0);return[(0,p.el)(".dhx_grid-fixed-cols-wrap",m({style:{height:a>=f.gridBodyHeight?(c?f.gridBodyHeight:f.gridBodyHeight+s.headerHeight)-d:a,paddingTop:s.headerHeight,overflow:"hidden",width:s.fixedColumnsWidth}},{role:"presentation","aria-label":"Fixed column"}),[(0,p.el)(".dhx_grid-fixed-cols",m(m({style:{top:-s.scroll.top+s.headerHeight-1+"px",paddingTop:f.shifts.y,height:s.$totalHeight,position:"absolute"},_flags:p.KEYED_LIST},(0,e.getHandlers)(T.yStart,T.xStart,s)),k(s.data.length)),b([E&&(0,p.el)(".dhx_span-spans",{role:"presentation"},[E])],r,!0)),(0,p.el)(".dhx_frozen-cols-border",{role:"presentation"})]),s.$footer?S:null]}}}},function(P,n,y){var m=this&&this.__spreadArray||function(d,t,a){if(a||arguments.length===2)for(var u,r=0,c=t.length;r<c;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return d.concat(u||Array.prototype.slice.call(t))};Object.defineProperty(n,"__esModule",{value:!0}),n.getContent=void 0;var b,p=y(0),i=y(59),e=y(7),o=y(3),h=y(14),s=y(2),f=y(1);function l(d,t,a,u,r){var c=function(){var v=(0,s.isIE)()||(0,s.isSafari)()?r.target.value:r.path?r.path[0].value:r.explicitOriginalTarget.value;u.value[t]=v,d.fire(o.GridEvents.filterChange,[v,t,a])};a!=="selectFilter"?(b&&clearTimeout(b),b=setTimeout(c,250)):c()}function g(d,t,a,u){if(d&&t&&a){var r=d.id,c=u?u(r,t.data):t.data.reduce(function(x,w){return w[r]===void 0||w[r]===""||isNaN(w[r])||x.push(parseFloat(w[r])),x},[]),v=c;return t.type==="tree"&&(v=t.data.reduce(function(x,w){if(w.$level===0)if(w[r]===void 0||w[r]===""||isNaN(w[r])){var k=0;t.datacollection.eachChild(w.id,function(S){t.datacollection.haveItems(S.id)||(k+=parseFloat(S[r]))}),x.push(k)}else x.push(parseFloat(w[r])||0);return x},[])),a(c,v)}}n.getContent=function(){var d=this;return{inputFilter:{element:{},toHtml:function(t,a){var u=(0,f.uid)(),r=t.id.toString();return this.element[r]=(0,p.el)("div.dhx_grid-filter__label.dxi.dxi-magnify",{"aria-label":"Type to search",_ref:"".concat(t.id,"_filter")},[(0,p.el)("label",{style:{display:"none"},"aria-label":"Type to search",for:u},"Type to search"),(0,p.el)("input",{type:"text",class:"dhx_input dhx_grid-filter",oninput:[l,a.events,t.id,"inputFilter",this],_key:t.id,id:u,value:this.value[t.id]||""})]),this.element[r]},match:function(t,a){for(var u="",r=0;r<a.length;r++){var c=a.charCodeAt(r);u+=c>32&&c<48||c===63||c>90&&c<95||c===124?"\\"+a[r]:a[r]}return new RegExp("".concat(u),"i").test(t)},value:{}},selectFilter:{element:{},toHtml:function(t,a){var u=this,r=t.id.toString();return this.element[r]=(0,p.el)("label.dhx_grid-filter__label.dxi.dxi-menu-down",{_ref:"".concat(t.id,"_filter")},[(0,p.el)("select.dxi.dxi-menu-down",{type:"text",class:"dhx_input dhx_grid-filter dhx_grid-filter--select",onchange:[l,a.events,t.id,"selectFilter",this],_key:t.id},m([(0,p.el)("option",{value:""},"")],t.$uniqueData.map(function(c){return(c=c!=null?c:"")!==""&&(0,p.el)("option",{value:c,selected:u.value[t.id]===c.toString()},c)}),!0))]),this.element[r]},match:function(t,a){return!a||t&&t.toString()==a},value:{}},comboFilter:{element:{},toHtml:function(t,a){var u,r=t.id.toString();if(!this.element[r]&&a.events){var c=t.header.filter(function(v){return v.filterConfig!==void 0})[0];(u=c&&c.filterConfig?new i.Combobox(null,Object.assign({},c.filterConfig)):new i.Combobox(null,{})).data.parse(t.$uniqueData.map(function(v){return{value:v}})),a.events.on(e.DataEvents.load,function(){u.data.parse(t.$uniqueData.map(function(v){return{value:v}}))}),this.element[r]=u,u.events.on("change",function(v){if(v){var x=void 0;(Array.isArray(v)?v.find(function(w){return u.data.getItem(w)}):u.data.getItem(v))?(x=u.config.multiselection?u.list.selection.getItem().map(function(w){if(w&&u.data.getItem(w.id))return w.value}):u.list.selection.getItem().value,a.events.fire(o.GridEvents.filterChange,[x,r,"comboFilter"])):a.events.fire(o.GridEvents.filterChange,["",r,"comboFilter"])}}),a.events.on(e.DataEvents.change,function(v,x){x!=="add"&&x!=="update"&&x!=="remove"||(u.data.parse(t.$uniqueData.map(function(w){return{value:w}})),u.events.fire(i.ComboboxEvents.change,[u.list.selection.getItem()]))}),a.events.on(e.DataEvents.removeAll,function(){u.data.parse(t.$uniqueData.map(function(v){return{value:v}})),u.events.fire(i.ComboboxEvents.change,[u.list.selection.getItem()])}),u.popup.events.on("afterHide",function(){(!u.list.selection.getItem()||u.config.multiselection&&!u.list.selection.getItem().length)&&(u.clear(),a.events.fire(o.GridEvents.filterChange,["",r,"comboFilter"]))})}else u=this.element[t.id]||new i.Combobox(null,{});return(0,p.inject)(u.getRootView())},match:function(t,a,u,r){if(a===void 0&&(a=""),r===void 0&&(r=!1),Array.isArray(a)){for(var c=void 0,v=function(w){if(c=r?!!t.split(", ").find(function(k){return k===a[w]}):a[w]===t)return"break"},x=0;x<a.length&&v(x)!=="break";x++);return!a||!a.length||c}return a===""||t===a},destroy:function(){if(d.content&&d.content.comboFilter.element){var t=d.content.comboFilter.element;for(var a in t)t[a].destructor(),delete t[a]}},value:{}},sum:{calculate:function(t,a){return a.reduce(function(u,r){return u+(parseFloat(r)||0)},0)},toHtml:function(t,a){var u=g(t,a,this.calculate);return t.format||t.type==="percent"?(0,h.toFormat)(u,t.type,t.format):u?u.toFixed(3):null}},avg:{calculate:function(t,a){return t.length?a.reduce(function(u,r){return u+r},0)/t.length:null},toHtml:function(t,a){var u=g(t,a,this.calculate);return t.format||t.type==="percent"?(0,h.toFormat)(u,t.type,t.format):u?u.toFixed(3):null}},min:{calculate:function(t){return t.length?Math.min.apply(Math,t):null},toHtml:function(t,a){var u=g(t,a,this.calculate);return t.format||t.type==="percent"?(0,h.toFormat)(u,t.type,t.format):u?u.toFixed(3):null}},max:{calculate:function(t){return t.length?Math.max.apply(Math,t):null},toHtml:function(t,a){var u=g(t,a,this.calculate);return t.format||t.type==="percent"?(0,h.toFormat)(u,t.type,t.format):u?u.toFixed(3):null}},count:{calculate:function(t,a){return a.reduce(function(u,r){return u+r},0)},validate:function(t,a){return a.reduce(function(u,r){return r[t]!==void 0&&r[t]!==""&&(isNaN(r)?u.push(1):u.push(r)),u},[])},toHtml:function(t,a){return g(t,a,this.calculate,this.validate)}}}}},function(P,n,y){var m=this&&this.__spreadArray||function(e,o,h){if(h||arguments.length===2)for(var s,f=0,l=o.length;f<l;f++)!s&&f in o||(s||(s=Array.prototype.slice.call(o,0,f)),s[f]=o[f]);return e.concat(s||Array.prototype.slice.call(o))};Object.defineProperty(n,"__esModule",{value:!0}),n.startResize=void 0;var b=y(1),p=y(3),i=y(2);n.startResize=function(e,o,h,s){h.targetTouches&&h.preventDefault();var f=h.targetTouches?h.targetTouches[0].clientX:h.clientX,l=e.config.columns.filter(function(a){return!a.hidden}),g=0;e.config.$resizing=o;var d=function(a){var u=(0,b.findIndex)(l,function(M){return M.id===o}),r=a.targetTouches?a.targetTouches[0].clientX:a.clientX,c=r-e.getRootNode().getBoundingClientRect().left,v=e.config.$totalHeight>e.config.height?(0,i.getScrollbarWidth)():0;if(!(e.config.leftSplit===u+1&&c>=e.config.width-v-2)){g=g||l[u].$width;var x,w=l[u].minWidth||40,k=l[u].maxWidth,S=r-f,T=m([],l,!0),E=g+S;k&&E>=k||E<=w?(E<=w&&(x=w),E>=k&&(x=k)):x=E,T[u].$width=x,T[u].$fixed=!0,e.events.fire(p.GridEvents.resize,[l[u],a]),e.paint()}},t=function(){h.targetTouches?(document.removeEventListener("touchmove",d),document.removeEventListener("touchend",t)):(document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",t)),s()};h.targetTouches?(document.addEventListener("touchmove",d),document.addEventListener("touchend",t)):(document.addEventListener("mousemove",d),document.addEventListener("mouseup",t)),e.paint()}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(o){for(var h,s=1,f=arguments.length;s<f;s++)for(var l in h=arguments[s])Object.prototype.hasOwnProperty.call(h,l)&&(o[l]=h[l]);return o},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.getKeysHandlers=n.selectionMove=void 0;var b=y(3),p=y(2),i=y(8);function e(o,h,s,f,l,g,d){if(l===void 0&&(l=!1),g===void 0&&(g=!1),d===void 0&&(d=!1),!h.config.$editable&&h.config.selection&&!(0,p.locateNodeByClassName)(o,"dhx_grid-header-cell")){o&&o.preventDefault();var t=h.selection.getCell(),a=h.config.columns.filter(function(c){return!c.hidden});if(h.data.filter(function(c){return!c.hidden}),t)if(s==="vertical")if(l){var u=f===1?h.data.getItem(h.data.getId(h.data.getLength()-1)):h.data.getItem(h.data.getId(0));h.selection.setCell(u.id,t.column.id,g,d),h.scrollTo(u.id.toString(),t.column.id.toString())}else(r=h.data.getIndex(t.row.id.toString()))+f>=0&&r+f<h.data.getLength()&&(u=h.data.getItem(h.data.getId(r+f)),h.selection.setCell(u.id,t.column.id,g,d),h.scrollTo(u.id.toString(),t.column.id.toString()));else if(l)u=f===1?a[a.length-1]:a[0],h.selection.setCell(t.row.id,u.id,g,d),h.scrollTo(t.row.id.toString(),u.id.toString());else{var r;(r=a.indexOf(t.column))+f>=0&&r+f<a.length&&(h.selection.setCell(t.row.id,a[r+f].id,g,d),h.scrollTo(t.row.id.toString(),a[r+f].id.toString()))}}}n.selectionMove=e,n.getKeysHandlers=function(o){var h,s,f,l=o.config.selection==="cell"||o.config.selection==="complex"||o.config.selection===!0,g={};if(o.getRootView()){var d=(f=(s=(h=o.getRootView())===null||h===void 0?void 0:h.refs)===null||s===void 0?void 0:s.grid_body)===null||f===void 0?void 0:f.el;if(!d)return;g={pageUp:function(t){t.preventDefault(),d.scrollTop-=d.clientHeight},pageDown:function(t){t.preventDefault(),d.scrollTop+=d.clientHeight},home:function(t){t.preventDefault(),d.scrollTop=0},end:function(t){t.preventDefault(),d.scrollTop+=d.scrollHeight}}}return m({enter:function(t){var a=(0,p.locateNodeByClassName)(t,"dhx_grid-header-cell");if(a){var u=a.getAttribute("dhx_id"),r=t.target.getAttribute("dhx_resized");if(u){var c=o.getColumn(u);c&&(0,i.isSortable)(o.config,c)&&!r&&o.events.fire(b.GridEvents.afterSort,[u])}}if(l){var v=o.selection.getCell();v&&(v.column.editable!==!1&&o.config.editable||v.column.editable)&&(o.config.$editable?o.editEnd():v.column.type!=="boolean"?o.editCell(v.row.id,v.column.id,v.column.editorType):o.events.fire(b.GridEvents.afterEditEnd,[!v.row[v.column.id],v.row,v.column]))}else o.config.$editable&&o.editEnd()},space:function(t){var a,u=o.selection.getCell();l&&((a=u==null?void 0:u.column.editable)!==null&&a!==void 0?a:o.config.editable)&&!o.config.$editable&&u&&u.column.type==="boolean"&&(t.preventDefault(),o.events.fire(b.GridEvents.afterEditEnd,[!u.row[u.column.id],u.row,u.column]))},escape:function(){o.config.$editable&&o.editEnd(!0)},tab:function(t){if(o.config.selection&&!(0,p.locateNodeByClassName)(t,"dhx_grid-header-cell")){o.config.$editable&&o.editEnd();var a=o.selection.getCell(),u=o.config.columns.filter(function(v){return!v.hidden});if(a){var r=u.indexOf(a.column)+1;if(r>=0&&r<u.length)t&&t.preventDefault(),o.selection.setCell(a.row.id,u[r].id),o.scrollTo(a.row.id.toString(),u[r].id.toString());else if(r>=0){var c=o.data.getIndex(a.row.id.toString())+1;c<o.data.getLength()&&(t&&t.preventDefault(),o.selection.setCell(o.data.getId(c),u[0].id),o.scrollTo(o.data.getId(c).toString(),u[0].id.toString()))}}}},"shift+tab":function(t){if(o.config.selection&&!(0,p.locateNodeByClassName)(t,"dhx_grid-header-cell")){o.config.$editable&&o.editEnd();var a=o.selection.getCell(),u=o.config.columns.filter(function(v){return!v.hidden});if(a){var r=u.indexOf(a.column)-1;if(r>=0&&r<u.length)t&&t.preventDefault(),o.selection.setCell(a.row.id,u[r].id),o.scrollTo(a.row.id.toString(),u[r].id.toString());else if(r<o.data.getLength()){var c=o.data.getIndex(a.row.id.toString())-1;c>=0&&(t&&t.preventDefault(),o.selection.setCell(o.data.getId(c),u[u.length-1].id),o.scrollTo(o.data.getId(c).toString(),u[u.length-1].id.toString()))}}}},arrowUp:function(t){e(t,o,"vertical",-1)},"ctrl+arrowUp":function(t){e(t,o,"vertical",-1,!0)},"shift+arrowUp":function(t){o.config.multiselection&&e(t,o,"vertical",-1,!1,!1,!0)},"ctrl+shift+arrowUp":function(t){o.config.multiselection&&e(t,o,"vertical",-1,!0,!1,!0)},arrowDown:function(t){e(t,o,"vertical",1)},"ctrl+arrowDown":function(t){e(t,o,"vertical",1,!0)},"shift+arrowDown":function(t){o.config.multiselection&&e(t,o,"vertical",1,!1,!1,!0)},"ctrl+shift+arrowDown":function(t){o.config.multiselection&&e(t,o,"vertical",1,!0,!1,!0)},arrowRight:function(t){e(t,o,"horizontal",1)},"ctrl+arrowRight":function(t){e(t,o,"horizontal",1,!0)},"shift+arrowRight":function(t){o.config.multiselection&&e(t,o,"horizontal",1,!1,!1,!0)},"ctrl+shift+arrowRight":function(t){o.config.multiselection&&e(t,o,"horizontal",1,!0,!1,!0)},arrowLeft:function(t){e(t,o,"horizontal",-1)},"ctrl+arrowLeft":function(t){e(t,o,"horizontal",-1,!0)},"shift+arrowLeft":function(t){o.config.multiselection&&e(t,o,"horizontal",-1,!1,!1,!0)},"ctrl+shift+arrowLeft":function(t){o.config.multiselection&&e(t,o,"horizontal",-1,!0,!1,!0)}},g)}},function(P,n,y){var m,b=this&&this.__extends||(m=function(t,a){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,r){u.__proto__=r}||function(u,r){for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(u[c]=r[c])},m(t,a)},function(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function u(){this.constructor=t}m(t,a),t.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}),p=this&&this.__assign||function(){return p=Object.assign||function(t){for(var a,u=1,r=arguments.length;u<r;u++)for(var c in a=arguments[u])Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c]);return t},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProGrid=void 0;var i=y(53),e=y(3),o=y(7),h=y(2),s=y(14),f=y(54),l=y(0),g=y(24),d=function(t){function a(u,r){var c=t.call(this,u,p({autoHeight:!1},r))||this;return c.scrollView=new g.ScrollView(function(){return c.getRootView()},{scrollHandler:function(v){return c.events.fire(e.GridEvents.scroll,[{y:v.target.scrollTop,x:v.target.scrollLeft}])}}),c}return b(a,t),a.prototype._createView=function(){var u=this;return(0,l.create)({render:function(r,c){return(0,f.proRender)(r,c,u._htmlEvents,u.selection,u._uid)}},this)},a.prototype._setEventHandlers=function(){var u=this;t.prototype._setEventHandlers.call(this),this.events.on(e.GridEvents.headerCellMouseDown,function(r,c){c.targetTouches?u._touch.timer=setTimeout(function(){u._dragStartColumn(c,r)},u._touch.duration):u._dragStartColumn(c,r)}),this._events.on(e.GridSystemEvents.headerCellTouchMove,function(r,c){u._touch.start&&c.preventDefault(),u._clearTouchTimer()}),this._events.on(e.GridSystemEvents.headerCellTouchEnd,function(){u._touch.start=!1,u._clearTouchTimer()}),this.events.on(e.GridEvents.resize,function(){u._parseColumns(),u._checkFilters()}),this.events.on(e.GridEvents.afterResizeEnd,function(){u.config.autoHeight&&(u.config.data=u.data.map(function(r){var c=(0,s.getMaxRowHeight)(r,u.config.columns);return r.$height=(0,s.getCalculatedRowHeight)(c,{rowHeight:u.config.rowHeight,padding:8}),r}))}),this.events.on(e.GridEvents.afterRowResize,function(r,c,v){var x=u.data.getItem(r.id),w=x.id,k=x.height,S=x.$height;k&&k!==S&&u.data.update(w,{height:v}),u.data.update(w,{$height:v},!0),u.config.data=u.data.map(function(T){return T}),u.paint()}),this.events.on(e.GridEvents.scroll,function(){u._lazyLoad()})},a.prototype._prepareData=function(u){var r,c=this;if(this._adjustColumns(),Array.isArray(u)||(0,o.isTreeCollection)(u))r=u;else{var v=u.getInitialData()||[];r=v.length!==0?v:u.getRawData(0,u.getLength())}return r.map(function(x){if(c.config.autoHeight&&x.height===void 0){var w=(0,s.getMaxRowHeight)(x,c.config.columns);x.$height=(0,s.getCalculatedRowHeight)(w,{rowHeight:c.config.rowHeight,padding:8})||c.config.rowHeight}else x.$height=x.height||c.config.rowHeight;return x})},a.prototype._prepareDataFromTo=function(u,r,c){var v=this;return u.mapRange(r,c,function(x){var w=(0,s.getMaxRowHeight)(x,v.config.columns);return x.$height=(0,s.getCalculatedRowHeight)(w,{rowHeight:v.config.rowHeight,padding:8})||v.config.rowHeight,x})},a.prototype._lazyLoad=function(){var u,r,c=this,v=this.data.dataProxy;if(v&&v.config){var x=this.data.getRawData(0,-1,null,2),w=(0,f.getRenderConfig)(this,x,{width:this.config.width,height:this.config.height}),k=this.data.getIndex((u=w.currentRows[0])===null||u===void 0?void 0:u.id.toString()),S=this.data.getIndex((r=w.currentRows[w.currentRows.length-1])===null||r===void 0?void 0:r.id.toString());!this.data.isDataLoaded(k,S)&&this.data.events.fire(o.DataEvents.beforeLazyLoad,[])&&(v.updateUrl(null,{from:k,limit:v.config.limit}),this.data.load(v).then(function(){c.config.autoHeight&&c._prepareDataFromTo(c.data,k,S)}))}},a.prototype._getColumnGhost=function(u){var r=this._container||(0,h.toNode)(this._uid),c=r.querySelector(".dhx_header-row"),v=c.querySelector('.dhx_grid-header-cell[dhx_id="'.concat(u.id,'"]')),x=Array.from(c.childNodes).indexOf(v)+1,w=r.querySelectorAll('.dhx_grid-header-cell[dhx_id="'.concat(u.id,'"]:not(.dhx_span-cell)')),k=r.querySelectorAll(".dhx_grid_data .dhx_grid-cell:nth-child(".concat(x,")")),S=document.createElement("div");return w.forEach(function(T){return S.appendChild(T.cloneNode(!0))}),k.forEach(function(T){return S.appendChild(T.cloneNode(!0))}),S},a.prototype._dragStartColumn=function(u,r){var c=u.target,v=function(x){return x.classList.contains("dhx_grid-custom-content-cell")};v(c.parentElement)||v(c.parentElement.parentElement)||!(r.draggable||this.config.dragItem==="column"&&r.draggable!==!1||this.config.dragItem==="both"&&r.draggable!==!1)||(0,h.locateNodeByClassName)(u,"dhx_resizer_grip_wrap")||(u.targetTouches&&(this._touch.start=!0),o.dragManager.onMouseDown(u,[r.id],[this._getColumnGhost(r)]))},a}(i.Grid);n.ProGrid=d},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.collectionStore=void 0;var m=function(){function p(){this._store={}}return p.prototype.setItem=function(i,e){this._store[i]=e},p.prototype.getItem=function(i){return this._store[i]?this._store[i]:null},p}(),b=window.dhxHelpers=window.dhxHelpers||{};b.collectionStore=b.collectionStore||new m,n.collectionStore=b.collectionStore},function(P,n,y){(function(m){var b,p=this&&this.__extends||(b=function(s,f){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(l[d]=g[d])},b(s,f)},function(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function l(){this.constructor=s}b(s,f),s.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)});Object.defineProperty(n,"__esModule",{value:!0}),n.LazyDataProxy=void 0;var i=y(20),e=y(1),o=y(34),h=function(s){function f(l,g){var d=s.call(this,l)||this;return d.config=(0,e.extend)({from:0,limit:50,delay:50,prepare:0},g),d.updateUrl(l,{from:d.config.from,limit:d.config.limit}),d}return p(f,s),f.prototype.load=function(){var l=this;return new m(function(g){l._timeout?(clearTimeout(l._timeout),l._timeout=setTimeout(function(){o.ajax.get(l.url,{responseType:"text"}).then(g),l._cooling=!0},l.config.delay),l._cooling&&(g(null),l._cooling=!1)):(o.ajax.get(l.url,{responseType:"text"}).then(g),l._cooling=!0,l._timeout=setTimeout(function(){}))})},f}(i.DataProxy);n.LazyDataProxy=h}).call(this,y(10))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var m=y(5),b=y(27),p=y(12),i=function(){function e(o,h,s){var f=this;this.events=s||new m.EventSystem(this),this._data=h,this.config=o,this._data.events.on(p.DataEvents.removeAll,function(){f._selected=null}),this._data.events.on(p.DataEvents.change,function(){if(f._selected){var l=f._data.getNearId(f._selected);l!==f._selected&&(f._selected=null,l&&f.add(l))}})}return e.prototype.getId=function(){return this._selected},e.prototype.getItem=function(){return this._selected?this._data.getItem(this._selected):null},e.prototype.remove=function(o){return!(o=o||this._selected)||!!this.events.fire(b.SelectionEvents.beforeUnSelect,[o])&&(this._data.update(o,{$selected:!1},!0),this._selected=null,this.events.fire(b.SelectionEvents.afterUnSelect,[o]),!0)},e.prototype.add=function(o){this._selected!==o&&!this.config.disabled&&this._data.exists(o)&&(this.remove(),this._addSingle(o))},e.prototype.enable=function(){this.config.disabled=!1},e.prototype.disable=function(){this.remove(),this.config.disabled=!0},e.prototype._addSingle=function(o){this.events.fire(b.SelectionEvents.beforeSelect,[o])&&(this._selected=o,this._data.update(o,{$selected:!0},!0),this.events.fire(b.SelectionEvents.afterSelect,[o]))},e}();n.Selection=i},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.createFactory=void 0;var m=y(141),b=y(142),p=y(143),i=y(144),e=y(145),o=y(146),h=y(147),s=y(148),f=y(149),l=y(150),g=y(21);n.createFactory=function(d){for(var t=d.defaultType,a=d.allowedTypes,u=d.widgetName,r=d.widget,c=new Set,v=0,x=a;v<x.length;v++){var w=x[v];c.add(w)}var k=r.config,S=r.events,T=r.data;return function(E,M){if(E.hidden||!(E.type&&E.type!=="button"&&E.type!=="navItem"&&E.type!=="menuItem"||E.value||E.icon||E.html))return null;E.type=E.type||t,c&&!c.has(E.type)&&(E.type=t),E.type==="imageButton"&&u!=="ribbon"&&(E.active=!1),M&&E.type!=="spacer"&&E.type!=="separator"&&E.type!=="customHTML"&&(E.type="menuItem"),T.haveItems(E.id)&&function(I,D,A){switch(I){case"sidebar":case"context-menu":D.$openIcon="right";break;case"toolbar":D.parent===A.getRoot()?D.$openIcon="right":D.$openIcon="bottom";break;case"menu":D.parent!==this.data.getRoot()&&(D.$openIcon="right");break;case"ribbon":var F=A.getItem(D.parent);F&&D.type!=="block"&&(F.type==="block"?D.$openIcon="bottom":D.$openIcon="right")}}(u,E,T),u==="toolbar"&&E.items&&E.items.forEach(function(I){I.type||(I.type="menuItem")});var O=E.type!=="customHTML"&&function(I,D,A,F){switch(I.type){case"navItem":case"selectButton":return(0,b.navItem)(I,A,F.collapsed);case"button":return(0,m.button)(I,A);case"title":return(0,f.title)(I,A);case"separator":return(0,h.separator)(I,A);case"spacer":return(0,s.spacer)(I,A);case"input":return(0,e.input)(I,D,A);case"imageButton":return(0,i.imageButton)(I,A);case"menuItem":return(0,o.menuItem)(I,A,F.asMenuItem);case"customHTMLButton":return(0,p.customHTMLButton)(I,A,F.asMenuItem);case"datePicker":return(0,l.datePicker)(I,D,A);default:throw new Error("unknown item type "+I.type)}}(E,S,u,{asMenuItem:M,collapsed:u!=="sidebar"||k.collapsed});return(0,g.navbarComponentMixin)(u,E,M,O)}}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var e,o=1,h=arguments.length;o<h;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.button=void 0;var b=y(0),p=y(21);n.button=function(i,e){var o=i.icon&&!i.value,h=o?" dhx_navbar-count--absolute":" dhx_navbar-count--button-inline";return(0,b.el)("button.dhx_button",m({class:(0,p.getNavbarButtonCSS)(i,e),dhx_id:i.id,disabled:i.disabled,type:"button"},function(s){var f=s.active||s.$activeParent,l={"aria-disabled":s.disabled?"true":"false","aria-label":s.value||s.tooltip||s.id||""+" ".concat(s.count||"")};return s.items&&(l.id=s.id,l["aria-haspopup"]="menu",f&&(l["aria-expanded"]="true")),l}(i)),[i.icon?(0,p.getIcon)(i.icon,"button"):null,i.html?(0,b.el)("div.dhx_button__text",{".innerHTML":i.html}):i.value&&(0,b.el)("span.dhx_button__text",i.value),i.count>0&&(0,p.getCount)(i,h,o),i.value&&i.$openIcon?(0,b.el)("span.dhx_button__icon.dhx_button__icon--menu.dxi.dxi-menu-right",{"aria-hidden":"true"}):null,i.loading&&(0,b.el)("span.dhx_button__loading",{"aria-hidden":"true"},[(0,b.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var e,o=1,h=arguments.length;o<h;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.navItem=void 0;var b=y(0),p=y(21);n.navItem=function(i,e,o){var h=" dhx_"+e+"-button";return(0,b.el)("button",m({class:"dhx_button"+h+(i.active||i.$activeParent?h+"--active":"")+(i.disabled?h+"--disabled":"")+(i.$openIcon?h+"--select":"")+(i.circle?h+"--circle":"")+(i.size?" "+h+"--"+i.size:"")+(!i.value&&i.icon?h+"--icon":"")+(i.css?" "+i.css:""),dhx_id:i.id,disabled:i.disabled,type:"button"},function(s){var f={"aria-disabled":s.disabled?"true":"false","aria-label":s.value||" "},l=s.active||s.$activeParent;return s.type==="selectButton"||s.items?(f.id=s.id,f["aria-haspopup"]="menu",l&&(f["aria-expanded"]="true")):((s.twoState||l)&&(f["aria-pressed"]=l?"true":"false"),!s.value&&s.icon&&s.tooltip&&(f["aria-label"]="".concat(s.tooltip," ").concat(s.count||""))),f}(i)),[i.icon&&(0,b.el)("span",{class:i.icon+h+"__icon","aria-hidden":"true"}),i.html&&(0,b.el)("div",{class:h.trim()+"__html",".innerHTML":i.html}),!i.html&&i.value&&(0,b.el)("span",{class:h.trim()+"__text"},i.value),i.count>0&&(0,p.getCount)(i,h+"__count",o),i.$openIcon&&(0,b.el)("span.dxi.dxi-menu-right",{class:h+"__caret","aria-hidden":"true"})])}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(p){for(var i,e=1,o=arguments.length;e<o;e++)for(var h in i=arguments[e])Object.prototype.hasOwnProperty.call(i,h)&&(p[h]=i[h]);return p},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.customHTMLButton=void 0;var b=y(0);n.customHTMLButton=function(p,i,e){var o=e?" dhx_button dhx_menu-button":" dhx_button dhx_nav-menu-button";return(0,b.el)("button",m({class:"dhx_custom-button"+o+(p.$activeParent?o+"--active":""),dhx_id:p.id,type:"button",".innerHTML":p.html},function(h){var s={"aria-disabled":h.disabled?"true":"false"};return(h.twoState||h.active||h.$activeParent)&&(s["aria-pressed"]=h.active||h.$activeParent?"true":"false"),s}(p)),p.html?"":p.value)}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var e,o=1,h=arguments.length;o<h;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.imageButton=void 0;var b=y(0),p=y(21);n.imageButton=function(i,e){var o="dhx_"+e+"-button-image",h=e==="ribbon";return(0,b.el)("button.dhx_button",m({class:o+(i.size?" "+o+"--"+i.size:"")+(!i.value&&i.src?" "+o+"--icon":"")+(h&&i.$openIcon?" "+o+"--select":"")+(i.active?" "+o+"--active":""),dhx_id:i.id,type:"button"},function(s){var f={"aria-disabled":s.disabled?"true":"false"};return(s.twoState||s.active)&&(f["aria-pressed"]=s.active?"true":"false"),!s.value&&s.src&&s.tooltip&&(f["aria-label"]="".concat(s.tooltip," ").concat(s.count||"")),f}(i)),[h&&i.value&&i.$openIcon&&(0,b.el)("span.dxi.dxi-menu-right",{class:o+"__caret","aria-hidden":"true"}),i.html?(0,b.el)("div",{class:o+"__text",".innerHTML":i.html}):i.value&&(0,b.el)("span",{class:o+"__text"},i.value),i.src&&(0,b.el)("span",{class:o+"__image",style:{backgroundImage:"url(".concat(i.src,")")},role:"presentation"}),i.count>0&&(0,p.getCount)(i,o+"__count",!0)])}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.input=void 0;var m=y(0),b=y(28);function p(o,h){o.fire(b.NavigationBarEvents.inputBlur,[h])}function i(o,h){o.fire(b.NavigationBarEvents.inputFocus,[h])}function e(o,h,s){o.fire(b.NavigationBarEvents.inputChange,[h,s.target.value])}n.input=function(o,h,s){return(0,m.el)(".dhx_form-group.dhx_form-group--no-message-holder.dhx_form-group--label_sr"+".dhx_".concat(s,"__input"),{style:{width:o.width?o.width:"200px"},role:"presentation"},[o.label&&(0,m.el)("label.dhx_label",{for:o.id},o.label),(0,m.el)(".dhx_input__wrapper",{role:"presentation"},[(0,m.el)("input.dhx_input",{placeholder:o.placeholder,class:o.icon?"dhx_input--icon-padding":"",value:o.value,disabled:o.disabled,onblur:[p,h,o.id],onfocus:[i,h,o.id],oninput:[e,h,o.id],dhx_id:o.id,_hooks:{didInsert:function(f){h&&h.fire(b.NavigationBarEvents.inputCreated,[o.id,f.el])}},_key:o.id,"aria-label":o.label||o.helpMessage||"type ".concat(o.placeholder?"text like "+o.placeholder:"text")}),o.icon?(0,m.el)(".dhx_input__icon",{class:o.icon,"aria-hidden":"true"}):null])])}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var e,o=1,h=arguments.length;o<h;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.menuItem=void 0;var b=y(0),p=y(21);n.menuItem=function(i,e,o){var h=o?" dhx_menu-button":" dhx_nav-menu-button";return(0,b.el)("button",m({class:"dhx_button"+h+(i.disabled?h+"--disabled":"")+(i.active||i.$activeParent?h+"--active":""),disabled:i.disabled,dhx_id:i.id,type:"button"},function(s){var f={role:"menuitem","aria-disabled":s.disabled?"true":"false"};return s.items&&(f["aria-haspopup"]="true"),f}(i)),o?[i.icon||i.value||i.html?(0,b.el)("span.dhx_menu-button__block.dhx_menu-button__block--left",[i.icon&&(0,b.el)("span.dhx_menu-button__icon",{class:i.icon}),i.html?(0,b.el)("div.dhx_menu-button__text",{".innerHTML":i.html}):i.value&&(0,b.el)("span.dhx_menu-button__text",i.value)]):null,i.count>0||i.hotkey||i.items?(0,b.el)("span.dhx_menu-button__block.dhx_menu-button__block--right",[i.count>0&&(0,p.getCount)(i," dhx_menu-button__count",!1),i.hotkey&&(0,b.el)("span.dhx_menu-button__hotkey",i.hotkey),i.items&&(0,b.el)("span.dhx_menu-button__caret.dxi.dxi-menu-right")]):null]:[i.icon&&(0,b.el)("span.dhx_menu-button__icon",{class:i.icon}),i.html?(0,b.el)("div.dhx_menu-button__text",{".innerHTML":i.html}):i.value&&(0,b.el)("span.dhx_nav-menu-button__text",i.value)])}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.separator=void 0,n.separator=function(m,b){return null}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.spacer=void 0,n.spacer=function(m,b){return null}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.title=void 0;var m=y(0);n.title=function(b,p){return(0,m.el)("span",{class:"dhx_navbar-title dhx_navbar-title--"+p,dhx_id:b.id,".innerHTML":b.html,"aria-label":b.value||""},b.html?null:b.value)}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.datePicker=void 0;var m,b,p,i=y(0),e=y(55),o=y(15),h=y(28);function s(l,g){l.fire(h.NavigationBarEvents.inputBlur,[g])}function f(l,g,d){(0,i.awaitRedraw)().then(function(){return p.show(d.target)}),l.fire(h.NavigationBarEvents.inputFocus,[g])}n.datePicker=function(l,g,d){return m||(p=new o.Popup,b=new e.Calendar(null,{dateFormat:l.dateFormat||"%d/%m/%y",value:l.value,css:"dhx_widget--bordered"}),p.attach(b),b.events.on("change",function(){p.hide(),g.fire(h.NavigationBarEvents.inputChange,[l.id,b.getValue()])}),m=!0),(0,i.el)(".dhx_form-group.dhx_form-group--no-message-holder.dhx_form-group--label_sr"+".dhx_".concat(d,"__input"),{style:{width:l.width?l.width:"200px"},role:"presentation"},[l.label&&(0,i.el)("label.dhx_label",{for:l.id},l.label),(0,i.el)(".dhx_input__wrapper",{role:"presentation"},[(0,i.el)("input.dhx_input",{placeholder:l.placeholder,class:l.icon?"dhx_input--icon-padding":"",value:b.getValue(),disabled:l.disabled,onblur:[s,g,l.id],onfocus:[f,g,l.id],dhx_id:l.id,readOnly:!0,_hooks:{didInsert:function(t){g&&g.fire(h.NavigationBarEvents.inputCreated,[l.id,t.el])}},_key:l.id,"aria-label":l.label||l.helpMessage||"type ".concat(l.placeholder?"text like "+l.placeholder:"text")}),l.icon?(0,i.el)(".dhx_input__icon",{class:l.icon,"aria-hidden":"true"}):null])])}},function(P,n,y){var m=this&&this.__createBinding||(Object.create?function(p,i,e,o){o===void 0&&(o=e);var h=Object.getOwnPropertyDescriptor(i,e);h&&!("get"in h?!i.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return i[e]}}),Object.defineProperty(p,o,h)}:function(p,i,e,o){o===void 0&&(o=e),p[o]=i[e]}),b=this&&this.__exportStar||function(p,i){for(var e in p)e==="default"||Object.prototype.hasOwnProperty.call(i,e)||m(i,p,e)};Object.defineProperty(n,"__esModule",{value:!0}),b(y(68),n),b(y(152),n)},function(P,n,y){var m,b=this&&this.__extends||(m=function(l,g){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,t){d.__proto__=t}||function(d,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(d[a]=t[a])},m(l,g)},function(l,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function d(){this.constructor=l}m(l,g),l.prototype=g===null?Object.create(g):(d.prototype=g.prototype,new d)}),p=this&&this.__assign||function(){return p=Object.assign||function(l){for(var g,d=1,t=arguments.length;d<t;d++)for(var a in g=arguments[d])Object.prototype.hasOwnProperty.call(g,a)&&(l[a]=g[a]);return l},p.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProToolbar=void 0;var i=y(68),e=y(24),o=y(0),h=y(2),s=y(17),f=function(l){function g(d,t){var a=l.call(this,d,t)||this;return a.scrollView=new e.ScrollView(function(){return a.getRootView()}),a}return b(g,l),g.prototype._draw=function(d){var t=this,a=this.data.getLength()?this.data.reduce(function(r,c){switch(c.type){case"title":return r||20;case"button":return c.size==="small"&&(!r||r<=28)?28:r||32;default:return 32}},0)+24:null,u=[(0,o.el)("ul.dhx_navbar.dhx_navbar--horizontal",p(p({dhx_widget_id:this._uid,tabindex:0},function(r){return{role:"toolbar","aria-label":r||""}}(d)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,_hooks:{didInsert:function(r){r.el.addEventListener("keyup",function(c){if(c.which===9){var v=(0,h.locateNode)(document.activeElement);if(v){var x=v.getAttribute("dhx_id"),w=t.data.getItem(x);w.tooltip&&(0,s.tooltip)(w.tooltip,{node:v,position:s.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(r){return t._factory(r)},this.data.getRoot(),!1))];return(0,o.el)("nav.dhx_widget.dhx_toolbar",{style:{height:a},class:this.config.css?this.config.css:""},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(u)):u)},g}(i.Toolbar);n.ProToolbar=f},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var c,v=1,x=arguments.length;v<x;v++)for(var w in c=arguments[v])Object.prototype.hasOwnProperty.call(c,w)&&(r[w]=c[w]);return r},m.apply(this,arguments)},b=this&&this.__spreadArray||function(r,c,v){if(v||arguments.length===2)for(var x,w=0,k=c.length;w<k;w++)!x&&w in c||(x||(x=Array.prototype.slice.call(c,0,w)),x[w]=c[w]);return r.concat(x||Array.prototype.slice.call(c))};Object.defineProperty(n,"__esModule",{value:!0}),n.Editor=void 0;var p=y(11),i=y(154),e=y(155),o=y(9),h=y(156),s=y(70),f=y(158),l=y(4),g=y(160),d=y(69),t=y(37),a=y(31),u=function(){function r(c){var v=c.events,x=c.uid,w=c.getRootView,k=c.repaint,S=c.defaultStyle,T=this;this.getTextElement=function(E,M){var O=(0,o.getTextHash)(E,M),I=T._getRootView();return I.refs&&I.refs[O]&&I.refs[O].el&&I.refs[O].el.childNodes[0]},this._events=v,this._repaint=k,this._getRootView=w,this._defaultStyle=S,this.selection=new g.SelectionHelper(this,x,v),this.clear(),this.manager=new f.Manager(this),this._events.on(l.RichTextEvents.change,function(E){E!==l.Action.update&&(T._tempNode=null)}),this._events.on(l.RichTextEvents.selectionChange,function(){T._tempNode=null})}return r.prototype.clear=function(){this.blocks=[new d.Block([new t.TextNode("",p.emptyStyle)])],this.selection.clear()},r.prototype.getState=function(){var c=this;return JSON.stringify({b:this.blocks.map(function(v){return{s:(0,e.minimizeBlockStyle)(v.style),n:v.textNodes.map(function(x){return{s:(0,e.minimizeTextNodeStyle)(x.style,c._defaultStyle),t:x.text}})}}),s:this.selection.getCompact()})},r.prototype.setState=function(c){var v=this,x=JSON.parse(c);this.blocks=x.b.map(function(w){var k=w.s,S=w.n.map(function(T){return new t.TextNode(T.t,(0,e.textNodeStyleFromMinimize)(T.s,v._defaultStyle))});return new d.Block(S,(0,e.blockStyleFromMinimize)(k))}),this.selection.setCompact(x.s)},r.prototype.parse=function(c,v){if(v===void 0&&(v="html"),v==="html"||v==="markdown"){var x=(0,h.parser)(c,v,this._defaultStyle);this.blocks=x}else this.blocks=c.map(function(w){return new d.Block(w.textNodes.map(function(k){return new t.TextNode(k.text,k.style)}),w.style)});return this.selection.set({range:!1,left:m({blockIndex:this.blocks.length-1},this.blocks[this.blocks.length-1].getBlockEnd())}),!0},r.prototype.serialize=function(c){return c===void 0&&(c="html"),this.balance(),c==="markdown"?(0,i.markdownSerializer)(this.blocks):c==="html"?(0,s.serializer)(this.blocks):c==="text"?this.blocks.reduce(function(v,x,w){return v+(w>0?`
`:"")+x.textNodes.reduce(function(k,S){return k+S.text},"")},""):void 0},r.prototype.removeBlock=function(c){this.blocks.splice(c,1),this.blocks.length===0&&this.clear()},r.prototype.insertBlock=function(){this._splitCarret();var c=this.selection.get(),v=c.range,x=c.left;if(!v){var w=this.blocks[x.blockIndex].textNodes,k=w.splice(x.textIndex+(x.offset?1:0),1/0),S=this.blocks[x.blockIndex].style;if(k.length===0){var T=this.blocks[x.blockIndex].textNodes[x.textIndex].style;k=[new t.TextNode("",(0,o.copyWithout)(T,{link:!0}))],(S=(0,o.copyWithout)(S,{blockquote:!0,style:!0}))[l.Modifier.style]="p"}else{var E=w[w.length-1]&&w[w.length-1].style.link;if(E)for(var M=0,O=k;M<O.length;M++){var I=O[M];if(I.style.link!==E)break;I.style=(0,o.copyWithout)(I.style,{link:!0})}}w.length===0&&this.blocks[x.blockIndex].clear();var D=new d.Block(k,S);this.blocks.splice(x.blockIndex+1,0,D),this.selection.set({range:v,left:{offset:0,textIndex:0,blockIndex:x.blockIndex+1}})}},r.prototype.eachSelectedNode=function(c){var v=this.selection.get(),x=v.range,w=v.left,k=v.right;if(x)for(var S=w.blockIndex;S<=k.blockIndex;S++){var T=0,E=this.blocks[S].textNodes.length-1;S===w.blockIndex&&(T=w.textIndex),S===k.blockIndex&&(E=k.textIndex);for(var M=T;M<=E;M++)c(this.blocks[S].textNodes[M],this.blocks[S])}else w&&c(this.blocks[w.blockIndex].textNodes[w.textIndex],this.blocks[w.blockIndex])},r.prototype.eachSelectedBlock=function(c){var v=this.selection.get(),x=v.range,w=v.left,k=v.right;if(x)for(var S=w.blockIndex;S<=k.blockIndex;S++)c(this.blocks[S],S);else c(this.blocks[w.blockIndex])},r.prototype.copy=function(){if(!this.selection.get().range)return!1;this._splitRange();var c=[],v="",x=this.selection.get(),w=x.left,k=x.right;return this.eachSelectedBlock(function(S,T){var E=0,M=S.textNodes.length-1,O=[];c.push({style:S.style,textNodes:O}),T===w.blockIndex&&(E=w.textIndex),T===k.blockIndex&&(M=k.textIndex);for(var I=E;I<=M;I++){var D=S.textNodes[I];O.push({style:D.style,text:D.text}),v+=D.text}T<k.blockIndex&&(v+=`
`)}),{content:c,raw:v}},r.prototype.cut=function(){var c=this.copy();return this._splitRange(),this._removeRange(),c},r.prototype.paste=function(c,v){var x,w,k;if(v===void 0&&(v="text"),v==="text")return this.add(c);this.selection.get().range&&(this._splitRange(),this._removeRange());var S=this.selection.get().left,T=v==="inner"?JSON.parse(c):(0,h.parser)(c,"html",this._defaultStyle),E=T[0],M=T.slice(1),O=void 0;if(this.blocks[S.blockIndex].isEmpty())this.blocks[S.blockIndex].textNodes=[],this.blocks[S.blockIndex].style=E.style;else switch(this.blocks[S.blockIndex].splitTextNode(S.textIndex,S.offset)){case d.SplitResult.offsetStart:O=S.textIndex;break;case d.SplitResult.offsetEnd:case d.SplitResult.complete:O=S.textIndex+1}var I=void 0,D=void 0;O>0?(I=this.blocks[S.blockIndex].textNodes.slice(0,O),D=this.blocks[S.blockIndex].textNodes.slice(O,1/0)):(I=[],D=this.blocks[S.blockIndex].textNodes);for(var A=0,F=E.textNodes;A<F.length;A++){var U=F[A];I.push(new t.TextNode(U.text,U.style))}if(this.blocks[S.blockIndex].textNodes=I,M.length){var j=M.map(function(q){return new d.Block(q.textNodes.map(function(X){return new t.TextNode(X.text,X.style)}),q.style)});(x=this.blocks).splice.apply(x,b([S.blockIndex+1,0],j,!1));var $=this.blocks[S.blockIndex+M.length].getBlockEnd();(w=this.blocks[S.blockIndex+M.length].textNodes).push.apply(w,D),this.selection.set({range:!1,left:m({blockIndex:S.blockIndex+M.length},$)})}else $=this.blocks[S.blockIndex].getBlockEnd(),(k=this.blocks[S.blockIndex].textNodes).push.apply(k,D),this.selection.set({range:!1,left:m({blockIndex:S.blockIndex},$)});return!0},r.prototype.add=function(c){if(c){if(this.selection.get().range&&(this._splitRange(),this._removeRange()),c.newBlock)return this.insertBlock(),!0;var v=this.selection.get().left,x=v.offset,w=v.blockIndex,k=v.textIndex;if(this._tempNode&&this._tempNode.offset===x&&this._tempNode.blockIndex===w&&this._tempNode.textIndex===k)return this._createNodeFromTemp(c);var S=this.blocks[w].textNodes,T=S[k];if(!T.style.link||T.text.length!==x||S[k+1]&&S[k+1].style.link)T.style.link&&x===0?(E=new t.TextNode(c,(0,o.copyWithout)(T.style,{link:!0})),S.splice(k,0,E),this.selection.set({range:!1,left:{offset:c.length,blockIndex:w,textIndex:k}})):(S[k].insert(c,x),this.selection.set({range:!1,left:{offset:x+c.length,blockIndex:w,textIndex:k}}));else{var E=new t.TextNode(c,(0,o.copyWithout)(T.style,{link:!0}));S.splice(k+1,0,E),this.selection.set({range:!1,left:{offset:c.length,blockIndex:w,textIndex:k+1}}),this._cleanDom(this._getRootView().refs.editor.el)}return!0}},r.prototype.remove=function(c){return this.selection.get().range?(this._splitRange(),this._removeRange(),!0):this._removeSymbol(c)},r.prototype.update=function(c){var v=c.modifier,x=c.modifierValue,w=this.selection.get(),k=w.range,S=w.left;switch(v){case l.Modifier.align:case l.Modifier.style:case l.Modifier.blockquote:return this.eachSelectedBlock(function(E){var M;E.style=m(m({},E.style),((M={})[v]=x,M)),v===l.Modifier.style&&x!=="p"&&E.textNodes.forEach(function(O){var I;O.style=(0,o.copyWithout)(O.style,((I={})[l.Modifier.fontSize]=!0,I))})}),!0;case l.Modifier.strike:case l.Modifier.underline:case l.Modifier.italic:case l.Modifier.bold:case l.Modifier.color:case l.Modifier.background:case l.Modifier.fontFamily:case l.Modifier.fontSize:return k?(this._splitRange(),this.eachSelectedNode(function(E){var M;E.style=m(m({},E.style),((M={})[v]=x,M))}),!0):(this._createTempTextNode({modifier:v,modifierValue:x}),!1);case l.Modifier.link:var T=this.blocks[S.blockIndex].textNodes[S.textIndex];return v===void 0||T.style.link!==void 0?this._eachLink(function(E){var M;E.style=m(m({},E.style),((M={})[v]=x,M))}):(k&&this._splitRange(),this.eachSelectedNode(function(E){var M;E.style=m(m({},E.style),((M={})[v]=x,M))})),!0}},r.prototype.clearStyles=function(){return!!this.selection.get().range&&(this._splitRange(),this.eachSelectedNode(function(c){c.style=p.emptyStyle}),!0)},r.prototype.balance=function(){var c,v=this.selection.get(),x=v.left,w=v.right,k=v.range,S=this.blocks[x.blockIndex].nodePositionToOffset(x.textIndex,x.offset);k&&(c=this.blocks[w.blockIndex].nodePositionToOffset(w.textIndex,w.offset));var T=!0;this.blocks.forEach(function(E){E.balance()&&(T=!1)}),T||(this.selection.set({range:k,left:m({blockIndex:x.blockIndex},this.blocks[x.blockIndex].offsetToNodePosition(S)),right:c&&m({blockIndex:w.blockIndex},this.blocks[w.blockIndex].offsetToNodePosition(c))}),this._repaint())},r.prototype.getLinkInfo=function(){var c,v="";return this._eachLink(function(x){v+=x.text,c=x.style.link}),{text:v,link:c}},r.prototype.updateLinkText=function(c){var v=this.selection.get(),x=v.left,w=v.range,k=this.blocks[x.blockIndex].textNodes,S=k[x.textIndex].style.link,T=new t.TextNode(c,{});if(S){for(var E=x.textIndex,M=x.textIndex;k[E-1]&&k[E-1].style.link===S;)E--;for(;k[M+1]&&k[M+1].style.link===S;)M++;k.splice(E,M-E+1,T),this.selection.set({range:!0,left:{blockIndex:x.blockIndex,textIndex:E,offset:0},right:{blockIndex:x.blockIndex,textIndex:E,offset:c.length}})}else if(w){this._splitRange(),this._removeRange();var O=this.selection.get().left,I=O.blockIndex,D=O.textIndex;this.blocks[I].textNodes.splice(D+1,0,T),this.selection.set({range:!0,left:{blockIndex:I,textIndex:D+1,offset:0},right:{blockIndex:I,textIndex:D+1,offset:c.length}})}else{var A=void 0;this.blocks[x.blockIndex].isEmpty()?(k.splice(0,1),A=0):A=this.blocks[x.blockIndex].splitTextNode(x.textIndex,x.offset)===d.SplitResult.offsetStart?x.textIndex:x.textIndex+1,k.splice(A,0,T),this.selection.set({range:!0,left:{blockIndex:x.blockIndex,textIndex:A,offset:0},right:{blockIndex:x.blockIndex,textIndex:A,offset:c.length}})}},r.prototype._splitRange=function(){var c=this.selection.get(),v=c.range,x=c.left,w=c.right;if(v)if(x.blockIndex!==w.blockIndex||x.textIndex!==w.textIndex)if(x.blockIndex!==w.blockIndex){if(x.blockIndex!==w.blockIndex){S=x.textIndex;var k=x.blockIndex;E=this.blocks[x.blockIndex].splitTextNode(x.textIndex,x.offset),this.blocks[w.blockIndex].splitTextNode(w.textIndex,w.offset),E===d.SplitResult.offsetEnd&&(this.blocks[k].textNodes[S+1]?S+=1:(S=0,k+=1)),E===d.SplitResult.complete&&(S+=1),T={range:v,left:{blockIndex:k,textIndex:S,offset:0},right:{blockIndex:w.blockIndex,textIndex:w.textIndex,offset:w.offset}},this.selection.set(T)}}else{var S=x.textIndex;M=w.textIndex,(E=this.blocks[x.blockIndex].splitTextNode(S,x.offset))===d.SplitResult.offsetEnd&&(S+=1),E===d.SplitResult.complete&&(M+=1,S+=1),this.blocks[w.blockIndex].splitTextNode(M,w.offset);var T={range:v,left:{blockIndex:x.blockIndex,textIndex:S,offset:0},right:{blockIndex:w.blockIndex,textIndex:M,offset:w.offset}};this.selection.set(T)}else{var E,M=x.textIndex,O=w.offset;(E=this.blocks[x.blockIndex].splitTextNode(x.textIndex,x.offset))===d.SplitResult.complete&&(M+=1,O-=x.offset),this.blocks[w.blockIndex].splitTextNode(M,O);var T={range:v,left:{blockIndex:x.blockIndex,textIndex:M,offset:0},right:{blockIndex:w.blockIndex,textIndex:M,offset:O}};this.selection.set(T)}},r.prototype._splitCarret=function(){var c=this.selection.get(),v=c.range,x=c.left;if(!v&&this.blocks[x.blockIndex].splitTextNode(x.textIndex,x.offset)===d.SplitResult.complete){var w={range:v,left:{blockIndex:x.blockIndex,textIndex:x.textIndex+1,offset:0}};this.selection.set(w)}},r.prototype._removeRange=function(){var c,v=this.selection.get(),x=v.left,w=v.right;if(w)if(this.selection.isFull())this.clear();else if(x.blockIndex===w.blockIndex)x.textIndex===0&&w.textIndex===this.blocks[w.blockIndex].textNodes.length-1?(this.blocks[x.blockIndex].clear(),this.selection.set({range:!1,left:m(m({},x),{offset:0})})):(this.blocks[x.blockIndex].textNodes.splice(x.textIndex,w.textIndex-x.textIndex+1),x.textIndex===0?this.selection.set({range:!1,left:{blockIndex:x.blockIndex,textIndex:0,offset:0}}):this.selection.set({range:!1,left:{blockIndex:x.blockIndex,textIndex:x.textIndex-1,offset:this.blocks[x.blockIndex].textNodes[x.textIndex-1].text.length}}));else{var k=this.blocks[x.blockIndex].removeNodes(x.textIndex,!0),S=this.blocks[w.blockIndex].removeNodes(w.textIndex,!1),T=this.blocks[x.blockIndex].getBlockEnd();switch(!0){case(k&&S):this.blocks[x.blockIndex].clear();break;case(k&&!S):this.blocks[x.blockIndex].textNodes=this.blocks[w.blockIndex].textNodes;break;case(!k&&!S):(c=this.blocks[x.blockIndex].textNodes).push.apply(c,this.blocks[w.blockIndex].textNodes)}for(var E=w.blockIndex;E>x.blockIndex;E--)this.removeBlock(E);k?this.selection.set({range:!1,left:{blockIndex:x.blockIndex,textIndex:x.textIndex,offset:0}}):this.selection.set({range:!1,left:m({blockIndex:x.blockIndex},T)})}},r.prototype._removeSymbol=function(c){var v=this.selection.get().left,x=v.offset,w=v.blockIndex,k=v.textIndex,S={range:!1,left:{offset:x,blockIndex:w,textIndex:k}},T=this.blocks[w].getBlockEnd(),E=this.blocks[w].textNodes,M=E[k],O=!1;switch(!0){case this.blocks[w].isEmpty():if(w===0&&c)return!(0,a.isEmptyBlockStyle)(this.blocks[0].style)&&(this.blocks[0].style=p.emptyStyle,!0);if(!c&&!this.blocks[w+1])return!1;this.removeBlock(w),w===0?(S.left.offset=0,S.left.textIndex=0):c&&(S.left=m({blockIndex:w-1},this.blocks[w-1].getBlockEnd()));break;case(x===0&&k===0&&c):if(w===0)return!1;if(this.blocks[w-1].isEmpty())this.blocks[w-1].textNodes=E,this.removeBlock(w),S.left={blockIndex:w-1,textIndex:0,offset:0};else{var I=this.blocks[w-1].getBlockEnd();this.blocks[w-1].textNodes=this.blocks[w-1].textNodes.concat(E),this.removeBlock(w),S.left=m({blockIndex:w-1},I)}break;case(T.offset===x&&T.textIndex===k&&!c):var D=this.blocks[w+1];if(!D)return;if(D.isEmpty())return this.removeBlock(w+1),!0;this.blocks[w].textNodes=this.blocks[w].textNodes.concat(D.textNodes),this.removeBlock(w+1);break;default:switch(M.remove(x,c)){case t.RemoveTextResult.nullTextLength:E.length>1?(E.splice(k,1),S.left=k===0?{blockIndex:w,textIndex:0,offset:0}:{blockIndex:w,textIndex:k-1,offset:E[k-1].text.length}):(M.style=p.emptyStyle,S.left={textIndex:k,blockIndex:w,offset:0});break;case t.RemoveTextResult.complete:c&&(S.left={blockIndex:w,textIndex:k,offset:x-1});break;case t.RemoveTextResult.forceRemoveNext:S.left={blockIndex:w,textIndex:k+1,offset:0},O=!0;break;case t.RemoveTextResult.forceRemovePrevious:S.left={blockIndex:w,textIndex:k-1,offset:E[k-1].text.length},O=!0}}return this.selection.set(S),!O||this._removeSymbol(c)},r.prototype._eachLink=function(c){var v=this.selection.get().left,x=this.blocks[v.blockIndex].textNodes[v.textIndex].style.link;if(x){for(var w=this.blocks[v.blockIndex].textNodes,k=[],S=v.textIndex;S>=0&&w[S].style.link===x;S--)k.unshift(w[S]);for(S=v.textIndex+1;S<w.length&&w[S].style.link===x;S++)k.push(w[S]);k.forEach(c)}},r.prototype._createTempTextNode=function(c){var v,x,w=c.modifier,k=c.modifierValue,S=this.selection.get().left,T=S.offset,E=S.blockIndex,M=S.textIndex;x=this._tempNode&&this._tempNode.offset===T&&this._tempNode.blockIndex===E&&this._tempNode.textIndex===M?this._tempNode.style:this.blocks[E].textNodes[M].style;var O=m(m({},x),((v={})[w]=k,v)),I=this.blocks[E].textNodes;!O.link||I[M+1]&&I[M+1].style.link||delete O.link,this._tempNode={style:O,blockIndex:E,textIndex:M,offset:T}},r.prototype._createNodeFromTemp=function(c){var v=this._tempNode,x=v.style,w=v.blockIndex,k=v.textIndex,S=v.offset,T=this.blocks[w].splitTextNode(k,S)===d.SplitResult.offsetStart?k:k+1,E=new t.TextNode(c,x);return this.blocks[w].isEmpty()?this.blocks[w].textNodes=[E]:this.blocks[w].textNodes.splice(T,0,E),this.selection.set({range:!1,left:{blockIndex:w,textIndex:T,offset:c.length}}),this._tempNode=null,!0},r.prototype._cleanDom=function(c){var v;c.nodeType===Node.TEXT_NODE&&((v=c.parentElement)===null||v===void 0?void 0:v.tagName)==="P"&&c.remove(),c.childNodes&&c.childNodes.forEach(this._cleanDom.bind(this))},r}();n.Editor=u},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.markdownSerializer=void 0;var m,b=y(4);function p(e,o){var h=o.filter(function(f){return!e.includes(f)}),s=e.filter(function(f){return!o.includes(f)});return h.concat(s)}function i(e,o){for(var h="",s=[],f=0,l=e;f<l.length;f++){var g=l[f],d=[],t=g.style;t[b.Modifier.bold]&&d.push(m.bold),t[b.Modifier.italic]&&d.push(m.italic);var a=p(s,d);!s.length&&d.length&&(h+=" "),h+=a.join(""),s.length&&!d.length&&(h+=" "),h+=g.text.trim(),s=d}return h+=s.join(""),o&&(h="[".concat(h,"](").concat(o,")")),h.trim()}(function(e){e.bold="**",e.italic="*"})(m||(m={})),n.markdownSerializer=function(e){return e.reduce(function(o,h,s){return o+(s?`

`:"")+function(f){switch(f.style[b.Modifier.style]){case"h1":return"# ";case"h2":return"## ";case"h3":return"### ";case"h4":return"#### ";case"h5":return"##### ";case"h6":return"###### ";default:return""}}(h)+function(f){for(var l,g="",d=[],t=0,a=f.textNodes;t<a.length;t++){var u=a[t];u.style.link?l===u.style.link?d.push(u):(d.length&&(g+=i(d,l)),d=[u]):l?(d.length&&(g+=i(d,l)),d=[u]):d.push(u),l=u.style.link}return g+i(d,l)}(h)},"")}},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.blockStyleFromMinimize=n.minimizeBlockStyle=n.textNodeStyleFromMinimize=n.minimizeTextNodeStyle=void 0;var m=y(4);n.minimizeTextNodeStyle=function(o,h){function s(g,d){return g!==void 0&&g!==d}var f=s(o[m.Modifier.bold],h[m.Modifier.bold])|s(o[m.Modifier.italic],h[m.Modifier.italic])<<1|s(o[m.Modifier.underline],h[m.Modifier.underline])<<2|s(o[m.Modifier.strike],h[m.Modifier.strike])<<3,l={};return f!==0&&(l.f=f),o[m.Modifier.fontSize]&&(l.s=parseInt(o[m.Modifier.fontSize],10)),o[m.Modifier.fontFamily]&&(l.t=o[m.Modifier.fontFamily]),o[m.Modifier.color]&&(l.c=o[m.Modifier.color]),o[m.Modifier.background]&&(l.b=o[m.Modifier.background]),o[m.Modifier.link]&&(l.a=o[m.Modifier.link]),l},n.textNodeStyleFromMinimize=function(o,h){var s={};return o.f&&(1&o.f&&(s[m.Modifier.bold]=!h[m.Modifier.bold]),2&o.f&&(s[m.Modifier.italic]=!h[m.Modifier.italic]),4&o.f&&(s[m.Modifier.underline]=!h[m.Modifier.underline]),8&o.f&&(s[m.Modifier.strike]=!h[m.Modifier.strike])),o.s&&(s[m.Modifier.fontSize]=o.s+"px"),o.t&&(s[m.Modifier.fontFamily]=o.t),o.c&&(s[m.Modifier.color]=o.c),o.b&&(s[m.Modifier.background]=o.b),o.a&&(s[m.Modifier.link]=o.a),s};var b={left:1,center:2,right:3},p={1:"left",2:"center",3:"right"},i={h1:1,h2:2,h3:3,h4:4,h5:5,h6:6},e={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"};n.minimizeBlockStyle=function(o){var h={};if(o[m.Modifier.blockquote]&&(h.b=1),o[m.Modifier.style]){var s=i[o[m.Modifier.style]];s&&(h.s=s)}return o[m.Modifier.align]&&(h.a=b[o[m.Modifier.align]]),h},n.blockStyleFromMinimize=function(o){var h={};return o.a&&(h[m.Modifier.align]=p[o.a]),o.b&&(h[m.Modifier.blockquote]=!0),h[m.Modifier.style]=e[o.s]||"p",h}},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(t){for(var a,u=1,r=arguments.length;u<r;u++)for(var c in a=arguments[u])Object.prototype.hasOwnProperty.call(a,c)&&(t[c]=a[c]);return t},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.parser=void 0;var b=y(157),p=y(11),i=y(69),e=y(37),o=y(4);function h(t,a,u,r){var c;if(r===void 0&&(r={}),t.nodeName!=="BR")if(t.nodeType!==t.TEXT_NODE){var v={},x=t.style||{},w=x.fontSize,k=x.fontWeight,S=x.fontFamily,T=x.color,E=x.background,M=x.backgroundColor,O=x.textDecoration,I=x.fontStyle,D=function(st){var at,dt,Ct,B,W;switch(st.nodeName){case"B":case"STRONG":return(at={})[o.Modifier.bold]=!0,at;case"I":case"EM":return(dt={})[o.Modifier.italic]=!0,dt;case"U":return(Ct={})[o.Modifier.underline]=!0,Ct;case"STRIKE":case"S":return(B={})[o.Modifier.strike]=!0,B;case"A":return(W={})[o.Modifier.link]=st.href,W;default:return{}}}(t);if(w){var A=p.fontSizes[w];if(A)v[o.Modifier.fontSize]=A;else{var F=parseInt(w,10);if(F>0){w.endsWith("pt")&&(F=Math.round(1.33*F));for(var U=1/0,j=0;j<p.fontNumbers.length;j++){var $=Math.abs(p.fontNumbers[j]-F);$<U&&(U=$,A=p.fontNumbers[j])}v[o.Modifier.fontSize]=A+"px"}}v[o.Modifier.fontSize]=A+"px"}k&&(v[o.Modifier.bold]=k==="bold"||parseInt(k,10)>=600),S&&(v[o.Modifier.fontFamily]=p.fonts[S]?S:u[o.Modifier.fontFamily]),T&&(v[o.Modifier.color]=T),(E||M)&&(v[o.Modifier.background]=E||M),O==="underline"&&(v[o.Modifier.underline]=!0),O==="line-through"&&(v[o.Modifier.strike]=!0),I&&(v[o.Modifier.italic]=I==="italic");var q=m(m(m({},r),D),v);t.nodeName!=="A"||T||delete q[o.Modifier.color];var X=t.childNodes;for(j=0;j<X.length;j++)h(X[j],a,u,q)}else{var Q=(c=t.textContent)===null||c===void 0?void 0:c.replace(/&nbsp;/g," ").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/\n/g," ").replace(/\s+/g," ");if(!Q||Q.trim().length===0)return;var ft=new e.TextNode(Q,r);a.push(ft)}else a.push(new e.TextNode(`
`,r))}var s={P:"p",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",DIV:"-"},f={B:"bold",STRONG:"bold",I:"italic",EM:"italic",U:"underline",STRIKE:"strike",S:"strike",A:"link",BR:"br",SPAN:"-",SUB:"-",SUP:"-",TT:"-"};function l(t){if(!t||!t.style)return{};var a={};return t.style.textAlign&&(a[o.Modifier.align]=t.style.textAlign),t.nodeName==="BLOCKQUOTE"&&(a[o.Modifier.blockquote]=!0),a}function g(t){var a=t.textNodes[0];a.text&&a.text.trimStart&&(a.text=a.text.trimStart());var u=t.textNodes[t.textNodes.length-1];u.text&&u.text.trimEnd&&(u.text=u.text.trimEnd())}function d(t,a,u,r){var c,v,x;r===void 0&&(r={}),r=m(m({},r),l(t));var w=s[t.nodeName];if(w&&w!=="-"){var k=[];return h(t,k,u),g(O=new i.Block(k,m(m({},r),((c={})[o.Modifier.style]=s[t.nodeName],c)))),void a.push(O)}for(var S=t.childNodes,T=[],E=0;E<S.length;E++){var M=S[E];if(s[M.nodeName]){if(T.length>0){var O=new i.Block(T,m(m({},r),((v={})[o.Modifier.style]="p",v)));a.push(O),g(O),T=[]}d(M,a,u,r)}else(f[M.nodeName]||M.nodeType===t.TEXT_NODE)&&h(M,T,u)}T.length>0&&(O=new i.Block(T,m(m({},r),((x={})[o.Modifier.style]="p",x))),a.push(O),g(O),T=[])}n.parser=function(t,a,u){var r;a===void 0&&(a="html"),a==="markdown"&&(t=b(t));var c=document.createElement("div");c.innerHTML=t;var v=[];if(d(c,v,u),v.length===0){var x=m(((r={})[o.Modifier.style]=s[c.nodeName]||"p",r),l(c)),w=[];return h(c,w,u),[new i.Block(w,x)]}return v}},function(P,n,y){(function(m){(function(b){var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:r,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:r,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:r,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function i(k){this.tokens=[],this.tokens.links=Object.create(null),this.options=k||w.defaults,this.rules=p.normal,this.options.pedantic?this.rules=p.pedantic:this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}p._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,p._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,p.def=d(p.def).replace("label",p._label).replace("title",p._title).getRegex(),p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=d(p.item,"gm").replace(/bull/g,p.bullet).getRegex(),p.list=d(p.list).replace(/bull/g,p.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+p.def.source+")").getRegex(),p._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",p._comment=/<!--(?!-?>)[\s\S]*?-->/,p.html=d(p.html,"i").replace("comment",p._comment).replace("tag",p._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),p.paragraph=d(p.paragraph).replace("hr",p.hr).replace("heading",p.heading).replace("lheading",p.lheading).replace("tag",p._tag).getRegex(),p.blockquote=d(p.blockquote).replace("paragraph",p.paragraph).getRegex(),p.normal=c({},p),p.gfm=c({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=d(p.paragraph).replace("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|").getRegex(),p.tables=c({},p.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),p.pedantic=c({},p.normal,{html:d(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",p._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),i.rules=p,i.lex=function(k,S){return new i(S).lex(k)},i.prototype.lex=function(k){return k=k.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(k,!0)},i.prototype.token=function(k,S){var T,E,M,O,I,D,A,F,U,j,$,q,X,Q,ft,st;for(k=k.replace(/^ +$/gm,"");k;)if((M=this.rules.newline.exec(k))&&(k=k.substring(M[0].length),M[0].length>1&&this.tokens.push({type:"space"})),M=this.rules.code.exec(k))k=k.substring(M[0].length),M=M[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?M:x(M,`
`)});else if(M=this.rules.fences.exec(k))k=k.substring(M[0].length),this.tokens.push({type:"code",lang:M[2],text:M[3]||""});else if(M=this.rules.heading.exec(k))k=k.substring(M[0].length),this.tokens.push({type:"heading",depth:M[1].length,text:M[2]});else if(S&&(M=this.rules.nptable.exec(k))&&(D={type:"table",header:v(M[1].replace(/^ *| *\| *$/g,"")),align:M[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:M[3]?M[3].replace(/\n$/,"").split(`
`):[]}).header.length===D.align.length){for(k=k.substring(M[0].length),$=0;$<D.align.length;$++)/^ *-+: *$/.test(D.align[$])?D.align[$]="right":/^ *:-+: *$/.test(D.align[$])?D.align[$]="center":/^ *:-+ *$/.test(D.align[$])?D.align[$]="left":D.align[$]=null;for($=0;$<D.cells.length;$++)D.cells[$]=v(D.cells[$],D.header.length);this.tokens.push(D)}else if(M=this.rules.hr.exec(k))k=k.substring(M[0].length),this.tokens.push({type:"hr"});else if(M=this.rules.blockquote.exec(k))k=k.substring(M[0].length),this.tokens.push({type:"blockquote_start"}),M=M[0].replace(/^ *> ?/gm,""),this.token(M,S),this.tokens.push({type:"blockquote_end"});else if(M=this.rules.list.exec(k)){for(k=k.substring(M[0].length),A={type:"list_start",ordered:Q=(O=M[2]).length>1,start:Q?+O:"",loose:!1},this.tokens.push(A),F=[],T=!1,X=(M=M[0].match(this.rules.item)).length,$=0;$<X;$++)j=(D=M[$]).length,~(D=D.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf(`
 `)&&(j-=D.length,D=this.options.pedantic?D.replace(/^ {1,4}/gm,""):D.replace(new RegExp("^ {1,"+j+"}","gm"),"")),this.options.smartLists&&$!==X-1&&(O===(I=p.bullet.exec(M[$+1])[0])||O.length>1&&I.length>1||(k=M.slice($+1).join(`
`)+k,$=X-1)),E=T||/\n\n(?!\s*$)/.test(D),$!==X-1&&(T=D.charAt(D.length-1)===`
`,E||(E=T)),E&&(A.loose=!0),st=void 0,(ft=/^\[[ xX]\] /.test(D))&&(st=D[1]!==" ",D=D.replace(/^\[[ xX]\] +/,"")),U={type:"list_item_start",task:ft,checked:st,loose:E},F.push(U),this.tokens.push(U),this.token(D,!1),this.tokens.push({type:"list_item_end"});if(A.loose)for(X=F.length,$=0;$<X;$++)F[$].loose=!0;this.tokens.push({type:"list_end"})}else if(M=this.rules.html.exec(k))k=k.substring(M[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(M[1]==="pre"||M[1]==="script"||M[1]==="style"),text:M[0]});else if(S&&(M=this.rules.def.exec(k)))k=k.substring(M[0].length),M[3]&&(M[3]=M[3].substring(1,M[3].length-1)),q=M[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[q]||(this.tokens.links[q]={href:M[2],title:M[3]});else if(S&&(M=this.rules.table.exec(k))&&(D={type:"table",header:v(M[1].replace(/^ *| *\| *$/g,"")),align:M[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:M[3]?M[3].replace(/(?: *\| *)?\n$/,"").split(`
`):[]}).header.length===D.align.length){for(k=k.substring(M[0].length),$=0;$<D.align.length;$++)/^ *-+: *$/.test(D.align[$])?D.align[$]="right":/^ *:-+: *$/.test(D.align[$])?D.align[$]="center":/^ *:-+ *$/.test(D.align[$])?D.align[$]="left":D.align[$]=null;for($=0;$<D.cells.length;$++)D.cells[$]=v(D.cells[$].replace(/^ *\| *| *\| *$/g,""),D.header.length);this.tokens.push(D)}else if(M=this.rules.lheading.exec(k))k=k.substring(M[0].length),this.tokens.push({type:"heading",depth:M[2]==="="?1:2,text:M[1]});else if(S&&(M=this.rules.paragraph.exec(k)))k=k.substring(M[0].length),this.tokens.push({type:"paragraph",text:M[1].charAt(M[1].length-1)===`
`?M[1].slice(0,-1):M[1]});else if(M=this.rules.text.exec(k))k=k.substring(M[0].length),this.tokens.push({type:"text",text:M[0]});else if(k)throw new Error("Infinite loop on byte: "+k.charCodeAt(0));return this.tokens};var e={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:r,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\s.])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\s.])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:r,text:/^(`+|[^`])[\s\S]*?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function o(k,S){if(this.options=S||w.defaults,this.links=k,this.rules=e.normal,this.renderer=this.options.renderer||new h,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=e.pedantic:this.options.gfm&&(this.options.breaks?this.rules=e.breaks:this.rules=e.gfm)}function h(k){this.options=k||w.defaults}function s(){}function f(k){this.tokens=[],this.token=null,this.options=k||w.defaults,this.options.renderer=this.options.renderer||new h,this.renderer=this.options.renderer,this.renderer.options=this.options}function l(k,S){if(S){if(l.escapeTest.test(k))return k.replace(l.escapeReplace,function(T){return l.replacements[T]})}else if(l.escapeTestNoEncode.test(k))return k.replace(l.escapeReplaceNoEncode,function(T){return l.replacements[T]});return k}function g(k){return k.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(S,T){return(T=T.toLowerCase())==="colon"?":":T.charAt(0)==="#"?T.charAt(1)==="x"?String.fromCharCode(parseInt(T.substring(2),16)):String.fromCharCode(+T.substring(1)):""})}function d(k,S){return k=k.source||k,S=S||"",{replace:function(T,E){return E=(E=E.source||E).replace(/(^|[^\[])\^/g,"$1"),k=k.replace(T,E),this},getRegex:function(){return new RegExp(k,S)}}}function t(k,S,T){if(k){try{var E=decodeURIComponent(g(T)).replace(/[^\w:]/g,"").toLowerCase()}catch{return null}if(E.indexOf("javascript:")===0||E.indexOf("vbscript:")===0||E.indexOf("data:")===0)return null}S&&!u.test(T)&&(T=function(M,O){return a[" "+M]||(/^[^:]+:\/*[^/]*$/.test(M)?a[" "+M]=M+"/":a[" "+M]=x(M,"/",!0)),M=a[" "+M],O.slice(0,2)==="//"?M.replace(/:[\s\S]*/,":")+O:O.charAt(0)==="/"?M.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+O:M+O}(S,T));try{T=encodeURI(T).replace(/%25/g,"%")}catch{return null}return T}e._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,e._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,e._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,e.autolink=d(e.autolink).replace("scheme",e._scheme).replace("email",e._email).getRegex(),e._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,e.tag=d(e.tag).replace("comment",p._comment).replace("attribute",e._attribute).getRegex(),e._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,e._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f\\]*\)|[^\s\x00-\x1f()\\])*?)/,e._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,e.link=d(e.link).replace("label",e._label).replace("href",e._href).replace("title",e._title).getRegex(),e.reflink=d(e.reflink).replace("label",e._label).getRegex(),e.normal=c({},e),e.pedantic=c({},e.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:d(/^!?\[(label)\]\((.*?)\)/).replace("label",e._label).getRegex(),reflink:d(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",e._label).getRegex()}),e.gfm=c({},e.normal,{escape:d(e.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:d(e.text).replace("]|","~]|").replace("|$","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|$").getRegex()}),e.gfm.url=d(e.gfm.url).replace("email",e.gfm._extended_email).getRegex(),e.breaks=c({},e.gfm,{br:d(e.br).replace("{2,}","*").getRegex(),text:d(e.gfm.text).replace("{2,}","*").getRegex()}),o.rules=e,o.output=function(k,S,T){return new o(S,T).output(k)},o.prototype.output=function(k){for(var S,T,E,M,O,I,D="";k;)if(O=this.rules.escape.exec(k))k=k.substring(O[0].length),D+=O[1];else if(O=this.rules.autolink.exec(k))k=k.substring(O[0].length),E=O[2]==="@"?"mailto:"+(T=l(this.mangle(O[1]))):T=l(O[1]),D+=this.renderer.link(E,null,T);else if(this.inLink||!(O=this.rules.url.exec(k))){if(O=this.rules.tag.exec(k))!this.inLink&&/^<a /i.test(O[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(O[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(O[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(O[0])&&(this.inRawBlock=!1),k=k.substring(O[0].length),D+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(O[0]):l(O[0]):O[0];else if(O=this.rules.link.exec(k))k=k.substring(O[0].length),this.inLink=!0,E=O[2],this.options.pedantic?(S=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(E))?(E=S[1],M=S[3]):M="":M=O[3]?O[3].slice(1,-1):"",E=E.trim().replace(/^<([\s\S]*)>$/,"$1"),D+=this.outputLink(O,{href:o.escapes(E),title:o.escapes(M)}),this.inLink=!1;else if((O=this.rules.reflink.exec(k))||(O=this.rules.nolink.exec(k))){if(k=k.substring(O[0].length),S=(O[2]||O[1]).replace(/\s+/g," "),!(S=this.links[S.toLowerCase()])||!S.href){D+=O[0].charAt(0),k=O[0].substring(1)+k;continue}this.inLink=!0,D+=this.outputLink(O,S),this.inLink=!1}else if(O=this.rules.strong.exec(k))k=k.substring(O[0].length),D+=this.renderer.strong(this.output(O[4]||O[3]||O[2]||O[1]));else if(O=this.rules.em.exec(k))k=k.substring(O[0].length),D+=this.renderer.em(this.output(O[6]||O[5]||O[4]||O[3]||O[2]||O[1]));else if(O=this.rules.code.exec(k))k=k.substring(O[0].length),D+=this.renderer.codespan(l(O[2].trim(),!0));else if(O=this.rules.br.exec(k))k=k.substring(O[0].length),D+=this.renderer.br();else if(O=this.rules.del.exec(k))k=k.substring(O[0].length),D+=this.renderer.del(this.output(O[1]));else if(O=this.rules.text.exec(k))k=k.substring(O[0].length),this.inRawBlock?D+=this.renderer.text(O[0]):D+=this.renderer.text(l(this.smartypants(O[0])));else if(k)throw new Error("Infinite loop on byte: "+k.charCodeAt(0))}else{if(O[2]==="@")E="mailto:"+(T=l(O[0]));else{do I=O[0],O[0]=this.rules._backpedal.exec(O[0])[0];while(I!==O[0]);T=l(O[0]),E=O[1]==="www."?"http://"+T:T}k=k.substring(O[0].length),D+=this.renderer.link(E,null,T)}return D},o.escapes=function(k){return k&&k.replace(o.rules._escapes,"$1")},o.prototype.outputLink=function(k,S){var T=S.href,E=S.title?l(S.title):null;return k[0].charAt(0)!=="!"?this.renderer.link(T,E,this.output(k[1])):this.renderer.image(T,E,l(k[1]))},o.prototype.smartypants=function(k){return this.options.smartypants?k.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026"):k},o.prototype.mangle=function(k){if(!this.options.mangle)return k;for(var S,T="",E=k.length,M=0;M<E;M++)S=k.charCodeAt(M),Math.random()>.5&&(S="x"+S.toString(16)),T+="&#"+S+";";return T},h.prototype.code=function(k,S,T){if(this.options.highlight){var E=this.options.highlight(k,S);E!=null&&E!==k&&(T=!0,k=E)}return S?'<pre><code class="'+this.options.langPrefix+l(S,!0)+'">'+(T?k:l(k,!0))+`</code></pre>
`:"<pre><code>"+(T?k:l(k,!0))+"</code></pre>"},h.prototype.blockquote=function(k){return`<blockquote>
`+k+`</blockquote>
`},h.prototype.html=function(k){return k},h.prototype.heading=function(k,S,T){return this.options.headerIds?"<h"+S+' id="'+this.options.headerPrefix+T.toLowerCase().replace(/[^\w]+/g,"-")+'">'+k+"</h"+S+`>
`:"<h"+S+">"+k+"</h"+S+`>
`},h.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},h.prototype.list=function(k,S,T){var E=S?"ol":"ul";return"<"+E+(S&&T!==1?' start="'+T+'"':"")+`>
`+k+"</"+E+`>
`},h.prototype.listitem=function(k){return"<li>"+k+`</li>
`},h.prototype.checkbox=function(k){return"<input "+(k?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},h.prototype.paragraph=function(k){return"<p>"+k+`</p>
`},h.prototype.table=function(k,S){return S&&(S="<tbody>"+S+"</tbody>"),`<table>
<thead>
`+k+`</thead>
`+S+`</table>
`},h.prototype.tablerow=function(k){return`<tr>
`+k+`</tr>
`},h.prototype.tablecell=function(k,S){var T=S.header?"th":"td";return(S.align?"<"+T+' align="'+S.align+'">':"<"+T+">")+k+"</"+T+`>
`},h.prototype.strong=function(k){return"<strong>"+k+"</strong>"},h.prototype.em=function(k){return"<em>"+k+"</em>"},h.prototype.codespan=function(k){return"<code>"+k+"</code>"},h.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},h.prototype.del=function(k){return"<del>"+k+"</del>"},h.prototype.link=function(k,S,T){if((k=t(this.options.sanitize,this.options.baseUrl,k))===null)return T;var E='<a href="'+l(k)+'"';return S&&(E+=' title="'+S+'"'),E+=">"+T+"</a>"},h.prototype.image=function(k,S,T){if((k=t(this.options.sanitize,this.options.baseUrl,k))===null)return T;var E='<img src="'+k+'" alt="'+T+'"';return S&&(E+=' title="'+S+'"'),E+=this.options.xhtml?"/>":">"},h.prototype.text=function(k){return k},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(k){return k},s.prototype.link=s.prototype.image=function(k,S,T){return""+T},s.prototype.br=function(){return""},f.parse=function(k,S){return new f(S).parse(k)},f.prototype.parse=function(k){this.inline=new o(k.links,this.options),this.inlineText=new o(k.links,c({},this.options,{renderer:new s})),this.tokens=k.reverse();for(var S="";this.next();)S+=this.tok();return S},f.prototype.next=function(){return this.token=this.tokens.pop()},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var k=this.token.text;this.peek().type==="text";)k+=`
`+this.next().text;return this.inline.output(k)},f.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,g(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var k,S,T,E,M="",O="";for(T="",k=0;k<this.token.header.length;k++)T+=this.renderer.tablecell(this.inline.output(this.token.header[k]),{header:!0,align:this.token.align[k]});for(M+=this.renderer.tablerow(T),k=0;k<this.token.cells.length;k++){for(S=this.token.cells[k],T="",E=0;E<S.length;E++)T+=this.renderer.tablecell(this.inline.output(S[E]),{header:!1,align:this.token.align[E]});O+=this.renderer.tablerow(T)}return this.renderer.table(M,O);case"blockquote_start":for(O="";this.next().type!=="blockquote_end";)O+=this.tok();return this.renderer.blockquote(O);case"list_start":O="";for(var I=this.token.ordered,D=this.token.start;this.next().type!=="list_end";)O+=this.tok();return this.renderer.list(O,I,D);case"list_item_start":O="";var A=this.token.loose;for(this.token.task&&(O+=this.renderer.checkbox(this.token.checked));this.next().type!=="list_item_end";)O+=A||this.token.type!=="text"?this.tok():this.parseText();return this.renderer.listitem(O);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},l.escapeTest=/[&<>"']/,l.escapeReplace=/[&<>"']/g,l.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,l.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var a={},u=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function r(){}function c(k){for(var S,T,E=1;E<arguments.length;E++)for(T in S=arguments[E])Object.prototype.hasOwnProperty.call(S,T)&&(k[T]=S[T]);return k}function v(k,S){var T=k.replace(/\|/g,function(M,O,I){for(var D=!1,A=O;--A>=0&&I[A]==="\\";)D=!D;return D?"|":" |"}).split(/ \|/),E=0;if(T.length>S)T.splice(S);else for(;T.length<S;)T.push("");for(;E<T.length;E++)T[E]=T[E].trim().replace(/\\\|/g,"|");return T}function x(k,S,T){if(k.length===0)return"";for(var E=0;E<k.length;){var M=k.charAt(k.length-E-1);if(M!==S||T){if(M===S||!T)break;E++}else E++}return k.substr(0,k.length-E)}function w(k,S,T){if(k==null)throw new Error("marked(): input parameter is undefined or null");if(typeof k!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(k)+", string expected");if(T||typeof S=="function"){T||(T=S,S=null);var E,M,O=(S=c({},w.defaults,S||{})).highlight,I=0;try{E=i.lex(k,S)}catch(A){return T(A)}M=E.length;var D=function(A){if(A)return S.highlight=O,T(A);var F;try{F=f.parse(E,S)}catch(U){A=U}return S.highlight=O,A?T(A):T(null,F)};if(!O||O.length<3||(delete S.highlight,!M))return D();for(;I<E.length;I++)(function(A){A.type!=="code"?--M||D():O(A.text,A.lang,function(F,U){return F?D(F):U==null||U===A.text?--M||D():(A.text=U,A.escaped=!0,void(--M||D()))})})(E[I])}else try{return S&&(S=c({},w.defaults,S)),f.parse(i.lex(k,S),S)}catch(A){if(A.message+=`
Please report this to https://github.com/markedjs/marked.`,(S||w.defaults).silent)return"<p>An error occurred:</p><pre>"+l(A.message+"",!0)+"</pre>";throw A}}r.exec=r,w.options=w.setOptions=function(k){return c(w.defaults,k),w},w.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new h,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},w.defaults=w.getDefaults(),w.Parser=f,w.parser=f.parse,w.Renderer=h,w.TextRenderer=s,w.Lexer=i,w.lexer=i.lex,w.InlineLexer=o,w.inlineLexer=o.output,w.parse=w,P.exports=w})()}).call(this,y(22))},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.Manager=void 0;var m=y(159),b=y(4),p=function(){function i(e){this._editor=e,this.clearChanges(),this._buffer=new m.TextBuffer(this._editor)}return i.prototype.execute=function(e){var o,h=this;switch(this._inactionTimer&&(clearTimeout(this._inactionTimer),this._inactionTimer=null),this._inactionTimer=setTimeout(function(){h._editor.selection.isActive()&&h._editor.balance(),h._inactionTimer=null},5e3),e.action){case b.Action.parse:return o=this._editor.parse(e.data.value,e.data.mode),this.clearChanges(),!0;case b.Action.add:o=this._editor.add(e.data);break;case b.Action.innerAdd:if(typeof e.data=="string")o=this._editor.add(e.data);else{var s=e.data,f=s.data;switch(s.type){case"text":o=this._editor.add(f);break;case"full":o=this._editor.paste(JSON.stringify(f),"inner");break;case"textnode":o=this._editor.paste(JSON.stringify([{textNodes:[f],style:{}}]),"inner")}}break;case b.Action.remove:o=this._editor.remove(e.data);break;case b.Action.update:o=this._editor.update(e.data);break;case b.Action.clear:o=this._editor.clearStyles();break;case b.Action.paste:o=this._buffer.paste(e.data);break;case b.Action.cut:o=this._buffer.cut(e.data);break;case b.Action.copy:return this._buffer.copy(e.data),!0;case b.Action.selectAll:}return o?(this._change(),!0):e.action===b.Action.undo?this.undo():e.action===b.Action.redo&&this.redo()},i.prototype.canUndo=function(){return this._changes.prev!==null},i.prototype.canRedo=function(){return this._changes.next!==null},i.prototype.undo=function(){var e=this._changes.prev;return!!e&&(this._editor.setState(e.state),this._changes=e,!0)},i.prototype.redo=function(){var e=this._changes.next;return!!e&&(this._editor.setState(e.state),this._changes=e,!0)},i.prototype.clearChanges=function(){this._changes={prev:null,next:null,state:this._editor.getState()}},i.prototype._change=function(){var e={prev:this._changes,next:null,state:this._editor.getState()};this._changes.next=e,this._changes=e},i}();n.Manager=p},function(P,n,y){Object.defineProperty(n,"__esModule",{value:!0}),n.TextBuffer=void 0;var m=y(70),b=function(){function p(i){this._editor=i}return p.prototype.copy=function(i){i.preventDefault();var e=this._editor.copy();return this._setBuffer(i,e)},p.prototype.cut=function(i){i.preventDefault();var e=this._editor.cut();return this._setBuffer(i,e)},p.prototype.paste=function(i){var e;if(i.preventDefault(),(e=i.clipboardData?i.clipboardData.getData("text/plain"):window.clipboardData.getData("text"))===this._rawText)return this._editor.paste(this._editorContent,"inner");var o=function(h){if(h.clipboardData)return h.clipboardData.types.includes("text/html")?h.clipboardData.getData("text/html"):void 0}(i);return o?this._editor.paste(o,"html"):this._editor.paste(e,"text")},p.prototype._setBuffer=function(i,e){return!!e&&(this._rawText=e.raw,this._editorContent=JSON.stringify(e.content),i.clipboardData?(i.clipboardData.setData("text/plain",e.raw),i.clipboardData.setData("text/html",(0,m.serializer)(e.content))):window.clipboardData.setData("text",e.raw),!0)},p}();n.TextBuffer=b},function(P,n,y){(function(m){var b=this&&this.__assign||function(){return b=Object.assign||function(f){for(var l,g=1,d=arguments.length;g<d;g++)for(var t in l=arguments[g])Object.prototype.hasOwnProperty.call(l,t)&&(f[t]=l[t]);return f},b.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionHelper=void 0;var p=y(2),i=y(9),e=y(161),o=y(4);function h(f){var l={},g=f.getBoundingClientRect();return g.height===0&&(g=f.getClientRects()[0]),l.xStart=g.left+window.pageXOffset,l.yStart=g.top+window.pageYOffset,f.collapse(!1),g=f.getClientRects()[0],l.xEnd=g.left+window.pageXOffset,l.yEnd=g.top+window.pageYOffset,l}var s=function(){function f(l,g,d){var t=this;this._selectionChange=function(){if(t.isActive()){if(t._selectedText=window.getSelection().toString(),t._ignoreSelection)return;var a=(0,e.stateFromDom)(t._editor);if((0,i.isEqual)(a,t._state,!0))return;t._state=a,t._events.fire(o.RichTextEvents.selectionChange,[a])}},this._events=d,this._uid=g,this._editor=l,this.clear(),this._initEvents()}return f.prototype.clear=function(){this._state={range:!1,left:{blockIndex:0,textIndex:0,offset:0}},this._waitUpdate=!0},f.prototype.set=function(l){this._state=l,this._waitUpdate=!0},f.prototype.get=function(){return this._state},f.prototype.getCompact=function(){var l=this._state,g=[[l.left.blockIndex,l.left.textIndex,l.left.offset]];return this._state.range&&g.push([l.right.blockIndex,l.right.textIndex,l.right.offset]),g},f.prototype.setCompact=function(l){var g={left:{blockIndex:l[0][0],textIndex:l[0][1],offset:l[0][2]},range:l.length===2};g.range&&(g.right={blockIndex:l[1][0],textIndex:l[1][1],offset:l[1][2]}),this.set(g)},f.prototype.getPosition=function(l){var g=this;return new m(function(d){if(!g._waitUpdate){var t=g._createRange(l);d(h(t))}var a=new Date;g._events.on(o.RichTextEvents.selectionRefresh,function(){g._events.detach(o.RichTextEvents.selectionRefresh,a);var u=g._createRange(l);d(h(u))},a)})},f.prototype.destructor=function(){document.removeEventListener("selectionchange",this._selectionChange)},f.prototype.isActive=function(){var l=window.getSelection().anchorNode;return(0,p.locate)(l,"dhx_widget_id")===this._uid},f.prototype.isFull=function(){var l=this._state,g=l.left,d=l.right;if(!l.range)return!1;var t=this._editor.blocks.length-1,a=this._editor.blocks[t].getBlockEnd();return g.blockIndex===0&&g.textIndex===0&&g.offset===0&&d.blockIndex===t&&d.textIndex===a.textIndex&&d.offset===a.offset},f.prototype.update=function(){return!this._waitUpdate||this.refresh()},f.prototype.getSelectedText=function(){return this._selectedText},f.prototype.selectAll=function(){var l=this._editor.blocks;this._state={range:!0,left:{blockIndex:0,textIndex:0,offset:0},right:b({blockIndex:l.length-1},l[l.length-1].getBlockEnd())}},f.prototype.refresh=function(){var l,g=this,d=this._state,t=d.left,a=d.right,u=d.range,r=window.getSelection();if(!r)return!1;this._ignoreSelectionTimeout&&clearTimeout(this._ignoreSelectionTimeout),this._ignoreSelection=!0,this._ignoreSelectionTimeout=setTimeout(function(){g._ignoreSelection=!1,g._ignoreSelectionTimeout=null},5),r.rangeCount>0?(l=r.getRangeAt(0),r.removeAllRanges()):l=document.createRange();var c,v=this._editor.getTextElement(t.blockIndex,t.textIndex);if(!v)return!1;if(l.setStart(v,Math.min(t.offset,v.length)),u){if(!(c=this._editor.getTextElement(a.blockIndex,a.textIndex)))return!1;l.setEnd(c,Math.min(a.offset,c.length))}else l.setEnd(v,Math.min(t.offset,v.length));return r.addRange(l),this._waitUpdate=!1,this._events.fire(o.RichTextEvents.selectionRefresh,[]),!0},f.prototype._initEvents=function(){document.addEventListener("selectionchange",this._selectionChange)},f.prototype._createRange=function(l){var g=l.left,d=l.right,t=document.createRange(),a=this._editor.getTextElement(g.blockIndex,g.textIndex);if(t.setStart(a,g.offset),l.range){var u=this._editor.getTextElement(d.blockIndex,d.textIndex);t.setEnd(u,d.offset)}else t.setEnd(a,g.offset);return t},f}();n.SelectionHelper=s}).call(this,y(10))},function(P,n,y){var m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var e,o=1,h=arguments.length;o<h;o++)for(var s in e=arguments[o])Object.prototype.hasOwnProperty.call(e,s)&&(i[s]=e[s]);return i},m.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.stateFromDom=void 0;var b=y(2),p=y(9);n.stateFromDom=function(i){var e,o,h=window.getSelection(),s=h.anchorNode,f=h.anchorOffset,l=h.focusNode,g=h.focusOffset,d=h.isCollapsed,t=s,a=l,u=f,r=g;(function(){var S=window.getSelection(),T=S.anchorNode,E=S.focusNode,M=S.anchorOffset,O=S.focusOffset,I=document.createRange();return I.setStart(T,M),I.setEnd(E,O),I.collapsed})()&&(t=(e=[a,t])[0],a=e[1],u=(o=[r,u])[0],r=o[1]);var c,v=(0,b.locate)(t,"dhx_offset"),x=(0,b.locate)(a,"dhx_offset"),w=(0,p.hashToInfo)(v),k=(0,p.hashToInfo)(x);return c=w.length===2?t.nodeType===3?{blockIndex:w[0],textIndex:w[1],offset:u}:{blockIndex:w[0],textIndex:w[1],offset:i.blocks[w[0]].textNodes[w[1]].text.length}:w.length===1?i.blocks[w[0]].textNodes[u]?{blockIndex:w[0],textIndex:u,offset:0}:{blockIndex:w[0],textIndex:u-1,offset:i.blocks[w[0]].textNodes[u-1].text.length}:{blockIndex:u,textIndex:0,offset:0},d?{range:!1,left:c}:{left:c,right:k.length===2?a.nodeType===3?{blockIndex:k[0],textIndex:k[1],offset:r}:{blockIndex:k[0],textIndex:k[1],offset:i.blocks[k[0]].textNodes[k[1]].text.length}:k.length===1?r===0?m({blockIndex:k[0]-1},i.blocks[k[0]-1].getBlockEnd()):{blockIndex:k[0],textIndex:r-1,offset:i.blocks[k[0]].textNodes[r-1].text.length}:m({blockIndex:r-1},i.blocks[r-1].getBlockEnd()),range:!0}}},function(P,n,y){y.r(n);var m=y(71);location.hostname.includes("dhtmlx.com")||location.hostname.includes("dhtmlxcode.com")||location.hostname.includes("webixcode.com")||location.hostname.includes("webix.io/dev/dhtmlx")||location.hostname.includes("replit.com/@dhtmlx")||location.origin.endsWith("csb.app")||(window.onload=function(){var b;function p(){(b=document.createElement("div")).addEventListener("click",function(){document.body.removeChild(b),window.open("https://dhtmlx.com/docs/products/dhtmlxRichText/download.shtml","_blank")});var i=new m.CssManager,e=i.add({display:"block !important",background:"#ff5252 !important",color:"white !important",padding:"12px",position:"absolute !important",maxWidth:"260px",top:"2% !important",right:"2% !important",fontSize:"14px !important",boxShadow:"0 1px 6px rgba(0,0,0,.1), 0 10px 20px rgba(0,0,0,.1)",cursor:"pointer",borderRadius:"2px",fontFamily:"Roboto",zIndex:2500});i.add({content:'"This version of DHTMLX RichText is intended for demonstration only. Download an official evaluation version to try DHTMLX RichText in your project." !important',fontSize:"14px !important",background:"#ff5252 !important",color:"white !important"},`${e}:after`),b.classList.add(e),document.body.appendChild(b)}setInterval(function(){var i=window.getComputedStyle(b,":after");i&&i.getPropertyValue("content")&&i.getPropertyValue("content")!=="none"||p()},6e4),p()})}])}),window.dhx_legacy){if(window.dhx)for(var R in dhx)if(R==="i18n")for(var H in dhx[R])window.dhx_legacy[R][H]=dhx[R][H];else dhx_legacy[R]=dhx[R];window.dhx=dhx_legacy,delete window.dhx_legacy}})(sr);const ar=(_,C)=>{const R=_.__vccOpts||_;for(const[H,P]of C)R[H]=P;return R},yl={props:["initText"],data(){return{richtext:null}},mounted(){this.richtext=new sr.exports.Richtext(this.$refs.cont,{}),this.richtext.setValue(this.initText,"markdown")},unmounted(){var _;(_=this.richtext)==null||_.destructor(),this.$refs.cont.innerHTML=""},watch:{initText(_){var C;(C=this.richtext)==null||C.setValue(_,"markdown")}}},xl={ref:"cont",style:{width:"100%",height:"100%"}};function bl(_,C,R,H,P,n){return tr(),Pa("div",xl,null,512)}const wl=ar(yl,[["render",bl]]);function kl(){return`# Meet DHTMLX Rich Text Editor! 
This JavaScript rich text editor is highly customizable. It makes text editing quick and comfortable due to the inbuilt set of handy formatting tools. 
Besides, it will convert your text into HTML or Markdown in the blink of an eye. Another bonus of DHTMLX Rich Text is its flexible configuration settings which allow you to fine-tune the look and feel of the editor without effort. 
To learn more, read our [documentation](https://docs.dhtmlx.com/richtext/index.html) and check the [samples](https://snippet.dhtmlx.com/57v7n2kp?tag=richtext).`}const Cl={components:{Richtext:wl},data(){return{initText:kl()}}};function El(_,C,R,H,P,n){const y=ua("Richtext");return tr(),Ra(y,{initText:P.initText},null,8,["initText"])}const Sl=ar(Cl,[["render",El]]);vl(Sl).mount("#root");
